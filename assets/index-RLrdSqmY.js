(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var zf={exports:{}},kl={};var Sy;function fT(){if(Sy)return kl;Sy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var Ay;function dT(){return Ay||(Ay=1,zf.exports=fT()),zf.exports}var M=dT(),Lf={exports:{}},St={};var by;function mT(){if(by)return St;by=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),U=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,J={};function lt(O,Y,nt){this.props=O,this.context=Y,this.refs=J,this.updater=nt||W}lt.prototype.isReactComponent={},lt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},lt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function gt(){}gt.prototype=lt.prototype;function it(O,Y,nt){this.props=O,this.context=Y,this.refs=J,this.updater=nt||W}var _t=it.prototype=new gt;_t.constructor=it,$(_t,lt.prototype),_t.isPureReactComponent=!0;var bt=Array.isArray;function Ct(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function w(O,Y,nt){var st=nt.ref;return{$$typeof:r,type:O,key:Y,ref:st!==void 0?st:null,props:nt}}function x(O,Y){return w(O.type,Y,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function D(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Y[nt]})}var R=/\/+/g;function Pt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):Y.toString(36)}function ue(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ct,Ct):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Y,nt,st,Et){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Ot=!1;if(O===null)Ot=!0;else switch(Rt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(O.$$typeof){case r:case e:Ot=!0;break;case S:return Ot=O._init,H(Ot(O._payload),Y,nt,st,Et)}}if(Ot)return Et=Et(O),Ot=st===""?"."+Pt(O,0):st,bt(Et)?(nt="",Ot!=null&&(nt=Ot.replace(R,"$&/")+"/"),H(Et,Y,nt,"",function(Ze){return Ze})):Et!=null&&(V(Et)&&(Et=x(Et,nt+(Et.key==null||O&&O.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+Ot)),Y.push(Et)),1;Ot=0;var pt=st===""?".":st+":";if(bt(O))for(var ht=0;ht<O.length;ht++)st=O[ht],Rt=pt+Pt(st,ht),Ot+=H(st,Y,nt,Rt,Et);else if(ht=G(O),typeof ht=="function")for(O=ht.call(O),ht=0;!(st=O.next()).done;)st=st.value,Rt=pt+Pt(st,ht++),Ot+=H(st,Y,nt,Rt,Et);else if(Rt==="object"){if(typeof O.then=="function")return H(ue(O),Y,nt,st,Et);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function tt(O,Y,nt){if(O==null)return O;var st=[],Et=0;return H(O,st,"","",function(Rt){return Y.call(nt,Rt,Et++)}),st}function ct(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Vt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:tt,forEach:function(O,Y,nt){tt(O,function(){Y.apply(this,arguments)},nt)},count:function(O){var Y=0;return tt(O,function(){Y++}),Y},toArray:function(O){return tt(O,function(Y){return Y})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=b,St.Children=Gt,St.Component=lt,St.Fragment=i,St.Profiler=u,St.PureComponent=it,St.StrictMode=s,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,Y,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=$({},O.props),Et=O.key;if(Y!=null)for(Rt in Y.key!==void 0&&(Et=""+Y.key),Y)!A.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(st[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)st.children=nt;else if(1<Rt){for(var Ot=Array(Rt),pt=0;pt<Rt;pt++)Ot[pt]=arguments[pt+2];st.children=Ot}return w(O.type,Et,st)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},St.createElement=function(O,Y,nt){var st,Et={},Rt=null;if(Y!=null)for(st in Y.key!==void 0&&(Rt=""+Y.key),Y)A.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(Et[st]=Y[st]);var Ot=arguments.length-2;if(Ot===1)Et.children=nt;else if(1<Ot){for(var pt=Array(Ot),ht=0;ht<Ot;ht++)pt[ht]=arguments[ht+2];Et.children=pt}if(O&&O.defaultProps)for(st in Ot=O.defaultProps,Ot)Et[st]===void 0&&(Et[st]=Ot[st]);return w(O,Rt,Et)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:y,render:O}},St.isValidElement=V,St.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ct}},St.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},St.startTransition=function(O){var Y=C.T,nt={};C.T=nt;try{var st=O(),Et=C.S;Et!==null&&Et(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ct,Vt)}catch(Rt){Vt(Rt)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),C.T=Y}},St.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},St.use=function(O){return C.H.use(O)},St.useActionState=function(O,Y,nt){return C.H.useActionState(O,Y,nt)},St.useCallback=function(O,Y){return C.H.useCallback(O,Y)},St.useContext=function(O){return C.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},St.useEffect=function(O,Y){return C.H.useEffect(O,Y)},St.useEffectEvent=function(O){return C.H.useEffectEvent(O)},St.useId=function(){return C.H.useId()},St.useImperativeHandle=function(O,Y,nt){return C.H.useImperativeHandle(O,Y,nt)},St.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},St.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},St.useMemo=function(O,Y){return C.H.useMemo(O,Y)},St.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},St.useReducer=function(O,Y,nt){return C.H.useReducer(O,Y,nt)},St.useRef=function(O){return C.H.useRef(O)},St.useState=function(O){return C.H.useState(O)},St.useSyncExternalStore=function(O,Y,nt){return C.H.useSyncExternalStore(O,Y,nt)},St.useTransition=function(){return C.H.useTransition()},St.version="19.2.0",St}var Ry;function vd(){return Ry||(Ry=1,Lf.exports=mT()),Lf.exports}var dt=vd(),jf={exports:{}},Hl={},Bf={exports:{}},qf={};var Cy;function gT(){return Cy||(Cy=1,(function(r){function e(H,tt){var ct=H.length;H.push(tt);t:for(;0<ct;){var Vt=ct-1>>>1,Gt=H[Vt];if(0<u(Gt,tt))H[Vt]=tt,H[ct]=Gt,ct=Vt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],ct=H.pop();if(ct!==tt){H[0]=ct;t:for(var Vt=0,Gt=H.length,O=Gt>>>1;Vt<O;){var Y=2*(Vt+1)-1,nt=H[Y],st=Y+1,Et=H[st];if(0>u(nt,ct))st<Gt&&0>u(Et,nt)?(H[Vt]=Et,H[st]=ct,Vt=st):(H[Vt]=nt,H[Y]=ct,Vt=Y);else if(st<Gt&&0>u(Et,ct))H[Vt]=Et,H[st]=ct,Vt=st;else break t}}return tt}function u(H,tt){var ct=H.sortIndex-tt.sortIndex;return ct!==0?ct:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,b=null,U=3,G=!1,W=!1,$=!1,J=!1,lt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function _t(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=H)s(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function bt(H){if($=!1,_t(H),!W)if(i(v)!==null)W=!0,Ct||(Ct=!0,D());else{var tt=i(_);tt!==null&&ue(bt,tt.startTime-H)}}var Ct=!1,C=-1,A=5,w=-1;function x(){return J?!0:!(r.unstable_now()-w<A)}function V(){if(J=!1,Ct){var H=r.unstable_now();w=H;var tt=!0;try{t:{W=!1,$&&($=!1,gt(C),C=-1),G=!0;var ct=U;try{e:{for(_t(H),b=i(v);b!==null&&!(b.expirationTime>H&&x());){var Vt=b.callback;if(typeof Vt=="function"){b.callback=null,U=b.priorityLevel;var Gt=Vt(b.expirationTime<=H);if(H=r.unstable_now(),typeof Gt=="function"){b.callback=Gt,_t(H),tt=!0;break e}b===i(v)&&s(v),_t(H)}else s(v);b=i(v)}if(b!==null)tt=!0;else{var O=i(_);O!==null&&ue(bt,O.startTime-H),tt=!1}}break t}finally{b=null,U=ct,G=!1}tt=void 0}}finally{tt?D():Ct=!1}}}var D;if(typeof it=="function")D=function(){it(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Pt=R.port2;R.port1.onmessage=V,D=function(){Pt.postMessage(null)}}else D=function(){lt(V,0)};function ue(H,tt){C=lt(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return U},r.unstable_next=function(H){switch(U){case 1:case 2:case 3:var tt=3;break;default:tt=U}var ct=U;U=tt;try{return H()}finally{U=ct}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=U;U=H;try{return tt()}finally{U=ct}},r.unstable_scheduleCallback=function(H,tt,ct){var Vt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Vt+ct:Vt):ct=Vt,H){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ct+Gt,H={id:S++,callback:tt,priorityLevel:H,startTime:ct,expirationTime:Gt,sortIndex:-1},ct>Vt?(H.sortIndex=ct,e(_,H),i(v)===null&&H===i(_)&&($?(gt(C),C=-1):$=!0,ue(bt,ct-Vt))):(H.sortIndex=Gt,e(v,H),W||G||(W=!0,Ct||(Ct=!0,D()))),H},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(H){var tt=U;return function(){var ct=U;U=tt;try{return H.apply(this,arguments)}finally{U=ct}}}})(qf)),qf}var wy;function pT(){return wy||(wy=1,Bf.exports=gT()),Bf.exports}var Pf={exports:{}},Fe={};var Ny;function yT(){if(Ny)return Fe;Ny=1;var r=vd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,S)},Fe.flushSync=function(v){var _=d.T,S=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=S,s.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,b=y(S,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:U,fetchPriority:G}):S==="script"&&s.d.X(v,{crossOrigin:b,integrity:U,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,b=y(S,_.crossOrigin);s.d.L(v,S,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Fe.requestFormReset=function(v){s.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.0",Fe}var Dy;function _T(){if(Dy)return Pf.exports;Dy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pf.exports=yT(),Pf.exports}var Vy;function vT(){if(Vy)return Hl;Vy=1;var r=pT(),e=vd(),i=_T();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,U=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case lt:return"Profiler";case J:return"StrictMode";case bt:return"Suspense";case Ct:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case it:return t.displayName||"Context";case gt:return(t._context.displayName||"Context")+".Consumer";case _t:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Pt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Pt(t(n))}catch{}}return null}var ue=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Vt=[],Gt=-1;function O(t){return{current:t}}function Y(t){0>Gt||(t.current=Vt[Gt],Vt[Gt]=null,Gt--)}function nt(t,n){Gt++,Vt[Gt]=t.current,t.current=n}var st=O(null),Et=O(null),Rt=O(null),Ot=O(null);function pt(t,n){switch(nt(Rt,n),nt(Et,t),nt(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Qp(n),t=Fp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(st),nt(st,t)}function ht(){Y(st),Y(Et),Y(Rt)}function Ze(t){t.memoizedState!==null&&nt(Ot,t);var n=st.current,a=Fp(n,t.type);n!==a&&(nt(Et,t),nt(st,a))}function On(t){Et.current===t&&(Y(st),Y(Et)),Ot.current===t&&(Y(Ot),jl._currentValue=ct)}var Ki,Cs;function Kn(t){if(Ki===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ki=n&&n[1]||"",Cs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ki+t+Cs}var jr=!1;function ka(t,n){if(!t||jr)return"";jr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var q=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){q=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){q=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&q&&typeof k.stack=="string")return[k.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),B=E.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===B.length)for(l=N.length-1,c=B.length-1;1<=l&&0<=c&&N[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==B[c]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{jr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Kn(a):""}function Br(t,n){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return ka(t.type,!1);case 11:return ka(t.type.render,!1);case 1:return ka(t.type,!0);case 31:return Kn("Activity");default:return""}}function qr(t){try{var n="",a=null;do n+=Br(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,Xi=r.unstable_cancelCallback,Lc=r.unstable_shouldYield,gu=r.unstable_requestPaint,Je=r.unstable_now,Ha=r.unstable_getCurrentPriorityLevel,Pr=r.unstable_ImmediatePriority,kr=r.unstable_UserBlockingPriority,Zi=r.unstable_NormalPriority,jc=r.unstable_LowPriority,pu=r.unstable_IdlePriority,yu=r.log,_u=r.unstable_setDisableYieldValue,xn=null,Le=null;function _n(t){if(typeof yu=="function"&&_u(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(xn,t)}catch{}}var fe=Math.clz32?Math.clz32:Eu,vu=Math.log,ws=Math.LN2;function Eu(t){return t>>>=0,t===0?32:31-(vu(t)/ws|0)|0}var Xn=256,Ga=262144,_e=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Zn(l):(g&=E,g!==0?c=Zn(g):a||(a=E&~t,a!==0&&(c=Zn(a))))):(E=l&~f,E!==0?c=Zn(E):g!==0?c=Zn(g):a||(a=l&~t,a!==0&&(c=Zn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Un(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function $n(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Qa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-fe(a),K=1<<Q;E[Q]=0,N[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var k=q[Q];k!==null&&(k.lane&=-536870913)}a&=~K}l!==0&&Fa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Fa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Hr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Gr(t,n){var a=n&-n;return a=(a&42)!==0?1:Ya(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ya(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Su(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:gy(t.type))}function zn(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var Ln=Math.random().toString(36).slice(2),ve="__reactFiber$"+Ln,Me="__reactProps$"+Ln,Wn="__reactContainer$"+Ln,Ns="__reactEvents$"+Ln,Pc="__reactListeners$"+Ln,Au="__reactHandles$"+Ln,bu="__reactResources$"+Ln,ti="__reactMarker$"+Ln;function Ds(t){delete t[ve],delete t[Me],delete t[Ns],delete t[Pc],delete t[Au]}function ei(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Wp(t);t!==null;){if(a=t[ve])return a;t=Wp(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[ve]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function on(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ni(t){var n=t[bu];return n||(n=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[ti]=!0}var Qr=new Set,Fr={};function ii(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(Fr[t]=n,t=0;t<n.length;t++)Qr.add(n[t])}var Yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kr={},Xr={};function Ru(t){return ye.call(Xr,t)?!0:ye.call(Kr,t)?!1:Yr.test(t)?Xr[t]=!0:(Kr[t]=!0,!1)}function Vs(t,n,a){if(Ru(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ji(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Kt(t){if(!t._valueTracker){var n=Ji(t)?"checked":"value";t._valueTracker=Zr(t,n,""+t[n])}}function Ka(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ji(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xa=/[\n"\\]/g;function tn(t){return t.replace(Xa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Is(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Jr(t,g,Oe(n)):a!=null?Jr(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function Cu(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Kt(t)}function Jr(t,n,a){n==="number"&&si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function $i(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function wu(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Wi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Kt(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $r(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Nu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Wr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&$r(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&$r(t,f,n[f])}function Ms(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(t){return ta.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var tl=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ea=null,ri=null;function Za(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Is(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(s(90));Is(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ka(l)}break t;case"textarea":wu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&$i(t,!!a.multiple,n,!1)}}}var xs=!1;function na(t,n,a){if(xs)return t(n,a);xs=!0;try{var l=t(n);return l}finally{if(xs=!1,(ea!==null||ri!==null)&&(Ao(),ea&&(n=ea,t=ri,ri=ea=null,Za(n),t)))for(n=0;n<t.length;n++)Za(t[n])}}function Bn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ja=!1;if(Tn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Ja=!1}var li=null,el=null,$a=null;function nl(){if($a)return $a;var t,n=el,a=n.length,l,c="value"in li?li.value:li.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return $a=c.slice(t,1<l?1-l:void 0)}function Wa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function qn(){return!1}function je(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bi:qn,this.isPropagationStopped=qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=je(Ri),ia=b({},Ri,{view:0,detail:0}),il=je(ia),aa,Us,oi,zs=b({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(aa=t.screenX-oi.screenX,Us=t.screenY-oi.screenY):Us=aa=0,oi=t),aa)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),al=je(zs),ts=b({},zs,{dataTransfer:0}),Vu=je(ts),Iu=b({},ia,{relatedTarget:0}),es=je(Iu),sl=b({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=je(sl),Ls=b({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=je(Ls),xu=b({},Ri,{data:0}),ci=je(xu),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lu[t])?!!n[t]:!1}function sa(){return ju}var $e=b({},ia,{key:function(t){if(t.key){var n=Uu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(t){return t.type==="keypress"?Wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bu=je($e),qu=b({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=je(qu),o=b({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),m=je(o),p=b({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(p),L=b({},zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=je(L),et=b({},Ri,{newState:0,oldState:0}),wt=je(et),de=[9,13,27,32],Qt=Tn&&"CompositionEvent"in window,re=null;Tn&&"documentMode"in document&&(re=document.documentMode);var Sn=Tn&&"TextEvent"in window&&!re,hi=Tn&&(!Qt||re&&8<re&&11>=re),Pn=" ",kn=!1;function ns(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function js(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function zE(t,n){switch(t){case"compositionend":return js(n);case"keypress":return n.which!==32?null:(kn=!0,Pn);case"textInput":return t=n.data,t===Pn&&kn?null:t;default:return null}}function LE(t,n){if(Bs)return t==="compositionend"||!Qt&&ns(t,n)?(t=nl(),$a=el=li=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var jE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!jE[t.type]:n==="textarea"}function im(t,n,a,l){ea?ri?ri.push(l):ri=[l]:ea=l,n=Vo(n,"onChange"),0<n.length&&(a=new ui("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var rl=null,ll=null;function BE(t){Bp(t,0)}function Pu(t){var n=on(t);if(Ka(n))return t}function am(t,n){if(t==="change")return n}var sm=!1;if(Tn){var kc;if(Tn){var Hc="oninput"in document;if(!Hc){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),Hc=typeof rm.oninput=="function"}kc=Hc}else kc=!1;sm=kc&&(!document.documentMode||9<document.documentMode)}function lm(){rl&&(rl.detachEvent("onpropertychange",um),ll=rl=null)}function um(t){if(t.propertyName==="value"&&Pu(ll)){var n=[];im(n,ll,t,En(t)),na(BE,n)}}function qE(t,n,a){t==="focusin"?(lm(),rl=n,ll=a,rl.attachEvent("onpropertychange",um)):t==="focusout"&&lm()}function PE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(ll)}function kE(t,n){if(t==="click")return Pu(n)}function HE(t,n){if(t==="input"||t==="change")return Pu(n)}function GE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:GE;function ul(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ye.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cm(t,n){var a=om(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=om(a)}}function hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=si(t.document)}return n}function Gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var QE=Tn&&"documentMode"in document&&11>=document.documentMode,qs=null,Qc=null,ol=null,Fc=!1;function dm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fc||qs==null||qs!==si(l)||(l=qs,"selectionStart"in l&&Gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&ul(ol,l)||(ol=l,l=Vo(Qc,"onSelect"),0<l.length&&(n=new ui("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=qs)))}function is(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ps={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},Yc={},mm={};Tn&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function as(t){if(Yc[t])return Yc[t];if(!Ps[t])return t;var n=Ps[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in mm)return Yc[t]=n[a];return t}var gm=as("animationend"),pm=as("animationiteration"),ym=as("animationstart"),FE=as("transitionrun"),YE=as("transitionstart"),KE=as("transitioncancel"),_m=as("transitionend"),vm=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function Hn(t,n){vm.set(t,n),ii(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],ks=0,Xc=0;function Hu(){for(var t=ks,n=Xc=ks=0;n<t;){var a=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Em(a,c,f)}}function Gu(t,n,a,l){An[ks++]=t,An[ks++]=n,An[ks++]=a,An[ks++]=l,Xc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zc(t,n,a,l){return Gu(t,n,a,l),Qu(t)}function ss(t,n){return Gu(t,null,null,n),Qu(t)}function Em(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-fe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Qu(t){if(50<Il)throw Il=0,rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Hs={};function XE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new XE(t,n,a,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Tm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fu(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Jc(t)&&(g=1);else if(typeof t=="string")g=tT(t,a,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=fn(31,a,n,c),t.elementType=w,t.lanes=f,t;case $:return rs(a.children,c,f,n);case J:g=8,c|=24;break;case lt:return t=fn(12,a,n,c|2),t.elementType=lt,t.lanes=f,t;case bt:return t=fn(13,a,n,c),t.elementType=bt,t.lanes=f,t;case Ct:return t=fn(19,a,n,c),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case it:g=10;break t;case gt:g=9;break t;case _t:g=11;break t;case C:g=14;break t;case A:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function rs(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function $c(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function Sm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Wc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Am=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=Am.get(t);return a!==void 0?a:(n={value:t,source:n,stack:qr(n)},Am.set(t,n),n)}return{value:t,source:n,stack:qr(n)}}var Gs=[],Qs=0,Yu=null,cl=0,Rn=[],Cn=0,ra=null,fi=1,di="";function Ni(t,n){Gs[Qs++]=cl,Gs[Qs++]=Yu,Yu=t,cl=n}function bm(t,n,a){Rn[Cn++]=fi,Rn[Cn++]=di,Rn[Cn++]=ra,ra=t;var l=fi;t=di;var c=32-fe(l)-1;l&=~(1<<c),a+=1;var f=32-fe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,fi=1<<32-fe(n)+c|a<<c|l,di=f+t}else fi=1<<f|a<<c|l,di=t}function th(t){t.return!==null&&(Ni(t,1),bm(t,1,0))}function eh(t){for(;t===Yu;)Yu=Gs[--Qs],Gs[Qs]=null,cl=Gs[--Qs],Gs[Qs]=null;for(;t===ra;)ra=Rn[--Cn],Rn[Cn]=null,di=Rn[--Cn],Rn[Cn]=null,fi=Rn[--Cn],Rn[Cn]=null}function Rm(t,n){Rn[Cn++]=fi,Rn[Cn++]=di,Rn[Cn++]=ra,fi=n.id,di=n.overflow,ra=t}var Be=null,ae=null,jt=!1,la=null,wn=!1,nh=Error(s(519));function ua(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(bn(n,t)),nh}function Cm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[Me]=l,a){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Mt(Ol[a],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),Cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),Wi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Hp(n.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ua(t,!0)}function wm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Be=Be.return}}function Fs(t){if(t!==Be)return!1;if(!jt)return wm(t),jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Tf(t.type,t.memoizedProps)),a=!a),a&&ae&&ua(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=$p(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=$p(t)}else n===27?(n=ae,Sa(t.type)?(t=Cf,Cf=null,ae=t):ae=n):ae=Be?Dn(t.stateNode.nextSibling):null;return!0}function ls(){ae=Be=null,jt=!1}function ih(){var t=la;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),la=null),t}function hl(t){la===null?la=[t]:la.push(t)}var ah=O(null),us=null,Di=null;function oa(t,n,a){nt(ah,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=ah.current,Y(ah)}function sh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function rh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),sh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),sh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ys(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}c=c.return}t!==null&&rh(n,t,a,l),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function os(t){us=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Nm(us,t)}function Xu(t,n){return us===null&&os(t),Nm(t,n)}function Nm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var ZE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},JE=r.unstable_scheduleCallback,$E=r.unstable_NormalPriority,Se={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new ZE,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&JE($E,function(){t.controller.abort()})}var dl=null,uh=0,Ks=0,Xs=null;function WE(t,n){if(dl===null){var a=dl=[];uh=0,Ks=ff(),Xs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uh++,n.then(Dm,Dm),n}function Dm(){if(--uh===0&&dl!==null){Xs!==null&&(Xs.status="fulfilled");var t=dl;dl=null,Ks=0,Xs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function t0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Vm=H.S;H.S=function(t,n){dp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WE(t,n),Vm!==null&&Vm(t,n)};var cs=O(null);function oh(){var t=cs.current;return t!==null?t:ee.pooledCache}function Zu(t,n){n===null?nt(cs,cs.current):nt(cs,n.pool)}function Im(){var t=oh();return t===null?null:{parent:Se._currentValue,pool:t}}var Zs=Error(s(460)),ch=Error(s(474)),Ju=Error(s(542)),$u={then:function(){}};function Mm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Om(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(jn,jn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t;default:if(typeof n.status=="string")n.then(jn,jn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t}throw fs=n,Zs}}function hs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fs=a,Zs):a}}var fs=null;function xm(){if(fs===null)throw Error(s(459));var t=fs;return fs=null,t}function Um(t){if(t===Zs||t===Ju)throw Error(s(483))}var Js=null,ml=0;function Wu(t){var n=ml;return ml+=1,Js===null&&(Js=[]),Om(Js,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function to(t,n){throw n.$$typeof===U?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zm(t){function n(z,I){if(t){var j=z.deletions;j===null?(z.deletions=[I],z.flags|=16):j.push(I)}}function a(z,I){if(!t)return null;for(;I!==null;)n(z,I),I=I.sibling;return null}function l(z){for(var I=new Map;z!==null;)z.key!==null?I.set(z.key,z):I.set(z.index,z),z=z.sibling;return I}function c(z,I){return z=wi(z,I),z.index=0,z.sibling=null,z}function f(z,I,j){return z.index=j,t?(j=z.alternate,j!==null?(j=j.index,j<I?(z.flags|=67108866,I):j):(z.flags|=67108866,I)):(z.flags|=1048576,I)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,I,j,F){return I===null||I.tag!==6?(I=$c(j,z.mode,F),I.return=z,I):(I=c(I,j),I.return=z,I)}function N(z,I,j,F){var ft=j.type;return ft===$?Q(z,I,j.props.children,F,j.key):I!==null&&(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&hs(ft)===I.type)?(I=c(I,j.props),gl(I,j),I.return=z,I):(I=Fu(j.type,j.key,j.props,null,z.mode,F),gl(I,j),I.return=z,I)}function B(z,I,j,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=Wc(j,z.mode,F),I.return=z,I):(I=c(I,j.children||[]),I.return=z,I)}function Q(z,I,j,F,ft){return I===null||I.tag!==7?(I=rs(j,z.mode,F,ft),I.return=z,I):(I=c(I,j),I.return=z,I)}function K(z,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=$c(""+I,z.mode,j),I.return=z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case G:return j=Fu(I.type,I.key,I.props,null,z.mode,j),gl(j,I),j.return=z,j;case W:return I=Wc(I,z.mode,j),I.return=z,I;case A:return I=hs(I),K(z,I,j)}if(ue(I)||D(I))return I=rs(I,z.mode,j,null),I.return=z,I;if(typeof I.then=="function")return K(z,Wu(I),j);if(I.$$typeof===it)return K(z,Xu(z,I),j);to(z,I)}return null}function q(z,I,j,F){var ft=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ft!==null?null:E(z,I,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===ft?N(z,I,j,F):null;case W:return j.key===ft?B(z,I,j,F):null;case A:return j=hs(j),q(z,I,j,F)}if(ue(j)||D(j))return ft!==null?null:Q(z,I,j,F,null);if(typeof j.then=="function")return q(z,I,Wu(j),F);if(j.$$typeof===it)return q(z,I,Xu(z,j),F);to(z,j)}return null}function k(z,I,j,F,ft){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return z=z.get(j)||null,E(I,z,""+F,ft);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return z=z.get(F.key===null?j:F.key)||null,N(I,z,F,ft);case W:return z=z.get(F.key===null?j:F.key)||null,B(I,z,F,ft);case A:return F=hs(F),k(z,I,j,F,ft)}if(ue(F)||D(F))return z=z.get(j)||null,Q(I,z,F,ft,null);if(typeof F.then=="function")return k(z,I,j,Wu(F),ft);if(F.$$typeof===it)return k(z,I,j,Xu(I,F),ft);to(I,F)}return null}function ut(z,I,j,F){for(var ft=null,kt=null,ot=I,Dt=I=0,Ut=null;ot!==null&&Dt<j.length;Dt++){ot.index>Dt?(Ut=ot,ot=null):Ut=ot.sibling;var Ht=q(z,ot,j[Dt],F);if(Ht===null){ot===null&&(ot=Ut);break}t&&ot&&Ht.alternate===null&&n(z,ot),I=f(Ht,I,Dt),kt===null?ft=Ht:kt.sibling=Ht,kt=Ht,ot=Ut}if(Dt===j.length)return a(z,ot),jt&&Ni(z,Dt),ft;if(ot===null){for(;Dt<j.length;Dt++)ot=K(z,j[Dt],F),ot!==null&&(I=f(ot,I,Dt),kt===null?ft=ot:kt.sibling=ot,kt=ot);return jt&&Ni(z,Dt),ft}for(ot=l(ot);Dt<j.length;Dt++)Ut=k(ot,z,Dt,j[Dt],F),Ut!==null&&(t&&Ut.alternate!==null&&ot.delete(Ut.key===null?Dt:Ut.key),I=f(Ut,I,Dt),kt===null?ft=Ut:kt.sibling=Ut,kt=Ut);return t&&ot.forEach(function(wa){return n(z,wa)}),jt&&Ni(z,Dt),ft}function yt(z,I,j,F){if(j==null)throw Error(s(151));for(var ft=null,kt=null,ot=I,Dt=I=0,Ut=null,Ht=j.next();ot!==null&&!Ht.done;Dt++,Ht=j.next()){ot.index>Dt?(Ut=ot,ot=null):Ut=ot.sibling;var wa=q(z,ot,Ht.value,F);if(wa===null){ot===null&&(ot=Ut);break}t&&ot&&wa.alternate===null&&n(z,ot),I=f(wa,I,Dt),kt===null?ft=wa:kt.sibling=wa,kt=wa,ot=Ut}if(Ht.done)return a(z,ot),jt&&Ni(z,Dt),ft;if(ot===null){for(;!Ht.done;Dt++,Ht=j.next())Ht=K(z,Ht.value,F),Ht!==null&&(I=f(Ht,I,Dt),kt===null?ft=Ht:kt.sibling=Ht,kt=Ht);return jt&&Ni(z,Dt),ft}for(ot=l(ot);!Ht.done;Dt++,Ht=j.next())Ht=k(ot,z,Dt,Ht.value,F),Ht!==null&&(t&&Ht.alternate!==null&&ot.delete(Ht.key===null?Dt:Ht.key),I=f(Ht,I,Dt),kt===null?ft=Ht:kt.sibling=Ht,kt=Ht);return t&&ot.forEach(function(hT){return n(z,hT)}),jt&&Ni(z,Dt),ft}function te(z,I,j,F){if(typeof j=="object"&&j!==null&&j.type===$&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:t:{for(var ft=j.key;I!==null;){if(I.key===ft){if(ft=j.type,ft===$){if(I.tag===7){a(z,I.sibling),F=c(I,j.props.children),F.return=z,z=F;break t}}else if(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&hs(ft)===I.type){a(z,I.sibling),F=c(I,j.props),gl(F,j),F.return=z,z=F;break t}a(z,I);break}else n(z,I);I=I.sibling}j.type===$?(F=rs(j.props.children,z.mode,F,j.key),F.return=z,z=F):(F=Fu(j.type,j.key,j.props,null,z.mode,F),gl(F,j),F.return=z,z=F)}return g(z);case W:t:{for(ft=j.key;I!==null;){if(I.key===ft)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){a(z,I.sibling),F=c(I,j.children||[]),F.return=z,z=F;break t}else{a(z,I);break}else n(z,I);I=I.sibling}F=Wc(j,z.mode,F),F.return=z,z=F}return g(z);case A:return j=hs(j),te(z,I,j,F)}if(ue(j))return ut(z,I,j,F);if(D(j)){if(ft=D(j),typeof ft!="function")throw Error(s(150));return j=ft.call(j),yt(z,I,j,F)}if(typeof j.then=="function")return te(z,I,Wu(j),F);if(j.$$typeof===it)return te(z,I,Xu(z,j),F);to(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,I!==null&&I.tag===6?(a(z,I.sibling),F=c(I,j),F.return=z,z=F):(a(z,I),F=$c(j,z.mode,F),F.return=z,z=F),g(z)):a(z,I)}return function(z,I,j,F){try{ml=0;var ft=te(z,I,j,F);return Js=null,ft}catch(ot){if(ot===Zs||ot===Ju)throw ot;var kt=fn(29,ot,null,z.mode);return kt.lanes=F,kt.return=z,kt}finally{}}}var ds=zm(!0),Lm=zm(!1),ca=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Qu(t),Em(t,null,a),n}return Gu(t,l,n,a),Qu(t)}function pl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hr(t,a)}}function dh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var mh=!1;function yl(){if(mh){var t=Xs;if(t!==null)throw t}}function _l(t,n,a,l){mh=!1;var c=t.updateQueue;ca=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var N=E,B=N.next;N.next=null,g===null?f=B:g.next=B,g=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=N))}if(f!==null){var K=c.baseState;g=0,Q=B=N=null,E=f;do{var q=E.lane&-536870913,k=q!==E.lane;if(k?(xt&q)===q:(l&q)===q){q!==0&&q===Ks&&(mh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=t,yt=E;q=n;var te=a;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){K=ut.call(te,K,q);break t}K=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,q=typeof ut=="function"?ut.call(te,K,q):ut,q==null)break t;K=b({},K,q);break t;case 2:ca=!0}}q=E.callback,q!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[q]:k.push(q))}else k={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=k,N=K):Q=Q.next=k,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);Q===null&&(N=K),c.baseState=N,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),ya|=g,t.lanes=g,t.memoizedState=K}}function jm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Bm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)jm(a[t],n)}var $s=O(null),eo=O(0);function qm(t,n){t=Bi,nt(eo,t),nt($s,n),Bi=t|n.baseLanes}function gh(){nt(eo,Bi),nt($s,$s.current)}function ph(){Bi=eo.current,Y($s),Y(eo)}var dn=O(null),Nn=null;function da(t){var n=t.alternate;nt(me,me.current&1),nt(dn,t),Nn===null&&(n===null||$s.current!==null||n.memoizedState!==null)&&(Nn=t)}function yh(t){nt(me,me.current),nt(dn,t),Nn===null&&(Nn=t)}function Pm(t){t.tag===22?(nt(me,me.current),nt(dn,t),Nn===null&&(Nn=t)):ma()}function ma(){nt(me,me.current),nt(dn,dn.current)}function mn(t){Y(dn),Nn===t&&(Nn=null),Y(me)}var me=O(0);function no(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bf(a)||Rf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ii=0,Nt=null,$t=null,Ae=null,io=!1,Ws=!1,ms=!1,ao=0,vl=0,tr=null,e0=0;function ce(){throw Error(s(321))}function _h(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function vh(t,n,a,l,c,f){return Ii=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?bg:xh,ms=!1,f=a(l,c),ms=!1,Ws&&(f=Hm(n,a,l,c)),km(t),f}function km(t){H.H=Sl;var n=$t!==null&&$t.next!==null;if(Ii=0,Ae=$t=Nt=null,io=!1,vl=0,tr=null,n)throw Error(s(300));t===null||be||(t=t.dependencies,t!==null&&Ku(t)&&(be=!0))}function Hm(t,n,a,l){Nt=t;var c=0;do{if(Ws&&(tr=null),vl=0,Ws=!1,25<=c)throw Error(s(301));if(c+=1,Ae=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Rg,f=n(a,l)}while(Ws);return f}function n0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Nt.flags|=1024),n}function Eh(){var t=ao!==0;return ao=0,t}function Th(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Sh(t){if(io){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}io=!1}Ii=0,Ae=$t=Nt=null,Ws=!1,vl=ao=0,tr=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Nt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function ge(){if($t===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=Ae===null?Nt.memoizedState:Ae.next;if(n!==null)Ae=n,$t=t;else{if(t===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?Nt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function so(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,tr===null&&(tr=[]),t=Om(tr,t,n),n=Nt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?bg:xh),t}function ro(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===it)return qe(t)}throw Error(s(438,String(t)))}function Ah(t){var n=null,a=Nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=so(),Nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=x;return n.index++,a}function Mi(t,n){return typeof n=="function"?n(t):n}function lo(t){var n=ge();return bh(n,$t,t)}function bh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,N=null,B=n,Q=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(xt&K)===K:(Ii&K)===K){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===Ks&&(Q=!0);else if((Ii&q)===q){B=B.next,q===Ks&&(Q=!0);continue}else K={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=K,g=f):N=N.next=K,Nt.lanes|=q,ya|=q;K=B.action,ms&&a(f,K),f=B.hasEagerState?B.eagerState:a(f,K)}else q={lane:K,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=q,g=f):N=N.next=q,Nt.lanes|=K,ya|=K;B=B.next}while(B!==null&&B!==n);if(N===null?g=f:N.next=E,!hn(f,t.memoizedState)&&(be=!0,Q&&(a=Xs,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Gm(t,n,a){var l=Nt,c=ge(),f=jt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!hn(($t||c).memoizedState,a);if(g&&(c.memoizedState=a,be=!0),c=c.queue,Nh(Ym.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,er(9,{destroy:void 0},Fm.bind(null,l,c,a,n),null),ee===null)throw Error(s(349));f||(Ii&127)!==0||Qm(l,n,a)}return a}function Qm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Nt.updateQueue,n===null?(n=so(),Nt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Fm(t,n,a,l){n.value=a,n.getSnapshot=l,Km(n)&&Xm(t)}function Ym(t,n,a){return a(function(){Km(n)&&Xm(t)})}function Km(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function Xm(t){var n=ss(t,2);n!==null&&ln(n,t,2)}function Ch(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),ms){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},n}function Zm(t,n,a,l){return t.baseState=a,bh(t,$t,typeof l=="function"?l:Mi)}function i0(t,n,a,l,c){if(co(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Jm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Jm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(c,l),N=H.S;N!==null&&N(g,E),$m(t,n,E)}catch(B){wh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),$m(t,n,f)}catch(B){wh(t,n,B)}}function $m(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wm(t,n,l)},function(l){return wh(t,n,l)}):Wm(t,n,a)}function Wm(t,n,a){n.status="fulfilled",n.value=a,tg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Jm(t,a)))}function wh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,tg(n),n=n.next;while(n!==l)}t.action=null}function tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function eg(t,n){return n}function ng(t,n){if(jt){var a=ee.formState;if(a!==null){t:{var l=Nt;if(jt){if(ae){e:{for(var c=ae,f=wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Dn(c.nextSibling),l=c.data==="F!";break t}}ua(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:n},a.queue=l,a=Tg.bind(null,Nt,l),l.dispatch=a,l=Ch(!1),f=Oh.bind(null,Nt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=i0.bind(null,Nt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function ig(t){var n=ge();return ag(n,$t,t)}function ag(t,n,a){if(n=bh(t,n,eg)[0],t=lo(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=El(n)}catch(g){throw g===Zs?Ju:g}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Nt.flags|=2048,er(9,{destroy:void 0},a0.bind(null,c,a),null)),[l,f,t]}function a0(t,n){t.action=n}function sg(t){var n=ge(),a=$t;if(a!==null)return ag(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function er(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=so(),Nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function rg(){return ge().memoizedState}function uo(t,n,a,l){var c=We();Nt.flags|=t,c.memoizedState=er(1|n,{destroy:void 0},a,l===void 0?null:l)}function oo(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;$t!==null&&l!==null&&_h(l,$t.memoizedState.deps)?c.memoizedState=er(n,f,a,l):(Nt.flags|=t,c.memoizedState=er(1|n,f,a,l))}function lg(t,n){uo(8390656,8,t,n)}function Nh(t,n){oo(2048,8,t,n)}function s0(t){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=so(),Nt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ug(t){var n=ge().memoizedState;return s0({ref:n,nextImpl:t}),function(){if((Ft&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function og(t,n){return oo(4,2,t,n)}function cg(t,n){return oo(4,4,t,n)}function hg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function fg(t,n,a){a=a!=null?a.concat([t]):null,oo(4,4,hg.bind(null,n,t),a)}function Dh(){}function dg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&_h(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function mg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&_h(n,l[1]))return l[0];if(l=t(),ms){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function Vh(t,n,a){return a===void 0||(Ii&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=gp(),Nt.lanes|=t,ya|=t,a)}function gg(t,n,a,l){return hn(a,n)?a:$s.current!==null?(t=Vh(t,a,l),hn(t,n)||(be=!0),t):(Ii&42)===0||(Ii&1073741824)!==0&&(xt&261930)===0?(be=!0,t.memoizedState=a):(t=gp(),Nt.lanes|=t,ya|=t,n)}function pg(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Oh(t,!1,n,a);try{var N=c(),B=H.S;if(B!==null&&B(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=t0(N,l);Tl(t,n,Q,yn(t))}else Tl(t,n,l,yn(t))}catch(K){Tl(t,n,{then:function(){},status:"rejected",reason:K},yn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function r0(){}function Ih(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=yg(t).queue;pg(t,c,n,ct,a===null?r0:function(){return _g(t),a(l)})}function yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function _g(t){var n=yg(t);n.next===null&&(n=t.alternate.memoizedState),Tl(t,n.next.queue,{},yn())}function Mh(){return qe(jl)}function vg(){return ge().memoizedState}function Eg(){return ge().memoizedState}function l0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=ha(a);var l=fa(n,t,a);l!==null&&(ln(l,n,a),pl(l,n,a)),n={cache:lh()},t.payload=n;return}n=n.return}}function u0(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},co(t)?Sg(n,a):(a=Zc(t,n,a,l),a!==null&&(ln(a,t,l),Ag(a,n,l)))}function Tg(t,n,a){var l=yn();Tl(t,n,a,l)}function Tl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(co(t))Sg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Gu(t,n,c,0),ee===null&&Hu(),!1}catch{}finally{}if(a=Zc(t,n,c,l),a!==null)return ln(a,t,l),Ag(a,n,l),!0}return!1}function Oh(t,n,a,l){if(l={lane:2,revertLane:ff(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},co(t)){if(n)throw Error(s(479))}else n=Zc(t,a,l,2),n!==null&&ln(n,t,2)}function co(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function Sg(t,n){Ws=io=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ag(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hr(t,a)}}var Sl={readContext:qe,use:ro,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Sl.useEffectEvent=ce;var bg={readContext:qe,use:ro,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:lg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,uo(4194308,4,hg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return uo(4194308,4,t,n)},useInsertionEffect:function(t,n){uo(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(ms){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(ms){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=u0.bind(null,Nt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,a=Tg.bind(null,Nt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Dh,useDeferredValue:function(t,n){var a=We();return Vh(a,t,n)},useTransition:function(){var t=Ch(!1);return t=pg.bind(null,Nt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Nt,c=We();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(xt&127)!==0||Qm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,lg(Ym.bind(null,l,f,t),[t]),l.flags|=2048,er(9,{destroy:void 0},Fm.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=ee.identifierPrefix;if(jt){var a=di,l=fi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ao++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=e0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mh,useFormState:ng,useActionState:ng,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Oh.bind(null,Nt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Ah,useCacheRefresh:function(){return We().memoizedState=l0.bind(null,Nt)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((Ft&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xh={readContext:qe,use:ro,useCallback:dg,useContext:qe,useEffect:Nh,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:cg,useMemo:mg,useReducer:lo,useRef:rg,useState:function(){return lo(Mi)},useDebugValue:Dh,useDeferredValue:function(t,n){var a=ge();return gg(a,$t.memoizedState,t,n)},useTransition:function(){var t=lo(Mi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Gm,useId:vg,useHostTransitionStatus:Mh,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var a=ge();return Zm(a,$t,t,n)},useMemoCache:Ah,useCacheRefresh:Eg};xh.useEffectEvent=ug;var Rg={readContext:qe,use:ro,useCallback:dg,useContext:qe,useEffect:Nh,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:cg,useMemo:mg,useReducer:Rh,useRef:rg,useState:function(){return Rh(Mi)},useDebugValue:Dh,useDeferredValue:function(t,n){var a=ge();return $t===null?Vh(a,t,n):gg(a,$t.memoizedState,t,n)},useTransition:function(){var t=Rh(Mi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Gm,useId:vg,useHostTransitionStatus:Mh,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var a=ge();return $t!==null?Zm(a,$t,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:Eg};Rg.useEffectEvent=ug;function Uh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ha(l);c.payload=n,a!=null&&(c.callback=a),n=fa(t,c,l),n!==null&&(ln(n,t,l),pl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=ha(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=fa(t,c,l),n!==null&&(ln(n,t,l),pl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=ha(a);l.tag=2,n!=null&&(l.callback=n),n=fa(t,l,a),n!==null&&(ln(n,t,a),pl(n,t,a))}};function Cg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ul(a,l)||!ul(c,f):!0}function wg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&zh.enqueueReplaceState(n,n.state,null)}function gs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Ng(t){ku(t)}function Dg(t){console.error(t)}function Vg(t){ku(t)}function ho(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lh(t,n,a){return a=ha(a),a.tag=3,a.payload={element:null},a.callback=function(){ho(t,n)},a}function Mg(t){return t=ha(t),t.tag=3,t}function Og(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ig(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ig(n,a,l),typeof c!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function o0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ys(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?bo():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===$u?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),of(t,l,c)),!1;case 22:return a.flags|=65536,l===$u?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),of(t,l,c)),!1}throw Error(s(435,a.tag))}return of(t,l,c),bo(),!1}if(jt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==nh&&(t=Error(s(422),{cause:l}),hl(bn(t,a)))):(l!==nh&&(n=Error(s(423),{cause:l}),hl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=Lh(t.stateNode,l,c),dh(t,c),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),Vl===null?Vl=[f]:Vl.push(f),he!==4&&(he=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Lh(a.stateNode,l,t),dh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_a===null||!_a.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Mg(c),Og(c,t,a,l),dh(a,c),!1}a=a.return}while(a!==null);return!1}var jh=Error(s(461)),be=!1;function Pe(t,n,a,l){n.child=t===null?Lm(n,null,a,l):ds(n,t.child,a,l)}function xg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return os(n),l=vh(t,n,a,g,f,c),E=Eh(),t!==null&&!be?(Th(t,n,c),Oi(t,n,c)):(jt&&E&&th(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Ug(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,zg(t,n,f,l,c)):(t=Fu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Fh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(g,l)&&t.ref===n.ref)return Oi(t,n,c)}return n.flags|=1,t=wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function zg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,Fh(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Oi(t,n,c)}return Bh(t,n,a,l,c)}function Lg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return jg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(n,f!==null?f.cachePool:null),f!==null?qm(n,f):gh(),Pm(n);else return l=n.lanes=536870912,jg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Zu(n,f.cachePool),qm(n,f),ma(),n.memoizedState=null):(t!==null&&Zu(n,null),gh(),ma());return Pe(t,n,c,a),n.child}function Al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jg(t,n,a,l,c){var f=oh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Zu(n,null),gh(),Pm(n),t!==null&&Ys(t,n,l,!0),n.childLanes=c,null}function fo(t,n){return n=go({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Bg(t,n,a){return ds(n,t.child,null,a),t=fo(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function c0(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(jt){if(l.mode==="hidden")return t=fo(n,l),n.lanes=536870912,Al(null,t);if(yh(n),(t=ae)?(t=Jp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ra!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Sm(t),a.return=n,n.child=a,Be=n,ae=null)):t=null,t===null)throw ua(n);return n.lanes=536870912,null}return fo(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(yh(n),c)if(n.flags&256)n.flags&=-257,n=Bg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||Ys(t,n,a,!1),c=(a&t.childLanes)!==0,be||c){if(l=ee,l!==null&&(g=Gr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ss(t,g),ln(l,t,g),jh;bo(),n=Bg(t,n,a)}else t=f.treeContext,ae=Dn(g.nextSibling),Be=n,jt=!0,la=null,wn=!1,t!==null&&Rm(n,t),n=fo(n,l),n.flags|=4096;return n}return t=wi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function mo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Bh(t,n,a,l,c){return os(n),a=vh(t,n,a,l,void 0,c),l=Eh(),t!==null&&!be?(Th(t,n,c),Oi(t,n,c)):(jt&&l&&th(n),n.flags|=1,Pe(t,n,a,c),n.child)}function qg(t,n,a,l,c,f){return os(n),n.updateQueue=null,a=Hm(n,l,a,c),km(t),l=Eh(),t!==null&&!be?(Th(t,n,f),Oi(t,n,f)):(jt&&l&&th(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Pg(t,n,a,l,c){if(os(n),n.stateNode===null){var f=Hs,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Hs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Uh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&zh.enqueueReplaceState(f,f.state,null),_l(n,l,f,c),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=gs(a,E);f.props=N;var B=f.context,Q=a.contextType;g=Hs,typeof Q=="object"&&Q!==null&&(g=qe(Q));var K=a.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&wg(n,f,l,g),ca=!1;var q=n.memoizedState;f.state=q,_l(n,l,f,c),yl(),B=n.memoizedState,E||q!==B||ca?(typeof K=="function"&&(Uh(n,a,K,l),B=n.memoizedState),(N=ca||Cg(n,a,N,l,q,B,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,fh(t,n),g=n.memoizedProps,Q=gs(a,g),f.props=Q,K=n.pendingProps,q=f.context,B=a.contextType,N=Hs,typeof B=="object"&&B!==null&&(N=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||q!==N)&&wg(n,f,l,N),ca=!1,q=n.memoizedState,f.state=q,_l(n,l,f,c),yl();var k=n.memoizedState;g!==K||q!==k||ca||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof E=="function"&&(Uh(n,a,E,l),k=n.memoizedState),(Q=ca||Cg(n,a,Q,l,q,k,N)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=N,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,mo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ds(n,t.child,null,c),n.child=ds(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Oi(t,n,c),t}function kg(t,n,a,l){return ls(),n.flags|=256,Pe(t,n,a,l),n.child}var qh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(t){return{baseLanes:t,cachePool:Im()}}function kh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function Hg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?da(n):ma(),(t=ae)?(t=Jp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ra!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Sm(t),a.return=n,n.child=a,Be=n,ae=null)):t=null,t===null)throw ua(n);return Rf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ma(),c=n.mode,E=go({mode:"hidden",children:E},c),l=rs(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ph(a),l.childLanes=kh(t,g,a),n.memoizedState=qh,Al(null,l)):(da(n),Hh(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(da(n),n.flags&=-257,n=Gh(t,n,a)):n.memoizedState!==null?(ma(),n.child=t.child,n.flags|=128,n=null):(ma(),E=l.fallback,c=n.mode,l=go({mode:"visible",children:l.children},c),E=rs(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ds(n,t.child,null,a),l=n.child,l.memoizedState=Ph(a),l.childLanes=kh(t,g,a),n.memoizedState=qh,n=Al(null,l));else if(da(n),Rf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,hl({value:l,source:null,stack:null}),n=Gh(t,n,a)}else if(be||Ys(t,n,a,!1),g=(a&t.childLanes)!==0,be||g){if(g=ee,g!==null&&(l=Gr(g,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,ss(t,l),ln(g,t,l),jh;bf(E)||bo(),n=Gh(t,n,a)}else bf(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ae=Dn(E.nextSibling),Be=n,jt=!0,la=null,wn=!1,t!==null&&Rm(n,t),n=Hh(n,l.children),n.flags|=4096);return n}return c?(ma(),E=l.fallback,c=n.mode,N=t.child,B=N.sibling,l=wi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?E=wi(B,E):(E=rs(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Al(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ph(a):(c=E.cachePool,c!==null?(N=Se._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=Im(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=kh(t,g,a),n.memoizedState=qh,Al(t.child,l)):(da(n),a=t.child,t=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Hh(t,n){return n=go({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function go(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Gh(t,n,a){return ds(n,t.child,null,a),t=Hh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Gg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sh(t.return,n,a)}function Qh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Qg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(me,g),Pe(t,n,l,a),l=jt?cl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,a,n);else if(t.tag===19)Gg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&no(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Qh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&no(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Qh(n,!0,a,null,f,l);break;case"together":Qh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Oi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ya|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ys(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Fh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function h0(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),oa(n,Se,t.memoizedState.cache),ls();break;case 27:case 5:Ze(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:oa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(da(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Hg(t,n,a):(da(n),t=Oi(t,n,a),t!==null?t.sibling:null);da(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ys(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Qg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(me,me.current),l)break;return null;case 22:return n.lanes=0,Lg(t,n,a,n.pendingProps);case 24:oa(n,Se,t.memoizedState.cache)}return Oi(t,n,a)}function Fg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!Fh(t,a)&&(n.flags&128)===0)return be=!1,h0(t,n,a);be=(t.flags&131072)!==0}else be=!1,jt&&(n.flags&1048576)!==0&&bm(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=hs(n.elementType),n.type=t,typeof t=="function")Jc(t)?(l=gs(t,l),n.tag=1,n=Pg(null,n,t,l,a)):(n.tag=0,n=Bh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===_t){n.tag=11,n=xg(null,n,t,l,a);break t}else if(c===C){n.tag=14,n=Ug(null,n,t,l,a);break t}}throw n=Pt(t)||t,Error(s(306,n,""))}}return n;case 0:return Bh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=gs(l,n.pendingProps),Pg(t,n,l,c,a);case 3:t:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,fh(t,n),_l(n,l,null,a);var g=n.memoizedState;if(l=g.cache,oa(n,Se,l),l!==f.cache&&rh(n,[Se],a,!0),yl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kg(t,n,l,a);break t}else if(l!==c){c=bn(Error(s(424)),n),hl(c),n=kg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Dn(t.firstChild),Be=n,jt=!0,la=null,wn=!0,a=Lm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ls(),l===c){n=Oi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return mo(t,n),t===null?(a=iy(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,t=n.pendingProps,l=Io(Rt.current).createElement(a),l[ve]=n,l[Me]=t,ke(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=iy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ze(n),t===null&&jt&&(l=n.stateNode=ty(n.type,n.pendingProps,Rt.current),Be=n,wn=!0,c=ae,Sa(n.type)?(Cf=c,ae=Dn(l.firstChild)):ae=c),Pe(t,n,n.pendingProps.children,a),mo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((c=l=ae)&&(l=P0(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,Be=n,ae=Dn(l.firstChild),wn=!1,c=!0):c=!1),c||ua(n)),Ze(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,Tf(c,f)?l=null:g!==null&&Tf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=vh(t,n,n0,null,null,a),jl._currentValue=c),mo(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&jt&&((t=a=ae)&&(a=k0(a,n.pendingProps,wn),a!==null?(n.stateNode=a,Be=n,ae=null,t=!0):t=!1),t||ua(n)),null;case 13:return Hg(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ds(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return xg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,oa(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,os(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Ug(t,n,n.type,n.pendingProps,a);case 15:return zg(t,n,n.type,n.pendingProps,a);case 19:return Qg(t,n,a);case 31:return c0(t,n,a);case 22:return Lg(t,n,a,n.pendingProps);case 24:return os(n),l=qe(Se),t===null?(c=oh(),c===null&&(c=ee,f=lh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},hh(n),oa(n,Se,c)):((t.lanes&a)!==0&&(fh(t,n),_l(n,null,null,a),yl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),oa(n,Se,l)):(l=f.cache,oa(n,Se,l),l!==c.cache&&rh(n,[Se],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function xi(t){t.flags|=4}function Yh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(vp())t.flags|=8192;else throw fs=$u,ch}else t.flags&=-16777217}function Yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uy(n))if(vp())t.flags|=8192;else throw fs=$u,ch}function po(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Tu():536870912,t.lanes|=n,sr|=n)}function bl(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function f0(t,n,a){var l=n.pendingProps;switch(eh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Se),ht(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ih())),se(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(xi(n),f!==null?(se(n),Yg(n,f)):(se(n),Yh(n,c,null,l,a))):f?f!==t.memoizedState?(xi(n),se(n),Yg(n,f)):(se(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&xi(n),se(n),Yh(n,c,t,l,a)),null;case 27:if(On(n),a=Rt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}t=st.current,Fs(n)?Cm(n):(t=ty(c,l,a),n.stateNode=t,xi(n))}return se(n),null;case 5:if(On(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}if(f=st.current,Fs(n))Cm(n);else{var g=Io(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ve]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(ke(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&xi(n)}}return se(n),Yh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Rt.current,Fs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Hp(t.nodeValue,a)),t||ua(n,!0)}else t=Io(t).createTextNode(l),t[ve]=n,n.stateNode=t}return se(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Fs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=n}else ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),t=!1}else a=ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else ls(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=ih(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),po(n,n.updateQueue),se(n),null);case 4:return ht(),t===null&&pf(n.stateNode.containerInfo),se(n),null;case 10:return Vi(n.type),se(n),null;case 19:if(Y(me),l=n.memoizedState,l===null)return se(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)bl(l,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=no(t),f!==null){for(n.flags|=128,bl(l,!1),t=f.updateQueue,n.updateQueue=t,po(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Tm(a,t),a=a.sibling;return nt(me,me.current&1|2),jt&&Ni(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>To&&(n.flags|=128,c=!0,bl(l,!1),n.lanes=4194304)}else{if(!c)if(t=no(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,po(n,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!jt)return se(n),null}else 2*Je()-l.renderingStartTime>To&&a!==536870912&&(n.flags|=128,c=!0,bl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=me.current,nt(me,c?a&1|2:a&1),jt&&Ni(n,l.treeForkCount),t):(se(n),null);case 22:case 23:return mn(n),ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&po(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Se),se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function d0(t,n){switch(eh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Se),ht(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return On(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(s(340));ls()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ls()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(me),null;case 4:return ht(),null;case 10:return Vi(n.type),null;case 22:case 23:return mn(n),ph(),t!==null&&Y(cs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Se),null;case 25:return null;default:return null}}function Kg(t,n){switch(eh(n),n.tag){case 3:Vi(Se),ht();break;case 26:case 27:case 5:On(n);break;case 4:ht();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(me);break;case 10:Vi(n.type);break;case 22:case 23:mn(n),ph(),t!==null&&Y(cs);break;case 24:Vi(Se)}}function Rl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Zt(n,n.return,E)}}function ga(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var N=a,B=E;try{B()}catch(Q){Zt(c,N,Q)}}}l=l.next}while(l!==f)}}catch(Q){Zt(n,n.return,Q)}}function Xg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Bm(n,a)}catch(l){Zt(t,t.return,l)}}}function Zg(t,n,a){a.props=gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Zt(t,n,c)}}function mi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Zt(t,n,c)}else a.current=null}function Jg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Zt(t,t.return,c)}}function Kh(t,n,a){try{var l=t.stateNode;U0(l,t.type,a,n),l[Me]=n}catch(c){Zt(t,t.return,c)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sa(t.type)||t.tag===4}function Xh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Zh(t,n,a),t=t.sibling;t!==null;)Zh(t,n,a),t=t.sibling}function yo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yo(t,n,a),t=t.sibling;t!==null;)yo(t,n,a),t=t.sibling}function Wg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,a),n[ve]=t,n[Me]=a}catch(f){Zt(t,t.return,f)}}var Ui=!1,Re=!1,Jh=!1,tp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function m0(t,n){if(t=t.containerInfo,vf=jo,t=fm(t),Gc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,N=-1,B=0,Q=0,K=t,q=null;e:for(;;){for(var k;K!==a||c!==0&&K.nodeType!==3||(E=g+c),K!==f||l!==0&&K.nodeType!==3||(N=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(k=K.firstChild)!==null;)q=K,K=k;for(;;){if(K===t)break e;if(q===a&&++B===c&&(E=g),q===f&&++Q===l&&(N=g),(k=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=k}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ef={focusedElem:t,selectionRange:a},jo=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ut=gs(a.type,c);t=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Zt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Af(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}}function ep(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&Rl(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Zt(a,a.return,g)}else{var c=gs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Zt(a,a.return,g)}}l&64&&Xg(a),l&512&&Cl(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Bm(t,n)}catch(g){Zt(a,a.return,g)}}break;case 27:n===null&&l&4&&Wg(a);case 26:case 5:Li(t,a),n===null&&l&4&&Jg(a),l&512&&Cl(a,a.return);break;case 12:Li(t,a);break;case 31:Li(t,a),l&4&&ap(t,a);break;case 13:Li(t,a),l&4&&sp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=A0.bind(null,a),H0(t,a))));break;case 22:if(l=a.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||Re,c=Ui;var f=Re;Ui=l,(Re=n)&&!f?ji(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),Ui=c,Re=f}break;case 30:break;default:Li(t,a)}}function np(t){var n=t.alternate;n!==null&&(t.alternate=null,np(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ds(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,nn=!1;function zi(t,n,a){for(a=a.child;a!==null;)ip(t,n,a),a=a.sibling}function ip(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Re||mi(a,n),zi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||mi(a,n);var l=le,c=nn;Sa(a.type)&&(le=a.stateNode,nn=!1),zi(t,n,a),Ul(a.stateNode),le=l,nn=c;break;case 5:Re||mi(a,n);case 6:if(l=le,c=nn,le=null,zi(t,n,a),le=l,nn=c,le!==null)if(nn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:le!==null&&(nn?(t=le,Xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),dr(t)):Xp(le,a.stateNode));break;case 4:l=le,c=nn,le=a.stateNode.containerInfo,nn=!0,zi(t,n,a),le=l,nn=c;break;case 0:case 11:case 14:case 15:ga(2,a,n),Re||ga(4,a,n),zi(t,n,a);break;case 1:Re||(mi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zg(a,n,l)),zi(t,n,a);break;case 21:zi(t,n,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,zi(t,n,a),Re=l;break;default:zi(t,n,a)}}function ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{dr(t)}catch(a){Zt(n,n.return,a)}}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dr(t)}catch(a){Zt(n,n.return,a)}}function g0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new tp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new tp),n;default:throw Error(s(435,t.tag))}}function _o(t,n){var a=g0(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=b0.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Sa(E.type)){le=E.stateNode,nn=!1;break t}break;case 5:le=E.stateNode,nn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(le===null)throw Error(s(160));ip(f,g,c),le=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)rp(n,t),n=n.sibling}var Gn=null;function rp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(ga(3,t,t.return),Rl(3,t),ga(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(Re||a===null||mi(a,a.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Gn;if(an(n,t),sn(t),l&512&&(Re||a===null||mi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ti]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,a),f[ve]=t,Ee(f),l=f;break t;case"link":var g=ry("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;case"meta":if(g=ry("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,Ee(f),l=f}t.stateNode=l}else ly(c,t.type,t.stateNode);else t.stateNode=sy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ly(c,t.type,t.stateNode):sy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Kh(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(Re||a===null||mi(a,a.return)),a!==null&&l&4&&Kh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(Re||a===null||mi(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(ut){Zt(t,t.return,ut)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Kh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Jh=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ut){Zt(t,t.return,ut)}}break;case 3:if(xo=null,c=Gn,Gn=Mo(n.containerInfo),an(n,t),Gn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{dr(n.containerInfo)}catch(ut){Zt(t,t.return,ut)}Jh&&(Jh=!1,lp(t));break;case 4:l=Gn,Gn=Mo(t.stateNode.containerInfo),an(n,t),sn(t),Gn=l;break;case 12:an(n,t),sn(t);break;case 31:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_o(t,l)));break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Eo=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_o(t,l)));break;case 22:c=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Ui,Q=Re;if(Ui=B||c,Re=Q||N,an(n,t),Re=Q,Ui=B,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||N||Ui||Re||ps(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var K=N.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ut){Zt(N,N.return,ut)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(ut){Zt(N,N.return,ut)}}}else if(n.tag===18){if(a===null){N=n;try{var k=N.stateNode;c?Zp(k,!0):Zp(N.stateNode,!1)}catch(ut){Zt(N,N.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_o(t,a))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_o(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if($g(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Xh(t);yo(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=Xh(t);yo(t,E,g);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Xh(t);Zh(t,B,N);break;default:throw Error(s(161))}}catch(Q){Zt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ep(t,n.alternate,n),n=n.sibling}function ps(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ga(4,n,n.return),ps(n);break;case 1:mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Zg(n,n.return,a),ps(n);break;case 27:Ul(n.stateNode);case 26:case 5:mi(n,n.return),ps(n);break;case 22:n.memoizedState===null&&ps(n);break;case 30:ps(n);break;default:ps(n)}t=t.sibling}}function ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ji(c,f,a),Rl(4,f);break;case 1:if(ji(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Zt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)jm(N[c],E)}catch(B){Zt(l,l.return,B)}}a&&g&64&&Xg(f),Cl(f,f.return);break;case 27:Wg(f);case 26:case 5:ji(c,f,a),a&&l===null&&g&4&&Jg(f),Cl(f,f.return);break;case 12:ji(c,f,a);break;case 31:ji(c,f,a),a&&g&4&&ap(c,f);break;case 13:ji(c,f,a),a&&g&4&&sp(c,f);break;case 22:f.memoizedState===null&&ji(c,f,a),Cl(f,f.return);break;case 30:break;default:ji(c,f,a)}n=n.sibling}}function $h(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Wh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function Qn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,a,l),n=n.sibling}function up(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,a,l),c&2048&&Rl(9,n);break;case 1:Qn(t,n,a,l);break;case 3:Qn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(c&2048){Qn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Zt(n,n.return,N)}}else Qn(t,n,a,l);break;case 31:Qn(t,n,a,l);break;case 13:Qn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,a,l):wl(t,n):f._visibility&2?Qn(t,n,a,l):(f._visibility|=2,nr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&$h(g,n);break;case 24:Qn(t,n,a,l),c&2048&&Wh(n.alternate,n);break;default:Qn(t,n,a,l)}}function nr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,N=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:nr(f,g,E,N,c),Rl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?nr(f,g,E,N,c):wl(f,g):(Q._visibility|=2,nr(f,g,E,N,c)),c&&B&2048&&$h(g.alternate,g);break;case 24:nr(f,g,E,N,c),c&&B&2048&&Wh(g.alternate,g);break;default:nr(f,g,E,N,c)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:wl(a,l),c&2048&&$h(l.alternate,l);break;case 24:wl(a,l),c&2048&&Wh(l.alternate,l);break;default:wl(a,l)}n=n.sibling}}var Nl=8192;function ir(t,n,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)op(t,n,a),t=t.sibling}function op(t,n,a){switch(t.tag){case 26:ir(t,n,a),t.flags&Nl&&t.memoizedState!==null&&eT(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:ir(t,n,a);break;case 3:case 4:var l=Gn;Gn=Mo(t.stateNode.containerInfo),ir(t,n,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,ir(t,n,a),Nl=l):ir(t,n,a));break;default:ir(t,n,a)}}function cp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,fp(l,t)}cp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hp(t),t=t.sibling}function hp(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&ga(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vo(t)):Dl(t);break;default:Dl(t)}}function vo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,fp(l,t)}cp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ga(8,n,n.return),vo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,vo(n));break;default:vo(n)}t=t.sibling}}function fp(t,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:ga(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(np(l),l===a){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var p0={getCacheForType:function(t){var n=qe(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Se).controller.signal}},y0=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,It=null,xt=0,Xt=0,gn=null,pa=!1,ar=!1,tf=!1,Bi=0,he=0,ya=0,ys=0,ef=0,pn=0,sr=0,Vl=null,rn=null,nf=!1,Eo=0,dp=0,To=1/0,So=null,_a=null,Ve=0,va=null,rr=null,qi=0,af=0,sf=null,mp=null,Il=0,rf=null;function yn(){return(Ft&2)!==0&&xt!==0?xt&-xt:H.T!==null?ff():Su()}function gp(){if(pn===0)if((xt&536870912)===0||jt){var t=Ga;Ga<<=1,(Ga&3932160)===0&&(Ga=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function ln(t,n,a){(t===ee&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(lr(t,0),Ea(t,xt,pn,!1)),Qa(t,a),((Ft&2)===0||t!==ee)&&(t===ee&&((Ft&2)===0&&(ys|=a),he===4&&Ea(t,xt,pn,!1)),gi(t))}function pp(t,n,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Un(t,n),c=l?E0(t,n):uf(t,n,!0),f=l;do{if(c===0){ar&&!l&&Ea(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!_0(a)){c=uf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Vl;var N=E.current.memoizedState.isDehydrated;if(N&&(lr(E,g).flags|=256),g=uf(E,g,!1),g!==2){if(tf&&!N){E.errorRecoveryDisabledLanes|=f,ys|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){lr(t,0),Ea(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ea(l,n,pn,!pa);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Eo+300-Je(),10<c)){if(Ea(l,n,pn,!pa),Jn(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=Yp(yp.bind(null,l,a,rn,So,nf,n,pn,ys,sr,pa,f,"Throttled",-0,0),c);break t}yp(l,a,rn,So,nf,n,pn,ys,sr,pa,f,null,-0,0)}}break}while(!0);gi(t)}function yp(t,n,a,l,c,f,g,E,N,B,Q,K,q,k){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},op(n,f,K);var ut=(f&62914560)===f?Eo-Je():(f&4194048)===f?dp-Je():0;if(ut=nT(K,ut),ut!==null){qi=f,t.cancelPendingCommit=ut(Rp.bind(null,t,n,f,a,l,c,g,E,N,Q,K,null,q,k)),Ea(t,f,g,!B);return}}Rp(t,n,f,a,l,c,g,E,N)}function _0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ea(t,n,a,l){n&=~ef,n&=~ys,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-fe(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Fa(t,a,n)}function Ao(){return(Ft&6)===0?(Ml(0),!1):!0}function lf(){if(It!==null){if(Xt===0)var t=It.return;else t=It,Di=us=null,Sh(t),Js=null,ml=0,t=It;for(;t!==null;)Kg(t.alternate,t),t=t.return;It=null}}function lr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,j0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qi=0,lf(),ee=t,It=a=wi(t.current,null),xt=n,Xt=0,gn=null,pa=!1,ar=Un(t,n),tf=!1,sr=pn=ef=ys=ya=he=0,rn=Vl=null,nf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-fe(l),f=1<<c;n|=t[c],l&=~f}return Bi=n,Hu(),a}function _p(t,n){Nt=null,H.H=Sl,n===Zs||n===Ju?(n=xm(),Xt=3):n===ch?(n=xm(),Xt=4):Xt=n===jh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,It===null&&(he=1,ho(t,bn(n,t.current)))}function vp(){var t=dn.current;return t===null?!0:(xt&4194048)===xt?Nn===null:(xt&62914560)===xt||(xt&536870912)!==0?t===Nn:!1}function Ep(){var t=H.H;return H.H=Sl,t===null?Sl:t}function Tp(){var t=H.A;return H.A=p0,t}function bo(){he=4,pa||(xt&4194048)!==xt&&dn.current!==null||(ar=!0),(ya&134217727)===0&&(ys&134217727)===0||ee===null||Ea(ee,xt,pn,!1)}function uf(t,n,a){var l=Ft;Ft|=2;var c=Ep(),f=Tp();(ee!==t||xt!==n)&&(So=null,lr(t,n)),n=!1;var g=he;t:do try{if(Xt!==0&&It!==null){var E=It,N=gn;switch(Xt){case 8:lf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Xt;if(Xt=0,gn=null,ur(t,E,N,B),a&&ar){g=0;break t}break;default:B=Xt,Xt=0,gn=null,ur(t,E,N,B)}}v0(),g=he;break}catch(Q){_p(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Di=us=null,Ft=l,H.H=c,H.A=f,It===null&&(ee=null,xt=0,Hu()),g}function v0(){for(;It!==null;)Sp(It)}function E0(t,n){var a=Ft;Ft|=2;var l=Ep(),c=Tp();ee!==t||xt!==n?(So=null,To=Je()+500,lr(t,n)):ar=Un(t,n);t:do try{if(Xt!==0&&It!==null){n=It;var f=gn;e:switch(Xt){case 1:Xt=0,gn=null,ur(t,n,f,1);break;case 2:case 9:if(Mm(f)){Xt=0,gn=null,Ap(n);break}n=function(){Xt!==2&&Xt!==9||ee!==t||(Xt=7),gi(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Mm(f)?(Xt=0,gn=null,Ap(n)):(Xt=0,gn=null,ur(t,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?uy(g):E.stateNode.complete){Xt=0,gn=null;var N=E.sibling;if(N!==null)It=N;else{var B=E.return;B!==null?(It=B,Ro(B)):It=null}break e}}Xt=0,gn=null,ur(t,n,f,5);break;case 6:Xt=0,gn=null,ur(t,n,f,6);break;case 8:lf(),he=6;break t;default:throw Error(s(462))}}T0();break}catch(Q){_p(t,Q)}while(!0);return Di=us=null,H.H=l,H.A=c,Ft=a,It!==null?0:(ee=null,xt=0,Hu(),he)}function T0(){for(;It!==null&&!Lc();)Sp(It)}function Sp(t){var n=Fg(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?Ro(t):It=n}function Ap(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=qg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=qg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Sh(n);default:Kg(a,n),n=It=Tm(n,Bi),n=Fg(a,n,Bi)}t.memoizedProps=t.pendingProps,n===null?Ro(t):It=n}function ur(t,n,a,l){Di=us=null,Sh(n),Js=null,ml=0;var c=n.return;try{if(o0(t,c,n,a,xt)){he=1,ho(t,bn(a,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;he=1,ho(t,bn(a,t.current)),It=null;return}n.flags&32768?(jt||l===1?t=!0:ar||(xt&536870912)!==0?t=!1:(pa=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),bp(n,t)):Ro(n)}function Ro(t){var n=t;do{if((n.flags&32768)!==0){bp(n,pa);return}t=n.return;var a=f0(n.alternate,n,Bi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);he===0&&(he=5)}function bp(t,n){do{var a=d0(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);he=6,It=null}function Rp(t,n,a,l,c,f,g,E,N){t.cancelPendingCommit=null;do Co();while(Ve!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Xc,qc(t,a,f,g,E,N),t===ee&&(It=ee=null,xt=0),rr=n,va=t,qi=a,af=f,sf=c,mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,R0(Zi,function(){return Vp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,g=Ft,Ft|=4;try{m0(t,n,a)}finally{Ft=g,tt.p=c,H.T=l}}Ve=1,Cp(),wp(),Np()}}function Cp(){if(Ve===1){Ve=0;var t=va,n=rr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ft;Ft|=4;try{rp(n,t);var f=Ef,g=fm(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&hm(E.ownerDocument.documentElement,E)){if(N!==null&&Gc(E)){var B=N.start,Q=N.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,q=K&&K.defaultView||window;if(q.getSelection){var k=q.getSelection(),ut=E.textContent.length,yt=Math.min(N.start,ut),te=N.end===void 0?yt:Math.min(N.end,ut);!k.extend&&yt>te&&(g=te,te=yt,yt=g);var z=cm(E,yt),I=cm(E,te);if(z&&I&&(k.rangeCount!==1||k.anchorNode!==z.node||k.anchorOffset!==z.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var j=K.createRange();j.setStart(z.node,z.offset),k.removeAllRanges(),yt>te?(k.addRange(j),k.extend(I.node,I.offset)):(j.setEnd(I.node,I.offset),k.addRange(j))}}}}for(K=[],k=E;k=k.parentNode;)k.nodeType===1&&K.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var F=K[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}jo=!!vf,Ef=vf=null}finally{Ft=c,tt.p=l,H.T=a}}t.current=n,Ve=2}}function wp(){if(Ve===2){Ve=0;var t=va,n=rr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ft;Ft|=4;try{ep(t,n.alternate,n)}finally{Ft=c,tt.p=l,H.T=a}}Ve=3}}function Np(){if(Ve===4||Ve===3){Ve=0,gu();var t=va,n=rr,a=qi,l=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,rr=va=null,Dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(_a=null),Ai(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(qi&3)!==0&&Co(),gi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===rf?Il++:(Il=0,rf=t):Il=0,Ml(0)}}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function Co(){return Cp(),wp(),Np(),Vp()}function Vp(){if(Ve!==5)return!1;var t=va,n=af;af=0;var a=Ai(qi),l=H.T,c=tt.p;try{tt.p=32>a?32:a,H.T=null,a=sf,sf=null;var f=va,g=qi;if(Ve=0,rr=va=null,qi=0,(Ft&6)!==0)throw Error(s(331));var E=Ft;if(Ft|=4,hp(f.current),up(f,f.current,g,a),Ft=E,Ml(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{tt.p=c,H.T=l,Dp(t,n)}}function Ip(t,n,a){n=bn(a,n),n=Lh(t.stateNode,n,2),t=fa(t,n,2),t!==null&&(Qa(t,2),gi(t))}function Zt(t,n,a){if(t.tag===3)Ip(t,t,a);else for(;n!==null;){if(n.tag===3){Ip(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_a===null||!_a.has(l))){t=bn(a,t),a=Mg(2),l=fa(n,a,2),l!==null&&(Og(a,l,n,t),Qa(l,2),gi(l));break}}n=n.return}}function of(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new y0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(tf=!0,c.add(a),t=S0.bind(null,t,n,a),n.then(t,t))}function S0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ee===t&&(xt&a)===a&&(he===4||he===3&&(xt&62914560)===xt&&300>Je()-Eo?(Ft&2)===0&&lr(t,0):ef|=a,sr===xt&&(sr=0)),gi(t)}function Mp(t,n){n===0&&(n=Tu()),t=ss(t,n),t!==null&&(Qa(t,n),gi(t))}function A0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Mp(t,a)}function b0(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Mp(t,a)}function R0(t,n){return De(t,n)}var wo=null,or=null,cf=!1,No=!1,hf=!1,Ta=0;function gi(t){t!==or&&t.next===null&&(or===null?wo=or=t:or=or.next=t),No=!0,cf||(cf=!0,w0())}function Ml(t,n){if(!hf&&No){hf=!0;do for(var a=!1,l=wo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,zp(l,f))}else f=xt,f=Jn(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(a=!0,zp(l,f));l=l.next}while(a);hf=!1}}function C0(){Op()}function Op(){No=cf=!1;var t=0;Ta!==0&&L0()&&(t=Ta);for(var n=Je(),a=null,l=wo;l!==null;){var c=l.next,f=xp(l,n);f===0?(l.next=null,a===null?wo=c:a.next=c,c===null&&(or=a)):(a=l,(t!==0||(f&3)!==0)&&(No=!0)),l=c}Ve!==0&&Ve!==5||Ml(t),Ta!==0&&(Ta=0)}function xp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,N=c[g];N===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Bc(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=ee,a=xt,a=Jn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Un(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Xi(l),Ai(a)){case 2:case 8:a=kr;break;case 32:a=Zi;break;case 268435456:a=pu;break;default:a=Zi}return l=Up.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Xi(l),t.callbackPriority=2,t.callbackNode=null,2}function Up(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Co()&&t.callbackNode!==a)return null;var l=xt;return l=Jn(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pp(t,l,n),xp(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Up.bind(null,t):null)}function zp(t,n){if(Co())return null;pp(t,n,!0)}function w0(){B0(function(){(Ft&6)!==0?De(Pr,C0):Op()})}function ff(){if(Ta===0){var t=Ks;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),Ta=t}return Ta}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Os(""+t)}function jp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function N0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Lp((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?Lp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ui("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ta!==0){var N=g?jp(c,g):new FormData(c);Ih(a,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?jp(c,g):new FormData(c),Ih(a,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var df=0;df<Kc.length;df++){var mf=Kc[df],D0=mf.toLowerCase(),V0=mf[0].toUpperCase()+mf.slice(1);Hn(D0,"on"+V0)}Hn(gm,"onAnimationEnd"),Hn(pm,"onAnimationIteration"),Hn(ym,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(FE,"onTransitionRun"),Hn(YE,"onTransitionStart"),Hn(KE,"onTransitionCancel"),Hn(_m,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Bp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,B=E.currentTarget;if(E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){ku(Q)}c.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,B=E.currentTarget,E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){ku(Q)}c.currentTarget=null,f=N}}}}function Mt(t,n){var a=n[Ns];a===void 0&&(a=n[Ns]=new Set);var l=t+"__bubble";a.has(l)||(qp(n,t,2,!1),a.add(l))}function gf(t,n,a){var l=0;n&&(l|=4),qp(a,t,l,n)}var Do="_reactListening"+Math.random().toString(36).slice(2);function pf(t){if(!t[Do]){t[Do]=!0,Qr.forEach(function(a){a!=="selectionchange"&&(I0.has(a)||gf(a,!1,t),gf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Do]||(n[Do]=!0,gf("selectionchange",!1,n))}}function qp(t,n,a,l){switch(gy(n)){case 2:var c=sT;break;case 8:c=rT;break;default:c=If}a=c.bind(null,n,a,t),c=void 0,!Ja||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function yf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ei(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue t}E=E.parentNode}}l=l.return}na(function(){var B=f,Q=En(a),K=[];t:{var q=vm.get(t);if(q!==void 0){var k=ui,ut=t;switch(t){case"keypress":if(Wa(a)===0)break t;case"keydown":case"keyup":k=Bu;break;case"focusin":ut="focus",k=es;break;case"focusout":ut="blur",k=es;break;case"beforeblur":case"afterblur":k=es;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case gm:case pm:case ym:k=Mu;break;case _m:k=T;break;case"scroll":case"scrollend":k=il;break;case"wheel":k=P;break;case"copy":case"cut":case"paste":k=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ci;break;case"toggle":case"beforetoggle":k=wt}var yt=(n&4)!==0,te=!yt&&(t==="scroll"||t==="scrollend"),z=yt?q!==null?q+"Capture":null:q;yt=[];for(var I=B,j;I!==null;){var F=I;if(j=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||j===null||z===null||(F=Bn(I,z),F!=null&&yt.push(xl(I,F,j))),te)break;I=I.return}0<yt.length&&(q=new k(q,ut,null,a,Q),K.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",q&&a!==tl&&(ut=a.relatedTarget||a.fromElement)&&(ei(ut)||ut[Wn]))break t;if((k||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,k?(ut=a.relatedTarget||a.toElement,k=B,ut=ut?ei(ut):null,ut!==null&&(te=h(ut),yt=ut.tag,ut!==te||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(k=null,ut=B),k!==ut)){if(yt=al,F="onMouseLeave",z="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Ci,F="onPointerLeave",z="onPointerEnter",I="pointer"),te=k==null?q:on(k),j=ut==null?q:on(ut),q=new yt(F,I+"leave",k,a,Q),q.target=te,q.relatedTarget=j,F=null,ei(Q)===B&&(yt=new yt(z,I+"enter",ut,a,Q),yt.target=j,yt.relatedTarget=te,F=yt),te=F,k&&ut)e:{for(yt=M0,z=k,I=ut,j=0,F=z;F;F=yt(F))j++;F=0;for(var ft=I;ft;ft=yt(ft))F++;for(;0<j-F;)z=yt(z),j--;for(;0<F-j;)I=yt(I),F--;for(;j--;){if(z===I||I!==null&&z===I.alternate){yt=z;break e}z=yt(z),I=yt(I)}yt=null}else yt=null;k!==null&&Pp(K,q,k,yt,!1),ut!==null&&te!==null&&Pp(K,te,ut,yt,!0)}}t:{if(q=B?on(B):window,k=q.nodeName&&q.nodeName.toLowerCase(),k==="select"||k==="input"&&q.type==="file")var kt=am;else if(nm(q))if(sm)kt=HE;else{kt=PE;var ot=qE}else k=q.nodeName,!k||k.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ms(B.elementType)&&(kt=am):kt=kE;if(kt&&(kt=kt(t,B))){im(K,kt,a,Q);break t}ot&&ot(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Jr(q,"number",q.value)}switch(ot=B?on(B):window,t){case"focusin":(nm(ot)||ot.contentEditable==="true")&&(qs=ot,Qc=B,ol=null);break;case"focusout":ol=Qc=qs=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,dm(K,a,Q);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":dm(K,a,Q)}var Dt;if(Qt)t:{switch(t){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Bs?ns(t,a)&&(Ut="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(hi&&a.locale!=="ko"&&(Bs||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Bs&&(Dt=nl()):(li=Q,el="value"in li?li.value:li.textContent,Bs=!0)),ot=Vo(B,Ut),0<ot.length&&(Ut=new ci(Ut,t,null,a,Q),K.push({event:Ut,listeners:ot}),Dt?Ut.data=Dt:(Dt=js(a),Dt!==null&&(Ut.data=Dt)))),(Dt=Sn?zE(t,a):LE(t,a))&&(Ut=Vo(B,"onBeforeInput"),0<Ut.length&&(ot=new ci("onBeforeInput","beforeinput",null,a,Q),K.push({event:ot,listeners:Ut}),ot.data=Dt)),N0(K,t,B,a,Q)}Bp(K,n)})}function xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Vo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(t,a),c!=null&&l.unshift(xl(t,c,f)),c=Bn(t,n),c!=null&&l.push(xl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function M0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,N=E.alternate,B=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||B===null||(N=B,c?(B=Bn(a,f),B!=null&&g.unshift(xl(a,B,N))):c||(B=Bn(a,f),B!=null&&g.push(xl(a,B,N)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var O0=/\r\n?/g,x0=/\u0000|\uFFFD/g;function kp(t){return(typeof t=="string"?t:""+t).replace(O0,`
`).replace(x0,"")}function Hp(t,n){return n=kp(n),kp(t)===n}function Wt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Wr(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Os(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Wt(t,n,"name",c.name,c,null),Wt(t,n,"formEncType",c.formEncType,c,null),Wt(t,n,"formMethod",c.formMethod,c,null),Wt(t,n,"formTarget",c.formTarget,c,null)):(Wt(t,n,"encType",c.encType,c,null),Wt(t,n,"method",c.method,c,null),Wt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Os(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jn);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Os(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Vs(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,Vs(t,a,l))}}function _f(t,n,a,l,c,f){switch(a){case"style":Wr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Vs(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,f,g,a,null)}}c&&Wt(t,n,"srcSet",a.srcSet,a,null),l&&Wt(t,n,"src",a.src,a,null);return;case"input":Mt("invalid",t);var E=f=g=c=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":N=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Wt(t,n,l,Q,a,null)}}Cu(t,f,E,N,B,g,c,!1);return;case"select":Mt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Wt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?$i(t,!!l,n,!1):a!=null&&$i(t,!!l,a,!0);return;case"textarea":Mt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(t,n,g,E,a,null)}Wi(t,l,c,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(t,n,N,l,a,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Mt(Ol[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,B,l,a,null)}return;default:if(Ms(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&_f(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Wt(t,n,E,l,a,null))}function U0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,N=null,B=null,Q=null;for(k in a){var K=a[k];if(a.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":N=K;default:l.hasOwnProperty(k)||Wt(t,n,k,null,l,K)}}for(var q in l){var k=l[q];if(K=a[q],l.hasOwnProperty(q)&&(k!=null||K!=null))switch(q){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":Q=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==K&&Wt(t,n,q,k,l,K)}}Is(t,g,E,N,B,Q,f,c);return;case"select":k=g=E=q=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":k=N;default:l.hasOwnProperty(f)||Wt(t,n,f,null,l,N)}for(c in l)if(f=l[c],N=a[c],l.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&Wt(t,n,c,f,l,N)}n=E,a=g,l=k,q!=null?$i(t,!!a,q,!1):!!l!=!!a&&(n!=null?$i(t,!!a,n,!0):$i(t,!!a,a?[]:"",!1));return;case"textarea":k=q=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Wt(t,n,g,c,l,f)}wu(t,q,k);return;case"option":for(var ut in a)if(q=a[ut],a.hasOwnProperty(ut)&&q!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:Wt(t,n,ut,null,l,q)}for(N in l)if(q=l[N],k=a[N],l.hasOwnProperty(N)&&q!==k&&(q!=null||k!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Wt(t,n,N,q,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)q=a[yt],a.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt)&&Wt(t,n,yt,null,l,q);for(B in l)if(q=l[B],k=a[B],l.hasOwnProperty(B)&&q!==k&&(q!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Wt(t,n,B,q,l,k)}return;default:if(Ms(n)){for(var te in a)q=a[te],a.hasOwnProperty(te)&&q!==void 0&&!l.hasOwnProperty(te)&&_f(t,n,te,void 0,l,q);for(Q in l)q=l[Q],k=a[Q],!l.hasOwnProperty(Q)||q===k||q===void 0&&k===void 0||_f(t,n,Q,q,l,k);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&Wt(t,n,z,null,l,q);for(K in l)q=l[K],k=a[K],!l.hasOwnProperty(K)||q===k||q==null&&k==null||Wt(t,n,K,q,l,k)}function Gp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z0(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Gp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>E)break;var Q=N.transferSize,K=N.initiatorType;Q&&Gp(K)&&(N=N.responseEnd,g+=Q*(N<E?1:(E-B)/(N-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vf=null,Ef=null;function Io(t){return t.nodeType===9?t:t.ownerDocument}function Qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Sf=null;function L0(){var t=window.event;return t&&t.type==="popstate"?t===Sf?!1:(Sf=t,!0):(Sf=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,j0=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,B0=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(t){return Kp.resolve(null).then(t).catch(q0)}:Yp;function q0(t){setTimeout(function(){throw t})}function Sa(t){return t==="head"}function Xp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),dr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ul(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Ul(t.ownerDocument.body);a=c}while(a);dr(n)}function Zp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Af(a),Ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function P0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function k0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function Jp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function bf(t){return t.data==="$?"||t.data==="$~"}function Rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function H0(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Cf=null;function $p(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Wp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function ty(t,n,a){switch(n=Io(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ds(t)}var Vn=new Map,ey=new Set;function Mo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=tt.d;tt.d={f:G0,r:Q0,D:F0,C:Y0,L:K0,m:X0,X:J0,S:Z0,M:$0};function G0(){var t=Pi.f(),n=Ao();return t||n}function Q0(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?_g(n):Pi.r(t)}var cr=typeof document>"u"?null:document;function ny(t,n,a){var l=cr;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ey.has(c)||(ey.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),Ee(n),l.head.appendChild(n)))}}function F0(t){Pi.D(t),ny("dns-prefetch",t,null)}function Y0(t,n){Pi.C(t,n),ny("preconnect",t,n)}function K0(t,n,a){Pi.L(t,n,a);var l=cr;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(n){case"style":f=hr(t);break;case"script":f=fr(t)}Vn.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(zl(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),ke(n,"link",t),Ee(n),l.head.appendChild(n)))}}function X0(t,n){Pi.m(t,n);var a=cr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fr(t)}if(!Vn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(f)))return}l=a.createElement("link"),ke(l,"link",t),Ee(l),a.head.appendChild(l)}}}function Z0(t,n,a){Pi.S(t,n,a);var l=cr;if(l&&t){var c=ni(l).hoistableStyles,f=hr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(zl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&wf(t,a);var N=g=l.createElement("link");Ee(N),ke(N,"link",t),N._p=new Promise(function(B,Q){N.onload=B,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Oo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function J0(t,n){Pi.X(t,n);var a=cr;if(a&&t){var l=ni(a).hoistableScripts,c=fr(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=b({src:t,async:!0},n),(n=Vn.get(c))&&Nf(t,n),f=a.createElement("script"),Ee(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $0(t,n){Pi.M(t,n);var a=cr;if(a&&t){var l=ni(a).hoistableScripts,c=fr(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&Nf(t,n),f=a.createElement("script"),Ee(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function iy(t,n,a,l){var c=(c=Rt.current)?Mo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=hr(a.href),a=ni(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=hr(a.href);var f=ni(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(zl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||W0(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fr(a),a=ni(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function hr(t){return'href="'+tn(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function ay(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function W0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),Ee(n),t.head.appendChild(n))}function fr(t){return'[src="'+tn(t)+'"]'}function Ll(t){return"script[async]"+t}function sy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),ke(l,"style",c),Oo(l,a.precedence,t),n.instance=l;case"stylesheet":c=hr(a.href);var f=t.querySelector(zl(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=ay(a),(c=Vn.get(c))&&wf(l,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),ke(f,"link",l),n.state.loading|=4,Oo(f,a.precedence,t),n.instance=f;case"script":return f=fr(a.src),(c=t.querySelector(Ll(f)))?(n.instance=c,Ee(c),c):(l=a,(c=Vn.get(f))&&(l=b({},a),Nf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Oo(l,a.precedence,t));return n.instance}function Oo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xo=null;function ry(t,n,a){if(xo===null){var l=new Map,c=xo=new Map;c.set(a,l)}else c=xo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ti]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ly(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function tT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=hr(l.href),f=n.querySelector(zl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,l=ay(l),(c=Vn.get(c))&&wf(l,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),ke(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Df=0;function nT(t,n){return t.stylesheets&&t.count===0&&Lo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Lo(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Df===0&&(Df=62500*z0());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lo(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Df?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zo=null;function Lo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zo=new Map,n.forEach(iT,t),zo=null,Uo.call(t))}function iT(t,n){if(!(n.state.loading&4)){var a=zo.get(t);if(a)var l=a.get(null);else{a=new Map,zo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Uo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var jl={$$typeof:it,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function aT(t,n,a,l,c,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function oy(t,n,a,l,c,f,g,E,N,B,Q,K){return t=new aT(t,n,a,g,N,B,Q,K,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=lh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},hh(f),t}function cy(t){return t?(t=Hs,t):Hs}function hy(t,n,a,l,c,f){c=cy(c),l.context===null?l.context=c:l.pendingContext=c,l=ha(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=fa(t,l,n),a!==null&&(ln(a,t,n),pl(a,t,n))}function fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Vf(t,n){fy(t,n),(t=t.alternate)&&fy(t,n)}function dy(t){if(t.tag===13||t.tag===31){var n=ss(t,67108864);n!==null&&ln(n,t,67108864),Vf(t,67108864)}}function my(t){if(t.tag===13||t.tag===31){var n=yn();n=Ya(n);var a=ss(t,n);a!==null&&ln(a,t,n),Vf(t,n)}}var jo=!0;function sT(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,If(t,n,a,l)}finally{tt.p=f,H.T=c}}function rT(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,If(t,n,a,l)}finally{tt.p=f,H.T=c}}function If(t,n,a,l){if(jo){var c=Mf(l);if(c===null)yf(t,n,l,Bo,a),py(t,l);else if(uT(c,t,n,a,l))l.stopPropagation();else if(py(t,l),n&4&&-1<lT.indexOf(t)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Zn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-fe(g);E.entanglements[1]|=N,g&=~N}gi(f),(Ft&6)===0&&(To=Je()+500,Ml(0))}}break;case 31:case 13:E=ss(f,2),E!==null&&ln(E,f,2),Ao(),Vf(f,2)}if(f=Mf(l),f===null&&yf(t,n,l,Bo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else yf(t,n,l,null,a)}}function Mf(t){return t=En(t),Of(t)}var Bo=null;function Of(t){if(Bo=null,t=ei(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bo=t,null}function gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ha()){case Pr:return 2;case kr:return 8;case Zi:case jc:return 32;case pu:return 268435456;default:return 32}default:return 32}}var xf=!1,Aa=null,ba=null,Ra=null,Bl=new Map,ql=new Map,Ca=[],lT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(t,n){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Pl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&dy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function uT(t,n,a,l,c){switch(n){case"focusin":return Aa=Pl(Aa,t,n,a,l,c),!0;case"dragenter":return ba=Pl(ba,t,n,a,l,c),!0;case"mouseover":return Ra=Pl(Ra,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Bl.set(f,Pl(Bl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,ql.set(f,Pl(ql.get(f)||null,t,n,a,l,c)),!0}return!1}function yy(t){var n=ei(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){my(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,zn(t.priority,function(){my(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Mf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return n=vn(a),n!==null&&dy(n),t.blockedOn=a,!1;n.shift()}return!0}function _y(t,n,a){qo(t)&&a.delete(n)}function oT(){xf=!1,Aa!==null&&qo(Aa)&&(Aa=null),ba!==null&&qo(ba)&&(ba=null),Ra!==null&&qo(Ra)&&(Ra=null),Bl.forEach(_y),ql.forEach(_y)}function Po(t,n){t.blockedOn===n&&(t.blockedOn=null,xf||(xf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,oT)))}var ko=null;function vy(t){ko!==t&&(ko=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ko===t&&(ko=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Of(l||a)===null)continue;break}var f=vn(a);f!==null&&(t.splice(n,3),n-=3,Ih(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function dr(t){function n(N){return Po(N,t)}Aa!==null&&Po(Aa,t),ba!==null&&Po(ba,t),Ra!==null&&Po(Ra,t),Bl.forEach(n),ql.forEach(n);for(var a=0;a<Ca.length;a++){var l=Ca[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ca.length&&(a=Ca[0],a.blockedOn===null);)yy(a),a.blockedOn===null&&Ca.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Me]||null;if(typeof f=="function")g||vy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Of(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),vy(a)}}}function Ey(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Uf(t){this._internalRoot=t}Ho.prototype.render=Uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=yn();hy(a,l,t,n,null,null)},Ho.prototype.unmount=Uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;hy(t.current,2,null,t,null,null),Ao(),n[Wn]=null}};function Ho(t){this._internalRoot=t}Ho.prototype.unstable_scheduleHydration=function(t){if(t){var n=Su();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ca.length&&n!==0&&n<Ca[a].priority;a++);Ca.splice(a,0,t),a===0&&yy(t)}};var Ty=e.version;if(Ty!=="19.2.0")throw Error(s(527,Ty,"19.2.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var cT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{xn=Go.inject(cT),Le=Go}catch{}}return Hl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=Ng,f=Dg,g=Vg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=oy(t,1,!1,null,null,a,l,null,c,f,g,Ey),t[Wn]=n.current,pf(t),new Uf(n)},Hl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=Ng,g=Dg,E=Vg,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=oy(t,1,!0,n,a??null,l,c,N,f,g,E,Ey),n.context=cy(null),a=n.current,l=yn(),l=Ya(l),c=ha(l),c.callback=null,fa(a,c,l),a=l,n.current.lanes=a,Qa(n,a),gi(n),t[Wn]=n.current,pf(t),new Ho(n)},Hl.version="19.2.0",Hl}var Iy;function ET(){if(Iy)return jf.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jf.exports=vT(),jf.exports}var TT=ET();const Hi=[2,3,4,5,6,7,8,9],H_=r=>"narrative"in r,G_=[{name:"",timeLimit:120,questionSpeed:15e3},{name:"",timeLimit:90,questionSpeed:1e4},{name:"",timeLimit:60,questionSpeed:5e3}],My=" ()",ST=({onSelectDifficulty:r,selectedTables:e,onToggleTable:i,onResetTables:s,questionMode:u,onSelectMode:h,onShowLeaderboard:d})=>{const[y,v]=dt.useState("60"),[_,S]=dt.useState("5"),[b,U]=dt.useState(""),[G,W]=dt.useState(!1),$=e.length>0;dt.useEffect(()=>{$&&b===My&&U("")},[$,b]);const J=it=>{$&&r(it)},lt=it=>{it.preventDefault();const _t=Number(y),bt=Number(_);if(!Number.isFinite(_t)||_t<=0){U(" ()");return}if(!Number.isFinite(bt)||bt<=0){U(" ()");return}if(bt>_t){U("");return}if(!$){U(My);return}U(""),r({name:"",timeLimit:Math.floor(_t),questionSpeed:Math.floor(bt*1e3)})},gt=it=>{switch(it){case"":return"easy";case"":return"normal";case"":return"hard";default:return""}};return M.jsxs("div",{className:"difficulty-selector",children:[M.jsxs("header",{className:"hero",children:[M.jsxs("h1",{className:"hero-title",children:[M.jsx("span",{className:"hero-icon",children:""}),"99 "]}),M.jsx("p",{className:"hero-subtitle",children:""}),d&&M.jsx("button",{type:"button",className:"hero-leaderboard-btn",onClick:d,children:" "})]}),M.jsxs("section",{className:"step-section",children:[M.jsxs("div",{className:"step-header",children:[M.jsx("span",{className:"step-number",children:"1"}),M.jsx("h2",{className:"step-title",children:""})]}),M.jsxs("div",{className:"mode-buttons",children:[M.jsxs("button",{type:"button",className:`mode-card ${u==="basic"?"active":""}`,onClick:()=>h("basic"),children:[M.jsx("div",{className:"mode-icon",children:""}),M.jsxs("div",{className:"mode-content",children:[M.jsx("span",{className:"mode-name",children:""}),M.jsx("span",{className:"mode-desc",children:""})]})]}),M.jsxs("button",{type:"button",className:`mode-card ${u==="narrative"?"active":""}`,onClick:()=>h("narrative"),children:[M.jsx("div",{className:"mode-icon",children:""}),M.jsxs("div",{className:"mode-content",children:[M.jsx("span",{className:"mode-name",children:""}),M.jsx("span",{className:"mode-desc",children:""})]})]})]})]}),M.jsxs("section",{className:"step-section",children:[M.jsxs("div",{className:"step-header",children:[M.jsx("span",{className:"step-number",children:"2"}),M.jsx("h2",{className:"step-title",children:""}),M.jsxs("span",{className:"step-hint",children:[" ",e.length,"/",Hi.length," "]})]}),M.jsx("div",{className:"table-grid",children:Hi.map(it=>{const _t=e.includes(it);return M.jsxs("button",{type:"button",className:`table-chip ${_t?"checked":""}`,onClick:()=>i(it),children:[it," "]},it)})}),M.jsxs("div",{className:"table-actions",children:[!$&&M.jsx("div",{className:"table-error",children:""}),$&&e.length!==Hi.length&&M.jsx("button",{type:"button",className:"table-reset",onClick:s,children:""})]})]}),M.jsxs("section",{className:"step-section",children:[M.jsxs("div",{className:"step-header",children:[M.jsx("span",{className:"step-number",children:"3"}),M.jsx("h2",{className:"step-title",children:""})]}),M.jsx("div",{className:"difficulty-grid",children:G_.map(it=>M.jsxs("button",{onClick:()=>J(it),className:`difficulty-card ${gt(it.name)}`,disabled:!$,children:[M.jsx("div",{className:"difficulty-name",children:it.name}),M.jsxs("div",{className:"difficulty-stats",children:[M.jsxs("div",{className:"stat",children:[M.jsx("span",{className:"stat-icon",children:""}),M.jsxs("span",{children:[it.timeLimit," "]})]}),M.jsxs("div",{className:"stat",children:[M.jsx("span",{className:"stat-icon",children:""}),M.jsxs("span",{children:[it.questionSpeed/1e3," /"]})]})]})]},it.name))})]}),M.jsxs("section",{className:"advanced-section",children:[M.jsxs("button",{type:"button",className:"advanced-toggle",onClick:()=>W(!G),children:[M.jsx("span",{children:""}),M.jsx("span",{className:`toggle-arrow ${G?"open":""}`,children:""})]}),G&&M.jsx("div",{className:"advanced-content",children:M.jsxs("form",{onSubmit:lt,className:"custom-form",children:[M.jsxs("div",{className:"form-row",children:[M.jsxs("label",{className:"form-field",children:[M.jsx("span",{className:"field-label",children:""}),M.jsxs("div",{className:"input-group",children:[M.jsx("input",{type:"number",min:5,value:y,onChange:it=>v(it.target.value),required:!0}),M.jsx("span",{className:"input-suffix",children:""})]})]}),M.jsxs("label",{className:"form-field",children:[M.jsx("span",{className:"field-label",children:""}),M.jsxs("div",{className:"input-group",children:[M.jsx("input",{type:"number",min:1,value:_,onChange:it=>S(it.target.value),required:!0}),M.jsx("span",{className:"input-suffix",children:""})]})]})]}),b&&M.jsx("div",{className:"custom-error",children:b}),M.jsx("button",{type:"submit",className:"custom-submit",disabled:!$,children:""})]})})]})]})},AT=({onNumberClick:r,onBackspace:e,onSubmit:i,disabled:s})=>{const u=["1","2","3","4","5","6","7","8","9"];return M.jsx("div",{className:"virtual-keyboard",children:M.jsxs("div",{className:"keyboard-grid",children:[u.map(h=>M.jsx("button",{className:"keyboard-button",onClick:()=>r(h),disabled:s,children:h},h)),M.jsx("button",{className:"keyboard-button backspace action",onClick:e,disabled:s,children:" "}),M.jsx("button",{className:"keyboard-button zero",onClick:()=>r("0"),disabled:s,children:"0"}),M.jsx("button",{className:"keyboard-button submit action",onClick:i,disabled:s,children:" "})]})})},bT=({question:r,userInput:e,score:i,timeRemaining:s,onInputChange:u,onSubmit:h,questionCountdownMs:d,questionIntervalMs:y,isPenaltyActive:v,questionMode:_})=>{const S=dt.useCallback($=>{v||($.key>="0"&&$.key<="9"?u(e+$.key):$.key==="Backspace"?u(e.slice(0,-1)):$.key==="Enter"&&h())},[e,u,h,v]);dt.useEffect(()=>{if(!v)return window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)}},[S,v]);const b=$=>{u(e+$)},U=()=>{u(e.slice(0,-1))},G=Math.max(0,Math.ceil(d/1e3)),W=y?Math.min(100,Math.max(0,d/y*100)):0;return M.jsxs("div",{className:"game",children:[M.jsxs("div",{className:"game-header",children:[M.jsxs("div",{className:"score",children:[": ",i]}),M.jsxs("div",{className:"timer",children:[": ",s,""]})]}),M.jsxs("div",{className:"question-display",children:[_==="narrative"&&H_(r)?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"narrative-question",children:r.narrative}),M.jsx("div",{className:"narrative-hint",children:""}),M.jsxs("div",{className:"narrative-formula-boxes",children:[M.jsx("div",{className:`formula-box ${e.length>=1?"filled":""}`,children:e[0]||""}),M.jsx("span",{className:"formula-operator",children:""}),M.jsx("div",{className:`formula-box ${e.length>=2?"filled":""}`,children:e[1]||""}),M.jsx("span",{className:"formula-operator",children:"="}),M.jsx("div",{className:`formula-box answer-box ${e.length>=3?"filled":""}`,children:e.slice(2)||""}),M.jsx("span",{className:"answer-unit",children:r.unit})]})]}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"question",children:[r.num1,"  ",r.num2," = ?"]}),M.jsx("div",{className:"answer-input",children:e||"_"})]}),M.jsxs("div",{className:"question-progress",children:[M.jsxs("div",{className:"progress-label",children:[" ",G," "]}),M.jsx("div",{className:"progress-bar",role:"progressbar","aria-valuenow":W,"aria-valuemin":0,"aria-valuemax":100,children:M.jsx("div",{className:"progress-fill",style:{width:`${W}%`}})})]})]}),M.jsx(AT,{onNumberClick:b,onBackspace:U,onSubmit:h,disabled:v}),M.jsx("div",{className:"hint",children:" Enter "})]})},RT=()=>{};var Oy={};const Q_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},CT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},F_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,S=h>>2,b=(h&3)<<4|y>>4;let U=(y&15)<<2|_>>6,G=_&63;v||(G=64,d||(U=64)),s.push(i[S],i[b],i[U],i[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Q_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):CT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const b=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||y==null||_==null||b==null)throw new wT;const U=h<<2|y>>4;if(s.push(U),_!==64){const G=y<<4&240|_>>2;if(s.push(G),b!==64){const W=_<<6&192|b;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NT=function(r){const e=Q_(r);return F_.encodeByteArray(e,!0)},sc=function(r){return NT(r).replace(/\./g,"")},DT=function(r){try{return F_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IT=()=>VT().__FIREBASE_DEFAULTS__,MT=()=>{if(typeof process>"u"||typeof Oy>"u")return;const r=Oy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},OT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&DT(r[1]);return e&&JSON.parse(e)},Ed=()=>{try{return RT()||IT()||MT()||OT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xT=r=>Ed()?.emulatorHosts?.[r],UT=r=>{const e=xT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Y_=()=>Ed()?.config;class zT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Td(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LT(r){return(await fetch(r,{credentials:"include"})).ok}function jT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[sc(JSON.stringify(i)),sc(JSON.stringify(d)),""].join(".")}const Zl={};function BT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?r.emulator.push(e):r.prod.push(e);return r}function qT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let xy=!1;function PT(r,e){if(typeof window>"u"||typeof document>"u"||!Td(window.location.host)||Zl[r]===e||Zl[r]||xy)return;Zl[r]=e;function i(U){return`__firebase__banner__${U}`}const s="__firebase__banner",h=BT().prod.length>0;function d(){const U=document.getElementById(s);U&&U.remove()}function y(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,G){U.setAttribute("width","24"),U.setAttribute("id",G),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{xy=!0,d()},U}function S(U,G){U.setAttribute("id",G),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function b(){const U=qT(s),G=i("text"),W=document.getElementById(G)||document.createElement("span"),$=i("learnmore"),J=document.getElementById($)||document.createElement("a"),lt=i("preprendIcon"),gt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const it=U.element;y(it),S(J,$);const _t=_();v(gt,lt),it.append(gt,W,J,_t),document.body.appendChild(it)}h?(W.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function kT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HT(){const r=Ed()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GT(){return!HT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QT(){try{return typeof indexedDB=="object"}catch{return!1}}function FT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}const YT="FirebaseError";class Mr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=YT,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K_.prototype.create)}}class K_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?KT(h,s):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new Mr(u,y,s)}}function KT(r,e){return r.replace(XT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const XT=/\{\$([^}]+)}/g;function rc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(Uy(h)&&Uy(d)){if(!rc(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Uy(r){return r!==null&&typeof r=="object"}function Rr(r){return r&&r._delegate?r._delegate:r}class eu{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _s="[DEFAULT]";class ZT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new zT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($T(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JT(r){return r===_s?void 0:r}function $T(r){return r.instantiationMode==="EAGER"}class WT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ZT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const t1={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},e1=qt.INFO,n1={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},i1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=n1[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X_{constructor(e){this.name=e,this._logLevel=e1,this._logHandler=i1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const a1=(r,e)=>e.some(i=>r instanceof i);let zy,Ly;function s1(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r1(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z_=new WeakMap,Jf=new WeakMap,J_=new WeakMap,kf=new WeakMap,Sd=new WeakMap;function l1(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Da(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Z_.set(i,r)}).catch(()=>{}),Sd.set(e,r),e}function u1(r){if(Jf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Jf.set(r,e)}let $f={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Jf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||J_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Da(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function o1(r){$f=r($f)}function c1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Hf(this),e,...i);return J_.set(s,e.sort?e.sort():[e]),Da(s)}:r1().includes(r)?function(...e){return r.apply(Hf(this),e),Da(Z_.get(this))}:function(...e){return Da(r.apply(Hf(this),e))}}function h1(r){return typeof r=="function"?c1(r):(r instanceof IDBTransaction&&u1(r),a1(r,s1())?new Proxy(r,$f):r)}function Da(r){if(r instanceof IDBRequest)return l1(r);if(kf.has(r))return kf.get(r);const e=h1(r);return e!==r&&(kf.set(r,e),Sd.set(e,r)),e}const Hf=r=>Sd.get(r);function f1(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),y=Da(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Da(d.result),v.oldVersion,v.newVersion,Da(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const d1=["get","getKey","getAll","getAllKeys","count"],m1=["put","add","delete","clear"],Gf=new Map;function jy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=m1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||d1.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return Gf.set(e,h),h}o1(r=>({...r,get:(e,i,s)=>jy(e,i)||r.get(e,i,s),has:(e,i)=>!!jy(e,i)||r.has(e,i)}));class g1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(p1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function p1(r){return r.getComponent()?.type==="VERSION"}const Wf="@firebase/app",By="0.14.6";const Qi=new X_("@firebase/app"),y1="@firebase/app-compat",_1="@firebase/analytics-compat",v1="@firebase/analytics",E1="@firebase/app-check-compat",T1="@firebase/app-check",S1="@firebase/auth",A1="@firebase/auth-compat",b1="@firebase/database",R1="@firebase/data-connect",C1="@firebase/database-compat",w1="@firebase/functions",N1="@firebase/functions-compat",D1="@firebase/installations",V1="@firebase/installations-compat",I1="@firebase/messaging",M1="@firebase/messaging-compat",O1="@firebase/performance",x1="@firebase/performance-compat",U1="@firebase/remote-config",z1="@firebase/remote-config-compat",L1="@firebase/storage",j1="@firebase/storage-compat",B1="@firebase/firestore",q1="@firebase/ai",P1="@firebase/firestore-compat",k1="firebase",H1="12.6.0";const td="[DEFAULT]",G1={[Wf]:"fire-core",[y1]:"fire-core-compat",[v1]:"fire-analytics",[_1]:"fire-analytics-compat",[T1]:"fire-app-check",[E1]:"fire-app-check-compat",[S1]:"fire-auth",[A1]:"fire-auth-compat",[b1]:"fire-rtdb",[R1]:"fire-data-connect",[C1]:"fire-rtdb-compat",[w1]:"fire-fn",[N1]:"fire-fn-compat",[D1]:"fire-iid",[V1]:"fire-iid-compat",[I1]:"fire-fcm",[M1]:"fire-fcm-compat",[O1]:"fire-perf",[x1]:"fire-perf-compat",[U1]:"fire-rc",[z1]:"fire-rc-compat",[L1]:"fire-gcs",[j1]:"fire-gcs-compat",[B1]:"fire-fst",[P1]:"fire-fst-compat",[q1]:"fire-vertex","fire-js":"fire-js",[k1]:"fire-js-all"};const lc=new Map,Q1=new Map,ed=new Map;function qy(r,e){try{r.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function uc(r){const e=r.name;if(ed.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;ed.set(e,r);for(const i of lc.values())qy(i,r);for(const i of Q1.values())qy(i,r);return!0}function F1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Y1(r){return r==null?!1:r.settings!==void 0}const K1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new K_("app","Firebase",K1);class X1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}const Z1=H1;function $_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:td,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw Va.create("bad-app-name",{appName:String(u)});if(i||(i=Y_()),!i)throw Va.create("no-options");const h=lc.get(u);if(h){if(rc(i,h.options)&&rc(s,h.config))return h;throw Va.create("duplicate-app",{appName:u})}const d=new WT(u);for(const v of ed.values())d.addComponent(v);const y=new X1(i,s,d);return lc.set(u,y),y}function J1(r=td){const e=lc.get(r);if(!e&&r===td&&Y_())return $_();if(!e)throw Va.create("no-app",{appName:r});return e}function Tr(r,e,i){let s=G1[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}uc(new eu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const $1="firebase-heartbeat-database",W1=1,nu="firebase-heartbeat-store";let Qf=null;function W_(){return Qf||(Qf=f1($1,W1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(i){console.warn(i)}}}}).catch(r=>{throw Va.create("idb-open",{originalErrorMessage:r.message})})),Qf}async function tS(r){try{const i=(await W_()).transaction(nu),s=await i.objectStore(nu).get(tv(r));return await i.done,s}catch(e){if(e instanceof Mr)Qi.warn(e.message);else{const i=Va.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(i.message)}}}async function Py(r,e){try{const s=(await W_()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,tv(r)),await s.done}catch(i){if(i instanceof Mr)Qi.warn(i.message);else{const s=Va.create("idb-set",{originalErrorMessage:i?.message});Qi.warn(s.message)}}}function tv(r){return`${r.name}!${r.options.appId}`}const eS=1024,nS=30;class iS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ky();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>nS){const u=rS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ky(),{heartbeatsToSend:i,unsentEntries:s}=aS(this._heartbeatsCache.heartbeats),u=sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Qi.warn(e),""}}}function ky(){return new Date().toISOString().substring(0,10)}function aS(r,e=eS){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Hy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Hy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class sS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QT()?FT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await tS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hy(r){return sc(JSON.stringify({version:2,heartbeats:r})).length}function rS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function lS(r){uc(new eu("platform-logger",e=>new g1(e),"PRIVATE")),uc(new eu("heartbeat",e=>new iS(e),"PRIVATE")),Tr(Wf,By,r),Tr(Wf,By,"esm2020"),Tr("fire-js","")}lS("");var uS="firebase",oS="12.6.0";Tr(uS,oS,"app");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ia,ev;(function(){var r;function e(C,A){function w(){}w.prototype=A.prototype,C.F=A.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(x,V,D){for(var R=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)R[Pt-2]=arguments[Pt];return A.prototype[V].apply(x,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(C,A,w){w||(w=0);const x=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)x[V]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(V=0;V<16;++V)x[V]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=C.g[0],w=C.g[1],V=C.g[2];let D=C.g[3],R;R=A+(D^w&(V^D))+x[0]+3614090360&4294967295,A=w+(R<<7&4294967295|R>>>25),R=D+(V^A&(w^V))+x[1]+3905402710&4294967295,D=A+(R<<12&4294967295|R>>>20),R=V+(w^D&(A^w))+x[2]+606105819&4294967295,V=D+(R<<17&4294967295|R>>>15),R=w+(A^V&(D^A))+x[3]+3250441966&4294967295,w=V+(R<<22&4294967295|R>>>10),R=A+(D^w&(V^D))+x[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=D+(V^A&(w^V))+x[5]+1200080426&4294967295,D=A+(R<<12&4294967295|R>>>20),R=V+(w^D&(A^w))+x[6]+2821735955&4294967295,V=D+(R<<17&4294967295|R>>>15),R=w+(A^V&(D^A))+x[7]+4249261313&4294967295,w=V+(R<<22&4294967295|R>>>10),R=A+(D^w&(V^D))+x[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=D+(V^A&(w^V))+x[9]+2336552879&4294967295,D=A+(R<<12&4294967295|R>>>20),R=V+(w^D&(A^w))+x[10]+4294925233&4294967295,V=D+(R<<17&4294967295|R>>>15),R=w+(A^V&(D^A))+x[11]+2304563134&4294967295,w=V+(R<<22&4294967295|R>>>10),R=A+(D^w&(V^D))+x[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=D+(V^A&(w^V))+x[13]+4254626195&4294967295,D=A+(R<<12&4294967295|R>>>20),R=V+(w^D&(A^w))+x[14]+2792965006&4294967295,V=D+(R<<17&4294967295|R>>>15),R=w+(A^V&(D^A))+x[15]+1236535329&4294967295,w=V+(R<<22&4294967295|R>>>10),R=A+(V^D&(w^V))+x[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=D+(w^V&(A^w))+x[6]+3225465664&4294967295,D=A+(R<<9&4294967295|R>>>23),R=V+(A^w&(D^A))+x[11]+643717713&4294967295,V=D+(R<<14&4294967295|R>>>18),R=w+(D^A&(V^D))+x[0]+3921069994&4294967295,w=V+(R<<20&4294967295|R>>>12),R=A+(V^D&(w^V))+x[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=D+(w^V&(A^w))+x[10]+38016083&4294967295,D=A+(R<<9&4294967295|R>>>23),R=V+(A^w&(D^A))+x[15]+3634488961&4294967295,V=D+(R<<14&4294967295|R>>>18),R=w+(D^A&(V^D))+x[4]+3889429448&4294967295,w=V+(R<<20&4294967295|R>>>12),R=A+(V^D&(w^V))+x[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=D+(w^V&(A^w))+x[14]+3275163606&4294967295,D=A+(R<<9&4294967295|R>>>23),R=V+(A^w&(D^A))+x[3]+4107603335&4294967295,V=D+(R<<14&4294967295|R>>>18),R=w+(D^A&(V^D))+x[8]+1163531501&4294967295,w=V+(R<<20&4294967295|R>>>12),R=A+(V^D&(w^V))+x[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=D+(w^V&(A^w))+x[2]+4243563512&4294967295,D=A+(R<<9&4294967295|R>>>23),R=V+(A^w&(D^A))+x[7]+1735328473&4294967295,V=D+(R<<14&4294967295|R>>>18),R=w+(D^A&(V^D))+x[12]+2368359562&4294967295,w=V+(R<<20&4294967295|R>>>12),R=A+(w^V^D)+x[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=D+(A^w^V)+x[8]+2272392833&4294967295,D=A+(R<<11&4294967295|R>>>21),R=V+(D^A^w)+x[11]+1839030562&4294967295,V=D+(R<<16&4294967295|R>>>16),R=w+(V^D^A)+x[14]+4259657740&4294967295,w=V+(R<<23&4294967295|R>>>9),R=A+(w^V^D)+x[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=D+(A^w^V)+x[4]+1272893353&4294967295,D=A+(R<<11&4294967295|R>>>21),R=V+(D^A^w)+x[7]+4139469664&4294967295,V=D+(R<<16&4294967295|R>>>16),R=w+(V^D^A)+x[10]+3200236656&4294967295,w=V+(R<<23&4294967295|R>>>9),R=A+(w^V^D)+x[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=D+(A^w^V)+x[0]+3936430074&4294967295,D=A+(R<<11&4294967295|R>>>21),R=V+(D^A^w)+x[3]+3572445317&4294967295,V=D+(R<<16&4294967295|R>>>16),R=w+(V^D^A)+x[6]+76029189&4294967295,w=V+(R<<23&4294967295|R>>>9),R=A+(w^V^D)+x[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=D+(A^w^V)+x[12]+3873151461&4294967295,D=A+(R<<11&4294967295|R>>>21),R=V+(D^A^w)+x[15]+530742520&4294967295,V=D+(R<<16&4294967295|R>>>16),R=w+(V^D^A)+x[2]+3299628645&4294967295,w=V+(R<<23&4294967295|R>>>9),R=A+(V^(w|~D))+x[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=D+(w^(A|~V))+x[7]+1126891415&4294967295,D=A+(R<<10&4294967295|R>>>22),R=V+(A^(D|~w))+x[14]+2878612391&4294967295,V=D+(R<<15&4294967295|R>>>17),R=w+(D^(V|~A))+x[5]+4237533241&4294967295,w=V+(R<<21&4294967295|R>>>11),R=A+(V^(w|~D))+x[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=D+(w^(A|~V))+x[3]+2399980690&4294967295,D=A+(R<<10&4294967295|R>>>22),R=V+(A^(D|~w))+x[10]+4293915773&4294967295,V=D+(R<<15&4294967295|R>>>17),R=w+(D^(V|~A))+x[1]+2240044497&4294967295,w=V+(R<<21&4294967295|R>>>11),R=A+(V^(w|~D))+x[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=D+(w^(A|~V))+x[15]+4264355552&4294967295,D=A+(R<<10&4294967295|R>>>22),R=V+(A^(D|~w))+x[6]+2734768916&4294967295,V=D+(R<<15&4294967295|R>>>17),R=w+(D^(V|~A))+x[13]+1309151649&4294967295,w=V+(R<<21&4294967295|R>>>11),R=A+(V^(w|~D))+x[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=D+(w^(A|~V))+x[11]+3174756917&4294967295,D=A+(R<<10&4294967295|R>>>22),R=V+(A^(D|~w))+x[2]+718787259&4294967295,V=D+(R<<15&4294967295|R>>>17),R=w+(D^(V|~A))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+D&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const w=A-this.blockSize,x=this.C;let V=this.h,D=0;for(;D<A;){if(V==0)for(;D<=w;)u(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<A;)if(x[V++]=C.charCodeAt(D++),V==this.blockSize){u(this,x),V=0;break}}else for(;D<A;)if(x[V++]=C[D++],V==this.blockSize){u(this,x),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,w=0;w<4;++w)for(let x=0;x<32;x+=8)C[A++]=this.g[w]>>>x&255;return C};function h(C,A){var w=y;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=A(C)}function d(C,A){this.h=A;const w=[];let x=!0;for(let V=C.length-1;V>=0;V--){const D=C[V]|0;x&&D==A||(w[V]=D,x=!1)}this.g=w}var y={};function v(C){return-128<=C&&C<128?h(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return J(_(-C));const A=[];let w=1;for(let x=0;C>=w;x++)A[x]=C/w|0,w*=4294967296;return new d(A,0)}function S(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return J(S(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(A,8));let x=b;for(let D=0;D<C.length;D+=8){var V=Math.min(8,C.length-D);const R=parseInt(C.substring(D,D+V),A);V<8?(V=_(Math.pow(A,V)),x=x.j(V).add(_(R))):(x=x.j(w),x=x.add(_(R)))}return x}var b=v(0),U=v(1),G=v(16777216);r=d.prototype,r.m=function(){if($(this))return-J(this).m();let C=0,A=1;for(let w=0;w<this.g.length;w++){const x=this.i(w);C+=(x>=0?x:4294967296+x)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if($(this))return"-"+J(this).toString(C);const A=_(Math.pow(C,6));var w=this;let x="";for(;;){const V=_t(w,A).g;w=lt(w,V.j(A));let D=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=V,W(w))return D+x;for(;D.length<6;)D="0"+D;x=D+x}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function $(C){return C.h==-1}r.l=function(C){return C=lt(this,C),$(C)?-1:W(C)?0:1};function J(C){const A=C.g.length,w=[];for(let x=0;x<A;x++)w[x]=~C.g[x];return new d(w,~C.h).add(U)}r.abs=function(){return $(this)?J(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),w=[];let x=0;for(let V=0;V<=A;V++){let D=x+(this.i(V)&65535)+(C.i(V)&65535),R=(D>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);x=R>>>16,D&=65535,R&=65535,w[V]=R<<16|D}return new d(w,w[w.length-1]&-2147483648?-1:0)};function lt(C,A){return C.add(J(A))}r.j=function(C){if(W(this)||W(C))return b;if($(this))return $(C)?J(this).j(J(C)):J(J(this).j(C));if($(C))return J(this.j(J(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,w=[];for(var x=0;x<2*A;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(let V=0;V<C.g.length;V++){const D=this.i(x)>>>16,R=this.i(x)&65535,Pt=C.i(V)>>>16,ue=C.i(V)&65535;w[2*x+2*V]+=R*ue,gt(w,2*x+2*V),w[2*x+2*V+1]+=D*ue,gt(w,2*x+2*V+1),w[2*x+2*V+1]+=R*Pt,gt(w,2*x+2*V+1),w[2*x+2*V+2]+=D*Pt,gt(w,2*x+2*V+2)}for(C=0;C<A;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=A;C<2*A;C++)w[C]=0;return new d(w,0)};function gt(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function it(C,A){this.g=C,this.h=A}function _t(C,A){if(W(A))throw Error("division by zero");if(W(C))return new it(b,b);if($(C))return A=_t(J(C),A),new it(J(A.g),J(A.h));if($(A))return A=_t(C,J(A)),new it(J(A.g),A.h);if(C.g.length>30){if($(C)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var w=U,x=A;x.l(C)<=0;)w=bt(w),x=bt(x);var V=Ct(w,1),D=Ct(x,1);for(x=Ct(x,2),w=Ct(w,2);!W(x);){var R=D.add(x);R.l(C)<=0&&(V=V.add(w),D=R),x=Ct(x,1),w=Ct(w,1)}return A=lt(C,V.j(A)),new it(V,A)}for(V=b;C.l(A)>=0;){for(w=Math.max(1,Math.floor(C.m()/A.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),D=_(w),R=D.j(A);$(R)||R.l(C)>0;)w-=x,D=_(w),R=D.j(A);W(D)&&(D=U),V=V.add(D),C=lt(C,R)}return new it(V,C)}r.B=function(C){return _t(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)&C.i(x);return new d(w,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)|C.i(x);return new d(w,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),w=[];for(let x=0;x<A;x++)w[x]=this.i(x)^C.i(x);return new d(w,this.h^C.h)};function bt(C){const A=C.g.length+1,w=[];for(let x=0;x<A;x++)w[x]=C.i(x)<<1|C.i(x-1)>>>31;return new d(w,C.h)}function Ct(C,A){const w=A>>5;A%=32;const x=C.g.length-w,V=[];for(let D=0;D<x;D++)V[D]=A>0?C.i(D+w)>>>A|C.i(D+w+1)<<32-A:C.i(D+w);return new d(V,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ev=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Ia=d}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nv,Ql,iv,$o,nd,av,sv,rv;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qo=="object"&&Qo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function S(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function b(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,L,P){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[L].apply(T,et)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function G(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function W(o,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=o.length||0;const P=L.length||0;o.length=p+P;for(let et=0;et<P;et++)o[p+et]=L[et]}else o.push(L)}}class ${constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(o){d.setTimeout(()=>{throw o},0)}function lt(){var o=C;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,p){const T=it.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var it=new $(()=>new _t,o=>o.reset());class _t{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let bt,Ct=!1,C=new gt,A=()=>{const o=Promise.resolve(void 0);bt=()=>{o.then(w)}};function w(){for(var o;o=lt();){try{o.h.call(o.g)}catch(p){J(p)}var m=it;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Ct=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function R(o){return/^[\s\xa0]*$/.test(o)}function Pt(o,m){V.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}b(Pt,V),Pt.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Pt.Z.h.call(this)},Pt.prototype.h=function(){Pt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ct(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Vt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Gt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function O(o){const m={};for(const p in o)m[p]=o[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let P=0;P<Y.length;P++)p=Y[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function st(o){this.src=o,this.g={},this.h=0}st.prototype.add=function(o,m,p,T,L){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const et=Rt(o,m,T,L);return et>-1?(m=o[et],p||(m.fa=!1)):(m=new tt(m,this.src,P,!!T,L),m.fa=p,o.push(m)),m};function Et(o,m){const p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(ct(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Rt(o,m,p,T){for(let L=0;L<o.length;++L){const P=o[L];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),pt={};function ht(o,m,p,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ht(o,m[P],p,T,L);return null}return p=qr(p),o&&o[ue]?o.J(m,p,y(T)?!!T.capture:!1,L):Ze(o,m,p,!1,T,L)}function Ze(o,m,p,T,L,P){if(!m)throw Error("Invalid event type");const et=y(L)?!!L.capture:!!L;let wt=ka(o);if(wt||(o[Ot]=wt=new st(o)),p=wt.add(m,p,T,et,P),p.proxy)return p;if(T=On(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)D||(L=et),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Kn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function On(){function o(p){return m.call(o.src,o.listener,p)}const m=jr;return o}function Ki(o,m,p,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)Ki(o,m[P],p,T,L);else T=y(T)?!!T.capture:!!T,p=qr(p),o&&o[ue]?(o=o.i,P=String(m).toString(),P in o.g&&(m=o.g[P],p=Rt(m,p,T,L),p>-1&&(ct(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[P],o.h--)))):o&&(o=ka(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Rt(m,p,T,L)),(p=o>-1?m[o]:null)&&Cs(p))}function Cs(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ue])Et(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Kn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ka(m))?(Et(p,o),p.h==0&&(p.src=null,m[Ot]=null)):ct(o)}}}function Kn(o){return o in pt?pt[o]:pt[o]="on"+o}function jr(o,m){if(o.da)o=!0;else{m=new Pt(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&Cs(o),o=p.call(T,m)}return o}function ka(o){return o=o[Ot],o instanceof st?o:null}var Br="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(o){return typeof o=="function"?o:(o[Br]||(o[Br]=function(m){return o.handleEvent(m)}),o[Br])}function ye(){x.call(this),this.i=new st(this),this.M=this,this.G=null}b(ye,x),ye.prototype[ue]=!0,ye.prototype.removeEventListener=function(o,m,p,T){Ki(this,o,m,p,T)};function De(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new V(m,o);else if(m instanceof V)m.target=m.target||o;else{var L=m;m=new V(T,o),nt(m,L)}L=!0;let P,et;if(p)for(et=p.length-1;et>=0;et--)P=m.g=p[et],L=Xi(P,T,!0,m)&&L;if(P=m.g=o,L=Xi(P,T,!0,m)&&L,L=Xi(P,T,!1,m)&&L,p)for(et=0;et<p.length;et++)P=m.g=p[et],L=Xi(P,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ct(p[T]);delete o.g[m],o.h--}}this.G=null},ye.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ye.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Xi(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const et=m[P];if(et&&!et.da&&et.capture==p){const wt=et.listener,de=et.ha||et.src;et.fa&&Et(o.i,et),L=wt.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function Lc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function gu(o){o.g=Lc(()=>{o.g=null,o.i&&(o.i=!1,gu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Je extends x{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ha(o){x.call(this),this.h=o,this.g={}}b(Ha,x);var Pr=[];function kr(o){Vt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Cs(m)},o),o.g={}}Ha.prototype.N=function(){Ha.Z.N.call(this),kr(this)},Ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zi=d.JSON.stringify,jc=d.JSON.parse,pu=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function yu(){}function _u(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){V.call(this,"d")}b(Le,V);function _n(){V.call(this,"c")}b(_n,V);var fe={},vu=null;function ws(){return vu=vu||new ye}fe.Ia="serverreachability";function Eu(o){V.call(this,fe.Ia,o)}b(Eu,V);function Xn(o){const m=ws();De(m,new Eu(m))}fe.STAT_EVENT="statevent";function Ga(o,m){V.call(this,fe.STAT_EVENT,o),this.stat=m}b(Ga,V);function _e(o){const m=ws();De(m,new Ga(m,o))}fe.Ja="timingevent";function Zn(o,m){V.call(this,fe.Ja,o),this.size=m}b(Zn,V);function Jn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function Bc(o,m,p,T,L,P){o.info(function(){if(o.g)if(P){var et="",wt=P.split("&");for(let Qt=0;Qt<wt.length;Qt++){var de=wt[Qt].split("=");if(de.length>1){const re=de[0];de=de[1];const Sn=re.split("_");et=Sn.length>=2&&Sn[1]=="type"?et+(re+"="+de+"&"):et+(re+"=redacted&")}}}else et=null;else et=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function Tu(o,m,p,T,L,P,et){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+P+" "+et})}function $n(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+qc(o,p)+(T?" "+T:"")})}function Qa(o,m){o.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function qc(o,m){if(!o.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var p=P[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return Zi(P)}catch{return m}}var Fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gr;function Ya(){}b(Ya,yu),Ya.prototype.g=function(){return new XMLHttpRequest},Gr=new Ya;function Ai(o){return encodeURIComponent(String(o))}function Su(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function zn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new Ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var ve={},Me={};function Wn(o,m,p){o.M=1,o.A=Ka(Te(m)),o.u=p,o.R=!0,Ns(o,null)}function Ns(o,m){o.F=Date.now(),ti(o),o.B=Te(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),Ms(p.i,"t",T),o.C=0,p=o.j.L,o.h=new Ln,o.g=Lu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Je(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var L="readystatechange";Array.isArray(L)||(L&&(Pr[0]=L.toString()),L=Pr);for(let P=0;P<L.length;P++){const et=ht(p,L[P],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=o.J?O(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Xn(),Bc(o.i,o.v,o.B,o.l,o.S,o.u)}zn.prototype.ba=function(o){o=o.target;const m=this.O;m&&qn(o)==3?m.j():this.Y(o)},zn.prototype.Y=function(o){try{if(o==this.g)t:{const wt=qn(this.g),de=this.g.ya(),Qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||wt!=4||de==7||(de==8||Qt<=0?Xn(3):Xn(2)),ei(this);var m=this.g.ca();this.X=m;var p=Pc(this);if(this.o=m==200,Tu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var P=T;break e}}P=null}if(o=P)$n(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,o);else{this.o=!1,this.m=3,_e(12),on(this),vn(this);break t}}if(this.R){o=!0;let re;for(;!this.K&&this.C<p.length;)if(re=bu(this,p),re==Me){wt==4&&(this.m=4,_e(14),o=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),$n(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else $n(this.i,this.l,re,null),ni(this,re);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||p.length!=0||this.h.h||(this.m=1,_e(16),o=!1),this.o=this.o&&o,!o)$n(this.i,this.l,p,"[Invalid Chunked Response]"),on(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),sl(et),et.P=!0,_e(11))}}else $n(this.i,this.l,p,null),ni(this,p);wt==4&&on(this),this.o&&!this.K&&(wt==4?Ou(this.j,this):(this.o=!1,ti(this)))}else Ri(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),on(this),vn(this)}}}catch{}finally{}};function Pc(o){if(!Au(o))return o.g.la();const m=je(o.g);if(m==="")return"";let p="";const T=m.length,L=qn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return on(o),vn(o),"";o.h.i=new d.TextDecoder}for(let P=0;P<T;P++)o.h.h=!0,p+=o.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function Au(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function bu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?ve:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),o.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,on(this)};function ti(o){o.T=Date.now()+o.H,Ds(o,o.H)}function Ds(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Jn(_(o.aa,o),m)}function ei(o){o.D&&(d.clearTimeout(o.D),o.D=null)}zn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Qa(this.i,this.B),this.M!=2&&(Xn(),_e(17)),on(this),this.m=2,vn(this)):Ds(this,this.T-o)};function vn(o){o.j.I==0||o.K||Ou(o.j,o)}function on(o){ei(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,kr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ni(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ai(p.h,o))){if(!o.L&&ai(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)Ls(p),aa(p);else break t;es(p),_e(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Jn(_(p.Va,p),6e3));ii(p.h)<=1&&p.ta&&(p.ta=void 0)}else ci(p,11)}else if((o.L||p.g==o)&&Ls(p),!R(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Qt=L[m];const re=Qt[0];if(!(re<=p.K))if(p.K=re,Qt=Qt[1],p.I==2)if(Qt[0]=="c"){p.M=Qt[1],p.ba=Qt[2];const Sn=Qt[3];Sn!=null&&(p.ka=Sn,p.j.info("VER="+p.ka));const hi=Qt[4];hi!=null&&(p.za=hi,p.j.info("SVER="+p.za));const Pn=Qt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const kn=o.g;if(kn){const ns=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ns){var P=T.h;P.g||ns.indexOf("spdy")==-1&&ns.indexOf("quic")==-1&&ns.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Yr(P,P.h),P.h=null))}if(T.G){const js=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;js&&(T.wa=js,Kt(T.J,T.G,js))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var et=o;if(T.na=zu(T,T.L?T.ba:null,T.W),et.L){Kr(T.h,et);var wt=et,de=T.O;de&&(wt.H=de),wt.D&&(ei(wt),ti(wt)),T.g=et}else Iu(T);p.i.length>0&&oi(p)}else Qt[0]!="stop"&&Qt[0]!="close"||ci(p,7);else p.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?ci(p,7):il(p):Qt[0]!="noop"&&p.l&&p.l.qa(Qt),p.A=0)}}Xn(4)}catch{}}var Ee=class{constructor(o,m){this.g=o,this.map=m}};function Qr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ii(o){return o.h?1:o.g?o.g.size:0}function ai(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Yr(o,m){o.g?o.g.add(m):o.h=m}function Kr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Qr.prototype.cancel=function(){if(this.i=Xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Xr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return G(o.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vs(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let L,P=null;T>=0?(L=o[p].substring(0,T),P=o[p].substring(T+1)):L=o[p],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function cn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof cn?(this.l=o.l,Oe(this,o.j),this.o=o.o,this.g=o.g,Ji(this,o.u),this.h=o.h,Zr(this,Du(o.i)),this.m=o.m):o&&(m=String(o).match(Ru))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=si(m[2]||""),this.g=si(m[3]||"",!0),Ji(this,m[4]),this.h=si(m[5]||"",!0),Zr(this,m[6]||"",!0),this.m=si(m[7]||"")):(this.l=!1,this.i=new Wi(null,this.l))}cn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Xa(m,Is,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Xa(m,Is,!0),"@"),o.push(Ai(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Xa(p,p.charAt(0)=="/"?Jr:Cu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Xa(p,wu)),o.join("")},cn.prototype.resolve=function(o){const m=Te(this);let p=!!o.j;p?Oe(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Ji(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let et=0;et<L.length;){const wt=L[et++];wt=="."?T&&et==L.length&&P.push(""):wt==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&et==L.length&&P.push("")):(P.push(wt),T=!0)}T=P.join("/")}else T=L}return p?m.h=T:p=o.i.toString()!=="",p?Zr(m,Du(o.i)):p=!!o.m,p&&(m.m=o.m),m};function Te(o){return new cn(o)}function Oe(o,m,p){o.j=p?si(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ji(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Zr(o,m,p){m instanceof Wi?(o.i=m,Os(o.i,o.l)):(p||(m=Xa(m,$i)),o.i=new Wi(m,o.l))}function Kt(o,m,p){o.i.set(m,p)}function Ka(o){return Kt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function si(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Xa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,tn),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function tn(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Is=/[#\/\?@]/g,Cu=/[#\?:]/g,Jr=/[#\?]/g,$i=/[#\?@]/g,wu=/#/g;function Wi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function en(o){o.g||(o.g=new Map,o.h=0,o.i&&Vs(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Wi.prototype,r.add=function(o,m){en(this),this.i=null,o=ta(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Nu(o,m){en(o),m=ta(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function $r(o,m){return en(o),m=ta(o,m),o.g.has(m)}r.forEach=function(o,m){en(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)};function Wr(o,m){en(o);let p=[];if(typeof m=="string")$r(o,m)&&(p=p.concat(o.g.get(ta(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return en(this),this.i=null,o=ta(this,o),$r(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Wr(this,o),o.length>0?String(o[0]):m):m};function Ms(o,m,p){Nu(o,m),p.length>0&&(o.i=null,o.g.set(ta(o,m),G(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Ai(p);p=Wr(this,p);for(let P=0;P<p.length;P++){let et=L;p[P]!==""&&(et+="="+Ai(p[P])),o.push(et)}}return this.i=o.join("&")};function Du(o){const m=new Wi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function ta(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Os(o,m){m&&!o.j&&(en(o),o.i=null,o.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(Nu(this,T),Ms(this,L,p))},o)),o.j=m}function jn(o,m){const p=new Un;if(d.Image){const T=new Image;T.onload=S(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=S(En,p,"TestLoadImage: error",!1,m,T),T.onabort=S(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function tl(o,m){const p=new Un,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function ea(){this.g=new pu}function ri(o){this.i=o.Sb||null,this.h=o.ab||!1}b(ri,yu),ri.prototype.g=function(){return new Za(this.i,this.h)};function Za(o,m){ye.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Za,ye),r=Za.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Bn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,na(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xs(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function xs(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?na(this):Bn(this),this.readyState==3&&xs(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,na(this))},r.Na=function(o){this.g&&(this.response=o,na(this))},r.ga=function(){this.g&&na(this)};function na(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Bn(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Bn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Tn(o){let m="";return Vt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ja(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof o=="string"?p!=null&&Ai(p):Kt(o,m,p))}function Jt(o){ye.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Jt,ye);var li=/^https?$/i,el=["POST","PUT"];r=Jt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gr.g(),this.g.onreadystatechange=U(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){$a(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(el,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,et]of p)this.g.setRequestHeader(P,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){$a(this,P)}};function $a(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,nl(o),bi(o)}function nl(o){o.A||(o.A=!0,De(o,"complete"),De(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,De(this,"complete"),De(this,"abort"),bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Wa(this):this.Xa())},r.Xa=function(){Wa(this)};function Wa(o){if(o.h&&typeof h<"u"){if(o.v&&qn(o)==4)setTimeout(o.Ca.bind(o),0);else if(De(o,"readystatechange"),qn(o)==4){o.h=!1;try{const P=o.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let et=String(o.D).match(Ru)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!li.test(et?et.toLowerCase():"")}p=T}if(p)De(o,"complete"),De(o,"success");else{o.o=6;try{var L=qn(o)>2?o.g.statusText:""}catch{L=""}o.l=L+" ["+o.ca()+"]",nl(o)}}finally{bi(o)}}}}function bi(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||De(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(o){return o.g?o.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),jc(m)}};function je(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(o){const m={};o=(o.g&&qn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(R(o[T]))continue;var p=Su(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[L]||[];m[L]=P,P.push(p)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function ia(o){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,o),this.Za=ui("retryDelaySeedMs",1e4,o),this.Ta=ui("forwardChannelMaxRetries",2,o),this.va=ui("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Qr(o&&o.concurrentRequestLimit),this.Ba=new ea,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ia.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,T){_e(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=zu(this,null,this.W),oi(this)};function il(o){if(Us(o),o.I==3){var m=o.V++,p=Te(o.J);if(Kt(p,"SID",o.M),Kt(p,"RID",m),Kt(p,"TYPE","terminate"),ts(o,p),m=new zn(o,o.j,m),m.M=2,m.A=Ka(Te(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Lu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ti(m)}Uu(o)}function aa(o){o.g&&(sl(o),o.g.cancel(),o.g=null)}function Us(o){aa(o),o.v&&(d.clearTimeout(o.v),o.v=null),Ls(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function oi(o){if(!Fr(o.h)&&!o.m){o.m=!0;var m=o.Ea;bt||A(),Ct||(bt(),Ct=!0),C.add(m,o),o.D=0}}function zs(o,m){return ii(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Jn(_(o.Ea,o,m),xu(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const L=new zn(this,this.j,o);let P=this.o;if(this.U&&(P?(P=O(P),nt(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Vu(this,L,m),p=Te(this.J),Kt(p,"RID",o),Kt(p,"CVER",22),this.G&&Kt(p,"X-HTTP-Session-Id",this.G),ts(this,p),P&&(this.R?m="headers="+Ai(Tn(P))+"&"+m:this.u&&Ja(p,this.u,P)),Yr(this.h,L),this.Ra&&Kt(p,"TYPE","init"),this.S?(Kt(p,"$req",m),Kt(p,"SID","null"),L.U=!0,Wn(L,p,null)):Wn(L,p,m),this.I=2}}else this.I==3&&(o?al(this,o):this.i.length==0||Fr(this.h)||al(this))};function al(o,m){var p;m?p=m.l:p=o.V++;const T=Te(o.J);Kt(T,"SID",o.M),Kt(T,"RID",p),Kt(T,"AID",o.K),ts(o,T),o.u&&o.o&&Ja(T,o.u,o.o),p=new zn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=Vu(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Yr(o.h,p),Wn(p,T,m)}function ts(o,m){o.H&&Vt(o.H,function(p,T){Kt(m,T,p)}),o.l&&Vt({},function(p,T){Kt(m,T,p)})}function Vu(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var L=o.i;let wt=-1;for(;;){const de=["count="+p];wt==-1?p>0?(wt=L[0].g,de.push("ofs="+wt)):wt=0:de.push("ofs="+wt);let Qt=!0;for(let re=0;re<p;re++){var P=L[re].g;const Sn=L[re].map;if(P-=wt,P<0)wt=Math.max(0,L[re].g-100),Qt=!1;else try{P="req"+P+"_"||"";try{var et=Sn instanceof Map?Sn:Object.entries(Sn);for(const[hi,Pn]of et){let kn=Pn;y(Pn)&&(kn=Zi(Pn)),de.push(P+hi+"="+encodeURIComponent(kn))}}catch(hi){throw de.push(P+"type="+encodeURIComponent("_badmap")),hi}}catch{T&&T(Sn)}}if(Qt){et=de.join("&");break t}}et=void 0}return o=o.i.splice(0,p),m.G=o,et}function Iu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;bt||A(),Ct||(bt(),Ct=!0),C.add(m,o),o.A=0}}function es(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Jn(_(o.Da,o),xu(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,Mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Jn(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),aa(this),Mu(this))};function sl(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Mu(o){o.g=new zn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=Te(o.na);Kt(m,"RID","rpc"),Kt(m,"SID",o.M),Kt(m,"AID",o.K),Kt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Kt(m,"TO",o.ia),Kt(m,"TYPE","xmlhttp"),ts(o,m),o.u&&o.o&&Ja(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Ka(Te(m)),p.u=null,p.R=!0,Ns(p,o)}r.Va=function(){this.C!=null&&(this.C=null,aa(this),es(this),_e(19))};function Ls(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Ou(o,m){var p=null;if(o.g==m){Ls(o),sl(o),o.g=null;var T=2}else if(ai(o.h,m))p=m.G,Kr(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=o.D;T=ws(),De(T,new Zn(T,p)),oi(o)}else Iu(o);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&zs(o,m)||T==2&&es(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),L){case 1:ci(o,5);break;case 4:ci(o,10);break;case 3:ci(o,6);break;default:ci(o,2)}}}function xu(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ci(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Ka(T),L?jn(T.toString(),p):tl(T.toString(),p)}else _e(2);o.I=0,o.l&&o.l.pa(m),Uu(o),Us(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Uu(o){if(o.I=0,o.ja=[],o.l){const m=Xr(o.h);(m.length!=0||o.i.length!=0)&&(W(o.ja,m),W(o.ja,o.i),o.h.i.length=0,G(o.i),o.i.length=0),o.l.oa()}}function zu(o,m,p){var T=p instanceof cn?Te(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ji(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new cn(null);T&&Oe(P,T),m&&(P.g=m),L&&Ji(P,L),p&&(P.h=p),T=P}return p=o.G,m=o.wa,p&&m&&Kt(T,p,m),Kt(T,"VER",o.ka),ts(o,T),T}function Lu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Jt(new ri({ab:p})):new Jt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function sa(){}sa.prototype.g=function(o,m){return new $e(o,m)};function $e(o,m){ye.call(this),this.g=new ia(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!R(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Ci(this)}b($e,ye),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){il(this.g)},$e.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Zi(o),o=p);m.i.push(new Ee(m.Ya++,o)),m.I==3&&oi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,$e.Z.N.call(this)};function Bu(o){Le.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}b(Bu,Le);function qu(){_n.call(this),this.status=1}b(qu,_n);function Ci(o){this.g=o}b(Ci,ju),Ci.prototype.ra=function(){De(this.g,"a")},Ci.prototype.qa=function(o){De(this.g,new Bu(o))},Ci.prototype.pa=function(o){De(this.g,new qu)},Ci.prototype.oa=function(){De(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,rv=function(){return new sa},sv=function(){return ws()},av=fe,nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,$o=Fa,Hr.COMPLETE="complete",iv=Hr,_u.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Ql=_u,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,nv=Jt}).apply(typeof Qo<"u"?Qo:typeof self<"u"?self:typeof window<"u"?window:{});const Qy="@firebase/firestore",Fy="4.9.2";class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Or="12.3.0";const Es=new X_("@firebase/firestore");function mr(){return Es.logLevel}function rt(r,...e){if(Es.logLevel<=qt.DEBUG){const i=e.map(Ad);Es.debug(`Firestore (${Or}): ${r}`,...i)}}function Fi(r,...e){if(Es.logLevel<=qt.ERROR){const i=e.map(Ad);Es.error(`Firestore (${Or}): ${r}`,...i)}}function Cr(r,...e){if(Es.logLevel<=qt.WARN){const i=e.map(Ad);Es.warn(`Firestore (${Or}): ${r}`,...i)}}function Ad(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,lv(r,s,i)}function lv(r,e,i){let s=`FIRESTORE (${Or}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Fi(s),new Error(s)}function Yt(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||lv(e,u,s)}function At(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Mr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ma{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class uv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class hS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class fS{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Yt(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ma,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ma)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt(typeof s.accessToken=="string",31837,{l:s}),new uv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class dS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new dS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Y1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Yt(this.o===void 0,3512);const s=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const u=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class bd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=pS(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function zt(r,e){return r<e?-1:r>e?1:0}function id(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),h=e.charAt(s);if(u!==h)return Ff(u)===Ff(h)?zt(u,h):Ff(u)?1:-1}return zt(r.length,e.length)}const yS=55296,_S=57343;function Ff(r){const e=r.charCodeAt(0);return e>=yS&&e<=_S}function wr(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}const Ky="__name__";class yi{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=yi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return zt(e.length,i.length)}static compareSegments(e,i){const s=yi.isNumericId(e),u=yi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?yi.extractNumericId(e).compare(yi.extractNumericId(i)):id(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class ne extends yi{construct(e,i,s){return new ne(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const vS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends yi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return vS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new Ge([Ky])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(s+=y,u++):(h(),u++)}if(h(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class mt{constructor(e){this.path=e}static fromPath(e){return new mt(ne.fromString(e))}static fromName(e){return new mt(ne.fromString(e).popFirst(5))}static empty(){return new mt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new ne(e.slice()))}}function ov(r,e,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ES(r,e,i,s){if(e===!0&&s===!0)throw new at(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Xy(r){if(!mt.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zy(r){if(mt.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function oc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sc(r);throw new at(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function TS(r,e){if(e<=0)throw new at(X.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function Ne(r,e){const i={typeString:r};return e&&(i.value=e),i}function cu(r,e){if(!cv(r))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}const Jy=-62135596800,$y=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*$y);return new ie(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jy)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,ie._jsonSchema))return new ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ne("string",ie._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new ie(0,0))}static max(){return new Tt(new ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function SS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=Tt.fromTimestamp(s===1e9?new ie(i+1,0):new ie(i,s));return new xa(u,mt.empty(),e)}function AS(r){return new xa(r.readTime,r.key,iu)}class xa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new xa(Tt.min(),mt.empty(),iu)}static max(){return new xa(Tt.max(),mt.empty(),iu)}}function bS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:zt(r.largestBatchId,e.largestBatchId))}const RS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xr(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==RS)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>s(v)))})),d=!0,h===u&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((u=>u?Z.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,h)=>{s.push(i.call(this,u,h))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++y,y===h&&s(d)}),(S=>u(S)))}}))}static doWhile(e,i){return new Z(((s,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):s()};h()}))}}function wS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ur(r){return r.name==="IndexedDbTransactionError"}class Ac{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ac.ce=-1;const Rd=-1;function bc(r){return r==null}function cc(r){return r===0&&1/r==-1/0}function NS(r){return typeof r=="number"&&Number.isInteger(r)&&!cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const hv="";function DS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Wy(e)),e=VS(r.get(i),e);return Wy(e)}function VS(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case hv:i+="";break;default:i+=h}}return i}function Wy(r){return r+hv+""}function t_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ss(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function fv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class oe{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fo(this.root,e,this.comparator,!0)}}class Fo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??He.RED,this.left=u??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new He(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return He.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Fn([])}unionWith(e){let i=new Ie(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class dv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new dv("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const IS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(r){if(Yt(!!r,39018),typeof r=="string"){let e=0;const i=IS.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function za(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const mv="server_timestamp",gv="__type__",pv="__previous_value__",yv="__local_write_time__";function Cd(r){return(r?.mapValue?.fields||{})[gv]?.stringValue===mv}function Rc(r){const e=r.mapValue.fields[pv];return Cd(e)?Rc(e):e}function au(r){const e=Ua(r.mapValue.fields[yv].timestampValue);return new ie(e.seconds,e.nanos)}class MS{constructor(e,i,s,u,h,d,y,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const hc="(default)";class su{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}const _v="__type__",OS="__max__",Yo={mapValue:{}},vv="__vector__",fc="value";function La(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cd(r)?4:US(r)?9007199254740991:xS(r)?10:11:vt(28295,{value:r})}function Si(r,e){if(r===e)return!0;const i=La(r);if(i!==La(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return au(r).isEqual(au(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Ua(u.timestampValue),y=Ua(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,h){return za(u.bytesValue).isEqual(za(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,h){return pe(u.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(u.geoPointValue.longitude)===pe(h.geoPointValue.longitude)})(r,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return pe(u.integerValue)===pe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=pe(u.doubleValue),y=pe(h.doubleValue);return d===y?cc(d)===cc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return wr(r.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(t_(d)!==t_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Si(d[v],y[v])))return!1;return!0})(r,e);default:return vt(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((i=>Si(i,e)))!==void 0}function Nr(r,e){if(r===e)return 0;const i=La(r),s=La(e);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=pe(h.integerValue||h.doubleValue),v=pe(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return n_(r.timestampValue,e.timestampValue);case 4:return n_(au(r),au(e));case 5:return id(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=za(h),v=za(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=zt(y[_],v[_]);if(S!==0)return S}return zt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=zt(pe(h.latitude),pe(d.latitude));return y!==0?y:zt(pe(h.longitude),pe(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return i_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[fc]?.arrayValue,S=v[fc]?.arrayValue,b=zt(_?.values?.length||0,S?.values?.length||0);return b!==0?b:i_(_,S)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Yo.mapValue&&d===Yo.mapValue)return 0;if(h===Yo.mapValue)return 1;if(d===Yo.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const U=id(v[b],S[b]);if(U!==0)return U;const G=Nr(y[v[b]],_[S[b]]);if(G!==0)return G}return zt(v.length,S.length)})(r.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function n_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return zt(r,e);const i=Ua(r),s=Ua(e),u=zt(i.seconds,s.seconds);return u!==0?u:zt(i.nanos,s.nanos)}function i_(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=Nr(i[u],s[u]);if(h)return h}return zt(i.length,s.length)}function Dr(r){return ad(r)}function ad(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ua(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return za(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=ad(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${ad(i.fields[d])}`;return u+"}"})(r.mapValue):vt(61005,{value:r})}function Wo(r){switch(La(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(r);return e?16+Wo(e):16;case 5:return 2*r.stringValue.length;case 6:return za(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,h)=>u+Wo(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return Ss(s.fields,((h,d)=>{u+=h.length+Wo(d)})),u})(r.mapValue);default:throw vt(13486,{value:r})}}function a_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function sd(r){return!!r&&"integerValue"in r}function wd(r){return!!r&&"arrayValue"in r}function s_(r){return!!r&&"nullValue"in r}function r_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function tc(r){return!!r&&"mapValue"in r}function xS(r){return(r?.mapValue?.fields||{})[_v]?.stringValue===vv}function Jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ss(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return e}return{...r}}function US(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===OS}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!tc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=Ge.emptyPath(),s={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=y.popLast()}d?s[y.lastSegment()]=Jl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());tc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];tc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Ss(i,((u,h)=>e[u]=h));for(const u of s)delete e[u]}clone(){return new In(Jl(this.value))}}function Ev(r){const e=[];return Ss(r.fields,((i,s)=>{const u=new Ge([i]);if(tc(s)){const h=Ev(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new Fn(e)}class Xe{constructor(e,i,s,u,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,Tt.min(),Tt.min(),Tt.min(),In.empty(),0)}static newFoundDocument(e,i,s,u){return new Xe(e,1,i,Tt.min(),s,u,0)}static newNoDocument(e,i){return new Xe(e,2,i,Tt.min(),Tt.min(),In.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Tt.min(),Tt.min(),In.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dc{constructor(e,i){this.position=e,this.inclusive=i}}function l_(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=Nr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function u_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Si(r.position[i],e.position[i]))return!1;return!0}class lu{constructor(e,i="asc"){this.field=e,this.dir=i}}function zS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Tv{}class we extends Tv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new jS(e,i,s):i==="array-contains"?new PS(e,s):i==="in"?new kS(e,s):i==="not-in"?new HS(e,s):i==="array-contains-any"?new GS(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new BS(e,s):new qS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Nr(i,this.value)):i!==null&&La(this.value)===La(i)&&this.matchesComparison(Nr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends Tv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yn(e,i)}matches(e){return Sv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sv(r){return r.op==="and"}function Av(r){return LS(r)&&Sv(r)}function LS(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function rd(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Dr(r.value);if(Av(r))return r.filters.map((e=>rd(e))).join(",");{const e=r.filters.map((i=>rd(i))).join(",");return`${r.op}(${e})`}}function bv(r,e){return r instanceof we?(function(s,u){return u instanceof we&&s.op===u.op&&s.field.isEqual(u.field)&&Si(s.value,u.value)})(r,e):r instanceof Yn?(function(s,u){return u instanceof Yn&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((h,d,y)=>h&&bv(d,u.filters[y])),!0):!1})(r,e):void vt(19439)}function Rv(r){return r instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Dr(i.value)}`})(r):r instanceof Yn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Rv).join(" ,")+"}"})(r):"Filter"}class jS extends we{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class BS extends we{constructor(e,i){super(e,"in",i),this.keys=Cv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class qS extends we{constructor(e,i){super(e,"not-in",i),this.keys=Cv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Cv(r,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class PS extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return wd(i)&&ru(i.arrayValue,this.value)}}class kS extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ru(this.value.arrayValue,i)}}class HS extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ru(this.value.arrayValue,i)}}class GS extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!wd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class QS{constructor(e,i=null,s=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function o_(r,e=null,i=[],s=[],u=null,h=null,d=null){return new QS(r,e,i,s,u,h,d)}function Nd(r){const e=At(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>rd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Dr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Dr(s))).join(",")),e.Te=i}return e.Te}function Dd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!zS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!bv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!u_(r.startAt,e.startAt)&&u_(r.endAt,e.endAt)}function ld(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class zr{constructor(e,i=null,s=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FS(r,e,i,s,u,h,d,y){return new zr(r,e,i,s,u,h,d,y)}function wv(r){return new zr(r)}function c_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Nv(r){return r.collectionGroup!==null}function $l(r){const e=At(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new lu(h,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new lu(Ge.keyField(),s))}return e.Ie}function _i(r){const e=At(r);return e.Ee||(e.Ee=YS(e,$l(r))),e.Ee}function YS(r,e){if(r.limitType==="F")return o_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new lu(u.field,h)}));const i=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return o_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ud(r,e){const i=r.filters.concat([e]);return new zr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function mc(r,e,i){return new zr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Cc(r,e){return Dd(_i(r),_i(e))&&r.limitType===e.limitType}function Dv(r){return`${Nd(_i(r))}|lt:${r.limitType}`}function gr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>Rv(u))).join(", ")}]`),bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Dr(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Dr(u))).join(",")),`Target(${s})`})(_i(r))}; limitType=${r.limitType})`}function wc(r,e){return e.isFoundDocument()&&(function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,u){for(const h of $l(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,y,v){const _=l_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,$l(s),u)||s.endAt&&!(function(d,y,v){const _=l_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,$l(s),u))})(r,e)}function KS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Vv(r){return(e,i)=>{let s=!1;for(const u of $l(r)){const h=XS(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function XS(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Nr(v,_):vt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}class As{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((i,s)=>{for(const[u,h]of s)e(u,h)}))}isEmpty(){return fv(this.inner)}size(){return this.innerSize}}const ZS=new oe(mt.comparator);function Yi(){return ZS}const Iv=new oe(mt.comparator);function Fl(...r){let e=Iv;for(const i of r)e=e.insert(i.key,i);return e}function Mv(r){let e=Iv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function vs(){return Wl()}function Ov(){return Wl()}function Wl(){return new As((r=>r.toString()),((r,e)=>r.isEqual(e)))}const JS=new oe(mt.comparator),$S=new Ie(mt.comparator);function Lt(...r){let e=$S;for(const i of r)e=e.add(i);return e}const WS=new Ie(zt);function tA(){return WS}function Vd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function xv(r){return{integerValue:""+r}}function eA(r,e){return NS(e)?xv(e):Vd(r,e)}class Nc{constructor(){this._=void 0}}function nA(r,e,i){return r instanceof gc?(function(u,h){const d={fields:{[gv]:{stringValue:mv},[yv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Cd(h)&&(h=Rc(h)),h&&(d.fields[pv]=h),{mapValue:d}})(i,e):r instanceof uu?zv(r,e):r instanceof ou?Lv(r,e):(function(u,h){const d=Uv(u,h),y=h_(d)+h_(u.Ae);return sd(d)&&sd(u.Ae)?xv(y):Vd(u.serializer,y)})(r,e)}function iA(r,e,i){return r instanceof uu?zv(r,e):r instanceof ou?Lv(r,e):i}function Uv(r,e){return r instanceof pc?(function(s){return sd(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class gc extends Nc{}class uu extends Nc{constructor(e){super(),this.elements=e}}function zv(r,e){const i=jv(e);for(const s of r.elements)i.some((u=>Si(u,s)))||i.push(s);return{arrayValue:{values:i}}}class ou extends Nc{constructor(e){super(),this.elements=e}}function Lv(r,e){let i=jv(e);for(const s of r.elements)i=i.filter((u=>!Si(u,s)));return{arrayValue:{values:i}}}class pc extends Nc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function h_(r){return pe(r.integerValue||r.doubleValue)}function jv(r){return wd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function aA(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof uu&&u instanceof uu||s instanceof ou&&u instanceof ou?wr(s.elements,u.elements,Si):s instanceof pc&&u instanceof pc?Si(s.Ae,u.Ae):s instanceof gc&&u instanceof gc})(r.transform,e.transform)}class sA{constructor(e,i){this.version=e,this.transformResults=i}}class Gi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dc{}function Bv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Pv(r.key,Gi.none()):new hu(r.key,r.data,Gi.none());{const i=r.data,s=In.empty();let u=new Ie(Ge.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new bs(r.key,s,new Fn(u.toArray()),Gi.none())}}function rA(r,e,i){r instanceof hu?(function(u,h,d){const y=u.value.clone(),v=d_(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof bs?(function(u,h,d){if(!ec(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=d_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(qv(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function tu(r,e,i,s){return r instanceof hu?(function(h,d,y,v){if(!ec(h.precondition,d))return y;const _=h.value.clone(),S=m_(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof bs?(function(h,d,y,v){if(!ec(h.precondition,d))return y;const _=m_(h.fieldTransforms,v,d),S=d.data;return S.setAll(qv(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(h,d,y){return ec(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function lA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=Uv(s.transform,u||null);h!=null&&(i===null&&(i=In.empty()),i.set(s.field,h))}return i||null}function f_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&wr(s,u,((h,d)=>aA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hu extends Dc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class bs extends Dc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function d_(r,e,i){const s=new Map;Yt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,y=e.data.field(h.field);s.set(h.field,iA(d,y,i[u]))}return s}function m_(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,nA(h,d,e))}return s}class Pv extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uA extends Dc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oA{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&rA(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=tu(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=tu(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Ov();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=Bv(d,y);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&wr(this.mutations,e.mutations,((i,s)=>f_(i,s)))&&wr(this.baseMutations,e.baseMutations,((i,s)=>f_(i,s)))}}class Id{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Yt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return JS})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Id(e,i,s,u)}}class cA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ce,Bt;function fA(r){switch(r){case X.OK:return vt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function kv(r){if(r===void 0)return Fi("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ce.OK:return X.OK;case Ce.CANCELLED:return X.CANCELLED;case Ce.UNKNOWN:return X.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return X.INTERNAL;case Ce.UNAVAILABLE:return X.UNAVAILABLE;case Ce.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ce.NOT_FOUND:return X.NOT_FOUND;case Ce.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ce.ABORTED:return X.ABORTED;case Ce.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ce.DATA_LOSS:return X.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=Ce||(Ce={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function dA(){return new TextEncoder}const mA=new Ia([4294967295,4294967295],0);function g_(r){const e=dA().encode(r),i=new ev;return i.update(e),new Uint8Array(i.digest())}function p_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ia([i,s],0),new Ia([u,h],0)]}class Md{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ia.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Ia.fromNumber(s)));return u.compare(mA)===1&&(u=new Ia([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=g_(e),[s,u]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Md(h,u,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=g_(e),[s,u]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Vc(Tt.min(),u,new oe(zt),Yi(),Lt())}}class fu{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new fu(s,i,Lt(),Lt(),Lt())}}class nc{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class Hv{constructor(e,i){this.targetId=e,this.Ce=i}}class Gv{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class y_{constructor(){this.ve=0,this.Fe=__(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),i=Lt(),s=Lt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:vt(38017,{changeType:h})}})),new fu(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=__()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.Je=Ko(),this.He=Ko(),this.Ye=new oe(zt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(ld(h))if(s===0){const d=new mt(h.path);this.et(i,d,Xe.newNoDocument(d,Tt.min()))}else Yt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=za(s).toUint8Array()}catch(v){if(v instanceof dv)return Cr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Md(d,u,h)}catch(v){return Cr(v instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&ld(y.target)){const v=new mt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Lt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new Vc(e,i,this.Ye,this.je,s);return this.je=Yi(),this.Je=Ko(),this.He=Ko(),this.Ye=new oe(zt),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new y_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(zt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(zt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ko(){return new oe(mt.comparator)}function __(){return new oe(mt.comparator)}const pA={asc:"ASCENDING",desc:"DESCENDING"},yA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_A={and:"AND",or:"OR"};class vA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function od(r,e){return r.useProto3Json||bc(e)?e:{value:e}}function yc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function EA(r,e){return yc(r,e.toTimestamp())}function vi(r){return Yt(!!r,49232),Tt.fromTimestamp((function(i){const s=Ua(i);return new ie(s.seconds,s.nanos)})(r))}function Od(r,e){return cd(r,e).canonicalString()}function cd(r,e){const i=(function(u){return new ne(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Fv(r){const e=ne.fromString(r);return Yt(Jv(e),10190,{key:e.toString()}),e}function hd(r,e){return Od(r.databaseId,e.path)}function Yf(r,e){const i=Fv(e);if(i.get(1)!==r.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(Kv(i))}function Yv(r,e){return Od(r.databaseId,e)}function TA(r){const e=Fv(r);return e.length===4?ne.emptyPath():Kv(e)}function fd(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Kv(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function v_(r,e,i){return{name:hd(r,e),fields:i.value.mapValue.fields}}function SA(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(Yt(S===void 0||typeof S=="string",58123),Qe.fromBase64String(S||"")):(Yt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qe.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?X.UNKNOWN:kv(_.code);return new at(S,_.message||"")})(d);i=new Gv(s,u,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Yf(r,s.document.name),h=vi(s.document.updateTime),d=s.document.createTime?vi(s.document.createTime):Tt.min(),y=new In({mapValue:{fields:s.document.fields}}),v=Xe.newFoundDocument(u,h,d,y),_=s.targetIds||[],S=s.removedTargetIds||[];i=new nc(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Yf(r,s.document),h=s.readTime?vi(s.readTime):Tt.min(),d=Xe.newNoDocument(u,h),y=s.removedTargetIds||[];i=new nc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Yf(r,s.document),h=s.removedTargetIds||[];i=new nc([],h,u,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new hA(u,h),y=s.targetId;i=new Hv(y,d)}}return i}function AA(r,e){let i;if(e instanceof hu)i={update:v_(r,e.key,e.value)};else if(e instanceof Pv)i={delete:hd(r,e.key)};else if(e instanceof bs)i={update:v_(r,e.key,e.data),updateMask:MA(e.fieldMask)};else{if(!(e instanceof uA))return vt(16599,{Vt:e.type});i={verify:hd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof uu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ou)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof pc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw vt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:EA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(r,e.precondition)),i}function bA(r,e){return r&&r.length>0?(Yt(e!==void 0,14353),r.map((i=>(function(u,h){let d=u.updateTime?vi(u.updateTime):vi(h);return d.isEqual(Tt.min())&&(d=vi(h)),new sA(d,u.transformResults||[])})(i,e)))):[]}function RA(r,e){return{documents:[Yv(r,e.path)]}}function CA(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Yv(r,u);const h=(function(_){if(_.length!==0)return Zv(Yn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(U){return{field:pr(U.field),direction:DA(U.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=od(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function wA(r){let e=TA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Yt(s===1,65062);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(b){const U=Xv(b);return U instanceof Yn&&Av(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((U=>(function(W){return new lu(yr(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(U)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let U;return U=typeof b=="object"?b.value:b,bc(U)?null:U})(i.limit));let v=null;i.startAt&&(v=(function(b){const U=!!b.before,G=b.values||[];return new dc(G,U)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const U=!b.before,G=b.values||[];return new dc(G,U)})(i.endAt)),FS(e,u,d,h,y,"F",v,_)}function NA(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Xv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=yr(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=yr(i.unaryFilter.field);return we.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=yr(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=yr(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return we.create(yr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Yn.create(i.compositeFilter.filters.map((s=>Xv(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function DA(r){return pA[r]}function VA(r){return yA[r]}function IA(r){return _A[r]}function pr(r){return{fieldPath:r.canonicalString()}}function yr(r){return Ge.fromServerFormat(r.fieldPath)}function Zv(r){return r instanceof we?(function(i){if(i.op==="=="){if(r_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NAN"}};if(s_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(r_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NOT_NAN"}};if(s_(i.value))return{unaryFilter:{field:pr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pr(i.field),op:VA(i.op),value:i.value}}})(r):r instanceof Yn?(function(i){const s=i.getFilters().map((u=>Zv(u)));return s.length===1?s[0]:{compositeFilter:{op:IA(i.op),filters:s}}})(r):vt(54877,{filter:r})}function MA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Jv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Na{constructor(e,i,s,u,h=Tt.min(),d=Tt.min(),y=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class OA{constructor(e){this.yt=e}}function xA(r){const e=wA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mc(e,e.limit,"L"):e}class UA{constructor(){this.Cn=new zA}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(xa.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class zA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Ie(ne.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ie(ne.comparator)).toArray()}}const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$v=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un($v,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Vr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vr(0)}static cr(){return new Vr(-1)}}const T_="LruGarbageCollector",LA=1048576;function S_([r,e],[i,s]){const u=zt(r,i);return u===0?zt(e,s):u}class jA{constructor(e){this.Ir=e,this.buffer=new Ie(S_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();S_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class BA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){rt(T_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ur(i)?rt(T_,"Ignoring IndexedDB error during garbage collection: ",i):await xr(i)}await this.Vr(3e5)}))}}class qA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Ac.ce);const s=new jA(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(E_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,h,d,y,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(e,u)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),mr()<=qt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:b}))))}}function PA(r,e){return new qA(r,e)}class kA{constructor(){this.changes=new As((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class GA{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&tu(s.mutation,u,Fn.empty(),ie.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Lt()){const u=vs();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((h=>{let d=Fl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=vs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Lt())))}populateOverlays(e,i,s){const u=[];return s.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,u){let h=Yi();const d=Wl(),y=(function(){return Wl()})();return i.forEach(((v,_)=>{const S=s.get(_.key);u.has(_.key)&&(S===void 0||S.mutation instanceof bs)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),tu(S.mutation,_,S.mutation.getFieldMask(),ie.now())):d.set(_.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new HA(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Wl();let u=new oe(((d,y)=>d-y)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=s.get(v)||Fn.empty();S=y.applyToLocalView(_,S),s.set(v,S);const b=(u.get(y.batchId)||Lt()).add(v);u=u.insert(y.batchId,b)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,b=Ov();S.forEach((U=>{if(!h.has(U)){const G=Bv(i.get(U),s.get(U));G!==null&&b.set(U,G),h=h.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Nv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Z.resolve(vs());let y=iu,v=h;return d.next((_=>Z.forEach(_,((S,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),h.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((U=>{v=v.insert(S,U)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Lt()))).next((S=>({batchId:y,changes:Mv(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let u=Fl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,h).next((y=>Z.forEach(y,(v=>{const _=(function(b,U){return new zr(U,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((S=>{S.forEach(((b,U)=>{d=d.insert(b,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u)))).next((d=>{h.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Xe.newInvalidDocument(S)))}));let y=Fl();return d.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&tu(S.mutation,_,Fn.empty(),ie.now()),wc(i,_)&&(y=y.insert(v,_))})),y}))}}class QA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:vi(u.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:xA(u.bundledQuery),readTime:vi(u.readTime)}})(i)),Z.resolve()}}class FA{constructor(){this.overlays=new oe(mt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=vs();return Z.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&s.set(u,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const u=vs(),h=i.length+1,d=new mt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return Z.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new oe(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let S=h.get(_.largestBatchId);S===null&&(S=vs(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=vs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=u)););return Z.resolve(y)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new cA(i,s));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}class YA{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class xd{constructor(){this.Qr=new Ie(Ue.$r),this.Ur=new Ie(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ue(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ue(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new ne([])),s=new Ue(i,e),u=new Ue(i,e+1),h=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new ne([])),s=new Ue(i,e),u=new Ue(i,e+1);let h=Lt();return this.Ur.forEachInRange([s,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ue{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||zt(e.Yr,i.Yr)}static Kr(e,i){return zt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}class KA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Ue.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oA(h,i,s,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),h=u<0?0:u;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Rd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ue(i,0),u=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(zt);return i.forEach((u=>{const h=new Ue(u,0),d=new Ue(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new mt(h),0);let y=new Ie(zt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(u=>{const h=new Ue(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ue(i,0),u=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class XA{constructor(e){this.ri=e,this.docs=(function(){return new oe(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Yi();return i.forEach((u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Xe.newInvalidDocument(u))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Yi();const d=i.path,y=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||bS(AS(S),s)<=0||(u.has(S.key)||wc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,u){vt(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new ZA(this)}getSize(e){return Z.resolve(this.size)}}class ZA extends kA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class JA{constructor(e){this.persistence=e,this.si=new As((i=>Nd(i)),Dd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new xd,this.targetCount=0,this.ai=Vr.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Vr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),Z.waitFor(h).next((()=>u))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class Wv{constructor(e,i){this.ui={},this.overlays={},this.ci=new Ac(0),this.li=!1,this.li=!0,this.hi=new YA,this.referenceDelegate=e(this),this.Pi=new JA(this),this.indexManager=new UA,this.remoteDocumentCache=(function(u){return new XA(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new OA(i),this.Ii=new QA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new FA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new KA(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){rt("MemoryPersistence","Starting transaction:",e);const u=new $A(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class $A extends CS{constructor(e){super(),this.currentSequenceNumber=e}}class Ud{constructor(e){this.persistence=e,this.Ri=new xd,this.Vi=null}static mi(e){return new Ud(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const u=mt.fromPath(s);return this.gi(e,u).next((h=>{h||i.removeEntry(u,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class _c{constructor(e,i){this.persistence=e,this.pi=new As((s=>DS(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=PA(this,i)}static mi(e,i){return new _c(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,u)=>this.br(e,s,u).next((h=>h?Z.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Wo(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return Z.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class zd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Lt(),u=Lt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new zd(e,i.fromCache,s,u)}}class WA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GT()?8:wS(kT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new WA;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(mr()<=qt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",gr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(mr()<=qt.DEBUG&&rt("QueryEngine","Query:",gr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(mr()<=qt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",gr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(i))):Z.resolve())}ys(e,i){if(c_(i))return Z.resolve(null);let s=_i(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=mc(i,null,"F"),s=_i(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Lt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,mc(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,u){return c_(i)||u.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,u)?Z.resolve(null):(mr()<=qt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),gr(i)),this.vs(e,d,i,SS(u,iu)).next((y=>y)))}))}Ds(e,i){let s=new Ie(Vv(e));return i.forEach(((u,h)=>{wc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,s){return mr()<=qt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",gr(i)),this.ps.getDocumentsMatchingQuery(e,i,xa.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Ld="LocalStore",eb=3e8;class nb{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new oe(zt),this.xs=new As((h=>Nd(h)),Dd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function ib(r,e,i,s){return new nb(r,e,i,s)}async function tE(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=Lt();for(const _ of u){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function ab(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const b=_.batch,U=b.keys();let G=Z.resolve();return U.forEach((W=>{G=G.next((()=>S.getEntry(v,W))).next(($=>{const J=_.docVersions.get(W);Yt(J!==null,48541),$.version.compareTo(J)<0&&(b.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),S.addEntry($)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Lt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function eE(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function sb(r,e){const i=At(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((S,b)=>{const U=u.get(b);if(!U)return;y.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,b))));let G=U.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?G=G.withResumeToken(Qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,s)),u=u.insert(b,G),(function($,J,lt){return $.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=eb?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(U,G,S)&&y.push(i.Pi.updateTargetData(h,G))}));let v=Yi(),_=Lt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),y.push(rb(h,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!s.isEqual(Tt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(S)}return Z.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function rb(r,e,i){let s=Lt(),u=Lt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Yi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):rt(Ld,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function lb(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ub(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((h=>h?(u=h,Z.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new Na(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function dd(r,e,i){const s=At(r),u=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Ur(d))throw d;rt(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function A_(r,e,i){const s=At(r);let u=Tt.min(),h=Lt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const b=At(v),U=b.xs.get(S);return U!==void 0?Z.resolve(b.Ms.get(U)):b.Pi.getTargetData(_,S)})(s,d,_i(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:Tt.min(),i?h:Lt()))).next((y=>(ob(s,KS(e),y),{documents:y,Qs:h})))))}function ob(r,e,i){let s=r.Os.get(e)||Tt.min();i.forEach(((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class b_{constructor(){this.activeTargetIds=tA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cb{constructor(){this.Mo=new b_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new b_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hb{Oo(e){}shutdown(){}}const R_="ConnectivityMonitor";class C_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(R_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){rt(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xo=null;function md(){return Xo===null?Xo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xo++,"0x"+Xo.toString(16)}const Kf="RestConnection",fb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class db{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===hc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,h){const d=md(),y=this.zo(e,i.toUriEncodedString());rt(Kf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),S=Td(_);return this.Jo(e,y,v,s,S).then((b=>(rt(Kf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Cr(Kf,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,u,h,d){return this.Go(e,i,s,u,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Or})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),s&&s.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const s=fb[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class mb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ye="WebChannelConnection";class gb extends db{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=md();return new Promise(((y,v)=>{const _=new nv;_.setWithCredentials(!0),_.listenOnce(iv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case $o.NO_ERROR:const b=_.getResponseJson();rt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case $o.TIMEOUT:rt(Ye,`RPC '${e}' ${d} timed out`),v(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case $o.HTTP_ERROR:const U=_.getStatus();if(rt(Ye,`RPC '${e}' ${d} failed with status:`,U,"response text:",_.getResponseText()),U>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const $=(function(lt){const gt=lt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN})(W.status);v(new at($,W.message))}else v(new at(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(X.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Ye,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(u);rt(Ye,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",S,s,15)}))}T_(e,i,s){const u=md(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rv(),y=sv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const S=h.join("");rt(Ye,`Creating RPC '${e}' stream ${u}: ${S}`,v);const b=d.createWebChannel(S,v);this.I_(b);let U=!1,G=!1;const W=new mb({Yo:J=>{G?rt(Ye,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(U||(rt(Ye,`Opening RPC '${e}' stream ${u} transport.`),b.open(),U=!0),rt(Ye,`RPC '${e}' stream ${u} sending:`,J),b.send(J))},Zo:()=>b.close()}),$=(J,lt,gt)=>{J.listen(lt,(it=>{try{gt(it)}catch(_t){setTimeout((()=>{throw _t}),0)}}))};return $(b,Ql.EventType.OPEN,(()=>{G||(rt(Ye,`RPC '${e}' stream ${u} transport opened.`),W.o_())})),$(b,Ql.EventType.CLOSE,(()=>{G||(G=!0,rt(Ye,`RPC '${e}' stream ${u} transport closed`),W.a_(),this.E_(b))})),$(b,Ql.EventType.ERROR,(J=>{G||(G=!0,Cr(Ye,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),$(b,Ql.EventType.MESSAGE,(J=>{if(!G){const lt=J.data[0];Yt(!!lt,16349);const gt=lt,it=gt?.error||gt[0]?.error;if(it){rt(Ye,`RPC '${e}' stream ${u} received error:`,it);const _t=it.status;let bt=(function(A){const w=Ce[A];if(w!==void 0)return kv(w)})(_t),Ct=it.message;bt===void 0&&(bt=X.INTERNAL,Ct="Unknown error status: "+_t+" with message "+it.message),G=!0,W.a_(new at(bt,Ct)),b.close()}else rt(Ye,`RPC '${e}' stream ${u} received:`,lt),W.u_(lt)}})),$(y,av.STAT_EVENT,(J=>{J.stat===nd.PROXY?rt(Ye,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===nd.NOPROXY&&rt(Ye,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Xf(){return typeof document<"u"?document:null}function Ic(r){return new vA(r,!0)}class nE{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const w_="PersistentStream";class iE{constructor(e,i,s,u,h,d,y,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new at(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return rt(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(rt(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pb extends iE{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=SA(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?vi(d.readTime):Tt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=fd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=ld(v)?{documents:RA(h,v)}:{query:CA(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Qv(h,d.resumeToken);const _=od(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){y.readTime=yc(h,d.snapshotVersion.toTimestamp());const _=od(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=NA(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=fd(this.serializer),i.removeTarget=e,this.q_(i)}}class yb extends iE{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=bA(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=fd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>AA(this.serializer,s)))};this.q_(i)}}class _b{}class vb extends _b{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,cd(i,s),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(X.UNKNOWN,h.toString())}))}Ho(e,i,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,cd(i,s),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Eb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ts="RemoteStore";class Tb{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Rs(this)&&(rt(Ts,"Restarting streams for network reachability change."),await(async function(v){const _=At(v);_.Ea.add(4),await du(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Mc(_)})(this))}))})),this.Ra=new Eb(s,u)}}async function Mc(r){if(Rs(r))for(const e of r.da)await e(!0)}async function du(r){for(const e of r.da)await e(!1)}function aE(r,e){const i=At(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Pd(i)?qd(i):Lr(i).O_()&&Bd(i,e))}function jd(r,e){const i=At(r),s=Lr(i);i.Ia.delete(e),s.O_()&&sE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Rs(i)&&i.Ra.set("Unknown"))}function Bd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Lr(r).Y_(e)}function sE(r,e){r.Va.Ue(e),Lr(r).Z_(e)}function qd(r){r.Va=new gA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Lr(r).start(),r.Ra.ua()}function Pd(r){return Rs(r)&&!Lr(r).x_()&&r.Ia.size>0}function Rs(r){return At(r).Ea.size===0}function rE(r){r.Va=void 0}async function Sb(r){r.Ra.set("Online")}async function Ab(r){r.Ia.forEach(((e,i)=>{Bd(r,e)}))}async function bb(r,e){rE(r),Pd(r)?(r.Ra.ha(e),qd(r)):r.Ra.set("Unknown")}async function Rb(r,e,i){if(r.Ra.set("Online"),e instanceof Gv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(r,e)}catch(s){rt(Ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vc(r,s)}else if(e instanceof nc?r.Va.Ze(e):e instanceof Hv?r.Va.st(e):r.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await eE(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Qe.EMPTY_BYTE_STRING,S.snapshotVersion)),sE(h,v);const b=new Na(S.target,v,_,S.sequenceNumber);Bd(h,b)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){rt(Ts,"Failed to raise snapshot:",s),await vc(r,s)}}async function vc(r,e,i){if(!Ur(e))throw e;r.Ea.add(1),await du(r),r.Ra.set("Offline"),i||(i=()=>eE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Ts,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Mc(r)}))}function lE(r,e){return e().catch((i=>vc(r,i,e)))}async function Oc(r){const e=At(r),i=ja(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rd;for(;Cb(e);)try{const u=await lb(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,wb(e,u)}catch(u){await vc(e,u)}uE(e)&&oE(e)}function Cb(r){return Rs(r)&&r.Ta.length<10}function wb(r,e){r.Ta.push(e);const i=ja(r);i.O_()&&i.X_&&i.ea(e.mutations)}function uE(r){return Rs(r)&&!ja(r).x_()&&r.Ta.length>0}function oE(r){ja(r).start()}async function Nb(r){ja(r).ra()}async function Db(r){const e=ja(r);for(const i of r.Ta)e.ea(i.mutations)}async function Vb(r,e,i){const s=r.Ta.shift(),u=Id.from(s,e,i);await lE(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await Oc(r)}async function Ib(r,e){e&&ja(r).X_&&await(async function(s,u){if((function(d){return fA(d)&&d!==X.ABORTED})(u.code)){const h=s.Ta.shift();ja(s).B_(),await lE(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Oc(s)}})(r,e),uE(r)&&oE(r)}async function N_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(Ts,"RemoteStore received new credentials");const s=Rs(i);i.Ea.add(3),await du(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mc(i)}async function Mb(r,e){const i=At(r);e?(i.Ea.delete(2),await Mc(i)):e||(i.Ea.add(2),await du(i),i.Ra.set("Unknown"))}function Lr(r){return r.ma||(r.ma=(function(i,s,u){const h=At(i);return h.sa(),new pb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:Sb.bind(null,r),t_:Ab.bind(null,r),r_:bb.bind(null,r),H_:Rb.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Pd(r)?qd(r):r.Ra.set("Unknown")):(await r.ma.stop(),rE(r))}))),r.ma}function ja(r){return r.fa||(r.fa=(function(i,s,u){const h=At(i);return h.sa(),new yb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Nb.bind(null,r),r_:Ib.bind(null,r),ta:Db.bind(null,r),na:Vb.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Oc(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Ts,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class kd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,y=new kd(e,i,d,u,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(r,e){if(Fi("AsyncQueue",`${e}: ${r}`),Ur(r))return new at(X.UNAVAILABLE,`${e}: ${r}`);throw r}class Sr{static emptySet(e){return new Sr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Fl(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Sr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class D_{constructor(){this.ga=new oe(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ir{constructor(e,i,s,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Ir(e,i,Sr.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class Ob{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class xb{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=At(i),h=u.queries;u.queries=V_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function V_(){return new As((r=>Dv(r)),Cc)}async function Ub(r,e){const i=At(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(s=2):(h=new Ob,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Hd(d,`Initialization of query '${gr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Gd(i)}async function zb(r,e){const i=At(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Lb(r,e){const i=At(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(s=!0);d.wa=u}}s&&Gd(i)}function jb(r,e,i){const s=At(r),u=s.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);s.queries.delete(e)}function Gd(r){r.Ca.forEach((e=>{e.next()}))}var gd,I_;(I_=gd||(gd={})).Ma="default",I_.Cache="cache";class Bb{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Ir(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ir.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gd.Cache}}class cE{constructor(e){this.key=e}}class hE{constructor(e){this.key=e}}class qb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=Vv(e),this.tu=new Sr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new D_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((S,b)=>{const U=u.get(S),G=wc(this.query,b)?b:null,W=!!U&&this.mutatedKeys.has(U.key),$=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;U&&G?U.data.isEqual(G.data)?W!==$&&(s.track({type:3,doc:G}),J=!0):this.su(U,G)||(s.track({type:2,doc:G}),J=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(y=!0)):!U&&G?(s.track({type:0,doc:G}),J=!0):U&&!G&&(s.track({type:1,doc:U}),J=!0,(v||_)&&(y=!0)),J&&(G?(d=d.add(G),h=$?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,b)=>(function(G,W){const $=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return $(G)-$(W)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(s),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ir(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new hE(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new cE(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ir.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qd="SyncEngine";class Pb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class kb{constructor(e){this.key=e,this.hu=!1}}class Hb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new As((y=>Dv(y)),Cc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(mt.comparator),this.Au=new Map,this.Ru=new xd,this.Vu={},this.mu=new Map,this.fu=Vr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Gb(r,e,i=!0){const s=yE(r);let u;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await fE(s,e,i,!0),u}async function Qb(r,e){const i=yE(r);await fE(i,e,!0,!1)}async function fE(r,e,i,s){const u=await ub(r.localStore,_i(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await Fb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&aE(r.remoteStore,u),y}async function Fb(r,e,i,s,u){r.pu=(b,U,G)=>(async function($,J,lt,gt){let it=J.view.ru(lt);it.Cs&&(it=await A_($.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,it))));const _t=gt&&gt.targetChanges.get(J.targetId),bt=gt&&gt.targetMismatches.get(J.targetId)!=null,Ct=J.view.applyChanges(it,$.isPrimaryClient,_t,bt);return O_($,J.targetId,Ct.au),Ct.snapshot})(r,b,U,G);const h=await A_(r.localStore,e,!0),d=new qb(e,h.Qs),y=d.ru(h.documents),v=fu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);O_(r,i,_.au);const S=new Pb(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function Yb(r,e,i){const s=At(r),u=s.Tu.get(e),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter((d=>!Cc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await dd(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&jd(s.remoteStore,u.targetId),pd(s,u.targetId)})).catch(xr)):(pd(s,u.targetId),await dd(s.localStore,u.targetId,!0))}async function Kb(r,e){const i=At(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),jd(i.remoteStore,s.targetId))}async function Xb(r,e,i){const s=n2(r);try{const u=await(function(d,y){const v=At(d),_=ie.now(),S=y.reduce(((G,W)=>G.add(W.key)),Lt());let b,U;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=Yi(),$=Lt();return v.Ns.getEntries(G,S).next((J=>{W=J,W.forEach(((lt,gt)=>{gt.isValidDocument()||($=$.add(lt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,W))).next((J=>{b=J;const lt=[];for(const gt of y){const it=lA(gt,b.get(gt.key).overlayedDocument);it!=null&&lt.push(new bs(gt.key,it,Ev(it.value.mapValue),Gi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,lt,y)})).next((J=>{U=J;const lt=J.applyToLocalDocumentSet(b,$);return v.documentOverlayCache.saveOverlays(G,J.batchId,lt)}))})).then((()=>({batchId:U.batchId,changes:Mv(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(zt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,u.batchId,i),await mu(s,u.changes),await Oc(s.remoteStore)}catch(u){const h=Hd(u,"Failed to persist write");i.reject(h)}}async function dE(r,e){const i=At(r);try{const s=await sb(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(Yt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Yt(d.hu,14607):u.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await mu(i,s,e)}catch(s){await xr(s)}}function M_(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=At(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,b)=>{for(const U of b.Sa)U.va(y)&&(_=!0)})),_&&Gd(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Zb(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),h=u&&u.key;if(h){let d=new oe(mt.comparator);d=d.insert(h,Xe.newNoDocument(h,Tt.min()));const y=Lt().add(h),v=new Vc(Tt.min(),new Map,new oe(zt),d,y);await dE(s,v),s.du=s.du.remove(h),s.Au.delete(e),Fd(s)}else await dd(s.localStore,e,!1).then((()=>pd(s,e,i))).catch(xr)}async function Jb(r,e){const i=At(r),s=e.batch.batchId;try{const u=await ab(i.localStore,e);gE(i,s,null),mE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await mu(i,u)}catch(u){await xr(u)}}async function $b(r,e,i){const s=At(r);try{const u=await(function(d,y){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(Yt(b!==null,37113),S=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(s.localStore,e);gE(s,e,i),mE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await mu(s,u)}catch(u){await xr(u)}}function mE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function gE(r,e,i){const s=At(r);let u=s.Vu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function pd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||pE(r,s)}))}function pE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(jd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Fd(r))}function O_(r,e,i){for(const s of i)s instanceof cE?(r.Ru.addReference(s.key,e),Wb(r,s)):s instanceof hE?(rt(Qd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||pE(r,s.key)):vt(19791,{wu:s})}function Wb(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(rt(Qd,"New document in limbo: "+i),r.Eu.add(s),Fd(r))}function Fd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(ne.fromString(e)),s=r.fu.next();r.Au.set(s,new kb(i)),r.du=r.du.insert(i,s),aE(r.remoteStore,new Na(_i(wv(i.path)),s,"TargetPurposeLimboResolution",Ac.ce))}}async function mu(r,e,i){const s=At(r),u=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){u.push(_);const S=zd.As(v.targetId,_);h.push(S)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,_){const S=At(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(U=>Z.forEach(U.Es,(G=>S.persistence.referenceDelegate.addReference(b,U.targetId,G))).next((()=>Z.forEach(U.ds,(G=>S.persistence.referenceDelegate.removeReference(b,U.targetId,G)))))))))}catch(b){if(!Ur(b))throw b;rt(Ld,"Failed to update sequence numbers: "+b)}for(const b of _){const U=b.targetId;if(!b.fromCache){const G=S.Ms.get(U),W=G.snapshotVersion,$=G.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(U,$)}}})(s.localStore,h))}async function t2(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){rt(Qd,"User change. New user:",e.toKey());const s=await tE(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new at(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mu(i,s.Ls)}}function e2(r,e){const i=At(r),s=i.Au.get(e);if(s&&s.hu)return Lt().add(s.key);{let u=Lt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function yE(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=dE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zb.bind(null,e),e.Pu.H_=Lb.bind(null,e.eventManager),e.Pu.yu=jb.bind(null,e.eventManager),e}function n2(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$b.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ic(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return ib(this.persistence,new tb,e.initialUser,this.serializer)}Cu(e){return new Wv(Ud.mi,this.serializer)}Du(e){return new cb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class i2 extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Yt(this.persistence.referenceDelegate instanceof _c,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new BA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Wv((s=>_c.mi(s,i)),this.serializer)}}class yd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=t2.bind(null,this.syncEngine),await Mb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new xb})()}createDatastore(e){const i=Ic(e.databaseInfo.databaseId),s=(function(h){return new gb(h)})(e.databaseInfo);return(function(h,d,y,v){return new vb(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,h,d,y){return new Tb(s,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>M_(this.syncEngine,i,0)),(function(){return C_.v()?new C_:new hb})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,S){const b=new Hb(u,h,d,y,v,_);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=At(i);rt(Ts,"RemoteStore shutting down."),s.Ea.add(5),await du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yd.provider={build:()=>new yd};class a2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ba="FirestoreClient";class s2{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ke.UNAUTHENTICATED,this.clientId=bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{rt(Ba,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(Ba,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Hd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Zf(r,e){r.asyncQueue.verifyOperationInProgress(),rt(Ba,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await tE(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function x_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await r2(r);rt(Ba,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>N_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>N_(e.remoteStore,u))),r._onlineComponents=e}async function r2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Ba,"Using user provided OfflineComponentProvider");try{await Zf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Cr("Error using user provided cache. Falling back to memory cache: "+i),await Zf(r,new Ec)}}else rt(Ba,"Using default OfflineComponentProvider"),await Zf(r,new i2(void 0));return r._offlineComponents}async function _E(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Ba,"Using user provided OnlineComponentProvider"),await x_(r,r._uninitializedComponentsProvider._online)):(rt(Ba,"Using default OnlineComponentProvider"),await x_(r,new yd))),r._onlineComponents}function l2(r){return _E(r).then((e=>e.syncEngine))}async function u2(r){const e=await _E(r),i=e.eventManager;return i.onListen=Gb.bind(null,e.syncEngine),i.onUnlisten=Yb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Qb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Kb.bind(null,e.syncEngine),i}function o2(r,e,i={}){const s=new Ma;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const S=new a2({next:U=>{S.Nu(),d.enqueueAndForget((()=>zb(h,b))),U.fromCache&&v.source==="server"?_.reject(new at(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(U)},error:U=>_.reject(U)}),b=new Bb(y,S,{includeMetadataChanges:!0,qa:!0});return Ub(h,b)})(await u2(r),r.asyncQueue,e,i,s))),s.promise}function vE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const U_=new Map;const EE="firestore.googleapis.com",z_=!0;class L_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EE,this.ssl=z_}else this.host=e.host,this.ssl=e.ssl??z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LA)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ES("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new cS;switch(s.type){case"firstParty":return new mS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=U_.get(i);s&&(rt("ComponentProvider","Removing Datastore"),U_.delete(i),s.terminate())})(this),Promise.resolve()}}function c2(r,e,i,s={}){r=oc(r,xc);const u=Td(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(LT(`https://${y}`),PT("Firestore",!0)),h.host!==EE&&h.host!==y&&Cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:s};if(!rc(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=Ke.MOCK_USER;else{_=jT(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(b)}r._authCredentials=new hS(new uv(_,S))}}class Pa{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class ze{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(cu(i,ze._jsonSchema))return new ze(e,s||null,new mt(ne.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Ne("string",ze._jsonSchemaVersion),referencePath:Ne("string")};class Oa extends Pa{constructor(e,i,s){super(e,i,wv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new mt(e))}withConverter(e){return new Oa(this.firestore,e,this._path)}}function _r(r,e,...i){if(r=Rr(r),ov("collection","path",e),r instanceof xc){const s=ne.fromString(e,...i);return Zy(s),new Oa(r,null,s)}{if(!(r instanceof ze||r instanceof Oa))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return Zy(s),new Oa(r.firestore,null,s)}}function h2(r,e,...i){if(r=Rr(r),arguments.length===1&&(e=bd.newId()),ov("doc","path",e),r instanceof xc){const s=ne.fromString(e,...i);return Xy(s),new ze(r,null,new mt(s))}{if(!(r instanceof ze||r instanceof Oa))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return Xy(s),new ze(r.firestore,r instanceof Oa?r.converter:null,new mt(s))}}const j_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nE(this,"async_queue_retry"),this._c=()=>{const s=Xf();s&&rt(j_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Xf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ur(e))throw e;rt(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",q_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=kd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&vt(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function q_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Yd extends xc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function f2(r,e){const i=typeof r=="object"?r:J1(),s=typeof r=="string"?r:hc,u=F1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=UT("firestore");h&&c2(u,...h)}return u}function TE(r){if(r._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||d2(r),r._firestoreClient}function d2(r){const e=r._freezeSettings(),i=(function(u,h,d,y){return new MS(u,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,vE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new s2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(r._componentsProvider))}class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Qe.fromBase64String(e))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Ne("string",Mn._jsonSchemaVersion),bytes:Ne("string")};class Kd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class SE{constructor(e){this._methodName=e}}class Ei{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Ne("string",Ei._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Ti{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ti(e.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Ne("string",Ti._jsonSchemaVersion),vectorValues:Ne("object")};const m2=/^__.*__$/;class g2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,i,this.fieldTransforms):new hu(e,this.data,i,this.fieldTransforms)}}function AE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Xd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AE(this.Ac)&&m2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class p2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ic(e)}Cc(e,i,s,u=!1){return new Xd({Ac:e,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bE(r){const e=r._freezeSettings(),i=Ic(r._databaseId);return new p2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function y2(r,e,i,s,u,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,u);wE("Data must be an object, but it was:",d,s);const y=RE(s,d);let v,_;if(h.merge)v=new Fn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const b of h.mergeFields){const U=v2(e,b,i);if(!d.contains(U))throw new at(X.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);T2(S,U)||S.push(U)}v=new Fn(S),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new g2(new In(y),v,_)}function _2(r,e,i,s=!1){return Zd(i,r.Cc(s?4:3,e))}function Zd(r,e){if(CE(r=Rr(r)))return wE("Unsupported field value:",e,r),RE(r,e);if(r instanceof SE)return(function(s,u){if(!AE(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const h=[];let d=0;for(const y of s){let v=Zd(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,u){if((s=Rr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ie.fromDate(s);return{timestampValue:yc(u.serializer,h)}}if(s instanceof ie){const h=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yc(u.serializer,h)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:Qv(u.serializer,s._byteString)};if(s instanceof ze){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Od(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ti)return(function(d,y){return{mapValue:{fields:{[_v]:{stringValue:vv},[fc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Vd(y.serializer,_)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${Sc(s)}`)})(r,e)}function RE(r,e){const i={};return fv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(r,((s,u)=>{const h=Zd(u,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function CE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ei||r instanceof Mn||r instanceof ze||r instanceof SE||r instanceof Ti)}function wE(r,e,i){if(!CE(i)||!cv(i)){const s=Sc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function v2(r,e,i){if((e=Rr(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return NE(r,e);throw Tc("Field path arguments must be of type string or ",r,!1,void 0,i)}const E2=new RegExp("[~\\*/\\[\\]]");function NE(r,e,i){if(e.search(E2)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Kd(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Tc(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new at(X.INVALID_ARGUMENT,y+r+v)}function T2(r,e){return r.some((i=>i.isEqual(e)))}class DE{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Uc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class S2 extends DE{data(){return super.data()}}function Uc(r,e){return typeof e=="string"?NE(r,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}function A2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jd{}class $d extends Jd{}function Kl(r,e,...i){let s=[];e instanceof Jd&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof Wd)).length,y=h.filter((v=>v instanceof zc)).length;if(d>1||d>0&&y>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const u of s)r=u._apply(r);return r}class zc extends $d{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new zc(e,i,s)}_apply(e){const i=this._parse(e);return VE(e._query,i),new Pa(e.firestore,e.converter,ud(e._query,i))}_parse(e){const i=bE(e.firestore);return(function(h,d,y,v,_,S,b){let U;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){k_(b,S);const W=[];for(const $ of b)W.push(P_(v,h,$));U={arrayValue:{values:W}}}else U=P_(v,h,b)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||k_(b,S),U=_2(y,d,b,S==="in"||S==="not-in");return we.create(_,S,U)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function pi(r,e,i){const s=e,u=Uc("where",r);return zc._create(u,s,i)}class Wd extends Jd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Wd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,h){let d=u;const y=h.getFlattenedFilters();for(const v of y)VE(d,v),d=ud(d,v)})(e._query,i),new Pa(e.firestore,e.converter,ud(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tm extends $d{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new tm(e,i)}_apply(e){const i=(function(u,h,d){if(u.startAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new at(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(h,d)})(e._query,this._field,this._direction);return new Pa(e.firestore,e.converter,(function(u,h){const d=u.explicitOrderBy.concat([h]);return new zr(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)})(e._query,i))}}function ki(r,e="asc"){const i=e,s=Uc("orderBy",r);return tm._create(s,i)}class em extends $d{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new em(e,i,s)}_apply(e){return new Pa(e.firestore,e.converter,mc(e._query,this._limit,this._limitType))}}function Xl(r){return TS("limit",r),em._create("limit",r,"F")}function P_(r,e,i){if(typeof(i=Rr(i))=="string"){if(i==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nv(e)&&i.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ne.fromString(i));if(!mt.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a_(r,new mt(s))}if(i instanceof ze)return a_(r,i._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sc(i)}.`)}function k_(r,e){if(!Array.isArray(r)||r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VE(r,e){const i=(function(u,h){for(const d of u)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class b2{convertValue(e,i="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ss(e,((u,h)=>{s[u]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[fc].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new Ti(i)}convertGeoPoint(e){return new Ei(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Rc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const i=Ua(e);return new ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ne.fromString(e);Yt(Jv(s),9688,{name:e});const u=new su(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return u.isEqual(i)||Fi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function R2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Zo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ar extends DE{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Uc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ar._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ar._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ar._jsonSchema={type:Ne("string",Ar._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class ic extends Ar{data(e={}){return super.data(e)}}class br{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Zo(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new ic(this._firestore,this._userDataWriter,s.key,s,new Zo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new ic(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Zo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new ic(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Zo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:C2(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=br._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}br._jsonSchemaVersion="firestore/querySnapshot/1.0",br._jsonSchema={type:Ne("string",br._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class w2 extends b2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function IE(r){r=oc(r,Pa);const e=oc(r.firestore,Yd),i=TE(e),s=new w2(e);return A2(r._query),o2(i,r._query).then((u=>new br(e,s,r,u)))}function N2(r,e){const i=oc(r.firestore,Yd),s=h2(r),u=R2(r.converter,e);return D2(i,[y2(bE(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,Gi.exists(!1))]).then((()=>s))}function D2(r,e){return(function(s,u){const h=new Ma;return s.asyncQueue.enqueueAndForget((async()=>Xb(await l2(s),u,h))),h.promise})(TE(r),e)}(function(e,i=!0){(function(u){Or=u})(Z1),uc(new eu("firestore",((s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new Yd(new fS(s.getProvider("auth-internal")),new gS(d,s.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(_.options.projectId,S)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Tr(Qy,Fy,e),Tr(Qy,Fy,"esm2020")})();const ac={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},qa=()=>!!(ac.apiKey&&ac.projectId&&ac.appId),V2=$_(ac),vr=f2(V2),Er="leaderboard",ME=10,OE=r=>{const e=r.data();return{id:r.id,name:e.name,score:e.score,timeUsed:e.timeUsed,difficulty:e.difficulty,questionMode:e.questionMode,timestamp:e.timestamp?.toDate()||new Date}},I2=async r=>{if(!qa())return console.warn("Firebase "),null;try{return(await N2(_r(vr,Er),{...r,timestamp:ie.now()})).id}catch(e){throw console.error(":",e),e}},xE=async(r,e)=>{if(!qa())return console.warn("Firebase "),[];try{const i=Kl(_r(vr,Er),pi("difficulty","==",r),pi("questionMode","==",e),ki("score","desc"),ki("timeUsed","asc"),Xl(ME));return(await IE(i)).docs.map(OE)}catch(i){throw console.error(":",i),i}},M2=async(r,e,i,s)=>{if(!qa())return!1;try{const u=await xE(r,e);if(u.length<ME)return!0;const h=u[u.length-1];return i>h.score||i===h.score&&s<h.timeUsed}catch(u){return console.error(" TOP10 :",u),!1}},O2=async(r,e,i)=>{if(!qa())return console.warn("Firebase "),[];if(!r.trim())return[];try{let s;return e&&i?s=Kl(_r(vr,Er),pi("name","==",r.trim()),pi("difficulty","==",e),pi("questionMode","==",i),ki("score","desc"),ki("timeUsed","asc"),Xl(20)):e?s=Kl(_r(vr,Er),pi("name","==",r.trim()),pi("difficulty","==",e),ki("score","desc"),ki("timeUsed","asc"),Xl(20)):i?s=Kl(_r(vr,Er),pi("name","==",r.trim()),pi("questionMode","==",i),ki("score","desc"),ki("timeUsed","asc"),Xl(20)):s=Kl(_r(vr,Er),pi("name","==",r.trim()),ki("timestamp","desc"),Xl(20)),(await IE(s)).docs.map(OE)}catch(s){throw console.error(":",s),s}},Jo=2,Gl=20,x2=({score:r,timeUsed:e,difficulty:i,questionMode:s,onSubmitted:u,onSkip:h})=>{const[d,y]=dt.useState(""),[v,_]=dt.useState(!1),[S,b]=dt.useState(null),U=J=>{const lt=J.target.value.slice(0,Gl);y(lt),b(null)},G=()=>{const J=d.trim();return J.length<Jo?(b(` ${Jo} `),!1):J.length>Gl?(b(` ${Gl} `),!1):!0},W=async J=>{if(J.preventDefault(),!!G()){_(!0),b(null);try{await I2({name:d.trim(),score:r,timeUsed:e,difficulty:i,questionMode:s}),u(d.trim())}catch(lt){b(""),console.error(lt)}finally{_(!1)}}},$=s==="basic"?"":"";return M.jsx("div",{className:"submit-score-overlay",children:M.jsxs("div",{className:"submit-score-modal",children:[M.jsxs("div",{className:"submit-score-header",children:[M.jsx("div",{className:"congrats-emoji",children:""}),M.jsx("h2",{children:"100% "}),M.jsxs("p",{className:"submit-score-info",children:["",i," | ",$,M.jsx("br",{}),"",r,"  | ",e," "]})]}),M.jsxs("form",{onSubmit:W,className:"submit-score-form",children:[M.jsx("label",{htmlFor:"player-name",children:""}),M.jsx("input",{id:"player-name",type:"text",value:d,onChange:U,placeholder:`${Jo}-${Gl} `,disabled:v,autoFocus:!0,autoComplete:"off"}),M.jsxs("div",{className:"name-length",children:[d.length,"/",Gl]}),S&&M.jsx("div",{className:"submit-error",children:S}),M.jsxs("div",{className:"submit-actions",children:[M.jsx("button",{type:"button",className:"skip-btn",onClick:h,disabled:v,children:""}),M.jsx("button",{type:"submit",className:"submit-btn",disabled:v||d.trim().length<Jo,children:v?"...":""})]})]})]})})},U2=["","",""],z2=[{value:"basic",label:""},{value:"narrative",label:""}],UE=({initialDifficulty:r="",initialMode:e="basic",highlightName:i,onClose:s})=>{const[u,h]=dt.useState(r),[d,y]=dt.useState(e),[v,_]=dt.useState([]),[S,b]=dt.useState(!0),[U,G]=dt.useState(null),[W,$]=dt.useState(""),[J,lt]=dt.useState(!1),[gt,it]=dt.useState([]),_t=dt.useCallback(async()=>{if(!qa()){G(""),b(!1);return}b(!0),G(null);try{const D=await xE(u,d);_(D)}catch(D){G(""),console.error(D)}finally{b(!1)}},[u,d]);dt.useEffect(()=>{J||_t()},[u,d,J,_t]);const bt=async()=>{if(W.trim()){if(!qa()){G("");return}b(!0),G(null),lt(!0);try{const D=await O2(W.trim(),u,d);it(D)}catch(D){G(""),console.error(D)}finally{b(!1)}}},Ct=()=>{$(""),lt(!1),it([])},C=D=>{D.key==="Enter"&&bt()},A=J?gt:v,w=D=>{const R=Math.floor(D/60),Pt=D%60;return R>0?`${R}:${Pt.toString().padStart(2,"0")}`:`${Pt}`},x=D=>{const R=D.getMonth()+1,Pt=D.getDate(),ue=D.getHours().toString().padStart(2,"0"),H=D.getMinutes().toString().padStart(2,"0");return`${R}/${Pt} ${ue}:${H}`},V=D=>{switch(D){case 1:return"";case 2:return"";case 3:return"";default:return`${D}`}};return M.jsx("div",{className:"leaderboard-overlay",children:M.jsxs("div",{className:"leaderboard-modal",children:[M.jsx("button",{className:"leaderboard-close",onClick:s,children:""}),M.jsx("h2",{className:"leaderboard-title",children:J?`${W}`:""}),M.jsxs("div",{className:"leaderboard-search",children:[M.jsx("input",{type:"text",className:"search-input",placeholder:"...",value:W,onChange:D=>$(D.target.value),onKeyDown:C,maxLength:20}),M.jsx("button",{className:"search-btn",onClick:bt,disabled:!W.trim(),children:""}),J&&M.jsx("button",{className:"search-clear-btn",onClick:Ct,children:""})]}),M.jsxs("div",{className:"leaderboard-filters",children:[M.jsxs("div",{className:"filter-group",children:[M.jsx("label",{children:""}),M.jsx("div",{className:"filter-buttons",children:U2.map(D=>M.jsx("button",{className:`filter-btn ${u===D?"active":""}`,onClick:()=>h(D),children:D},D))})]}),M.jsxs("div",{className:"filter-group",children:[M.jsx("label",{children:""}),M.jsx("div",{className:"filter-buttons",children:z2.map(D=>M.jsx("button",{className:`filter-btn ${d===D.value?"active":""}`,onClick:()=>y(D.value),children:D.label},D.value))})]})]}),M.jsxs("div",{className:"leaderboard-content",children:[S&&M.jsx("div",{className:"leaderboard-loading",children:"..."}),U&&M.jsx("div",{className:"leaderboard-error",children:U}),!S&&!U&&A.length===0&&M.jsx("div",{className:"leaderboard-empty",children:J?M.jsxs(M.Fragment,{children:["",W,""]}):M.jsxs(M.Fragment,{children:["",M.jsx("br",{}),""]})}),!S&&!U&&A.length>0&&M.jsxs("table",{className:"leaderboard-table",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{className:"col-rank",children:J?"#":""}),M.jsx("th",{className:"col-name",children:""}),M.jsx("th",{className:"col-score",children:""}),M.jsx("th",{className:"col-time",children:""}),M.jsx("th",{className:"col-date",children:""})]})}),M.jsx("tbody",{children:A.map((D,R)=>M.jsxs("tr",{className:i&&D.name===i?"highlight":"",children:[M.jsx("td",{className:"col-rank",children:J?R+1:V(R+1)}),M.jsx("td",{className:"col-name",children:D.name}),M.jsx("td",{className:"col-score",children:D.score}),M.jsx("td",{className:"col-time",children:w(D.timeUsed)}),M.jsx("td",{className:"col-date",children:x(D.timestamp)})]},D.id))})]})]})]})})},L2=({score:r,attempts:e,timeUsed:i,difficulty:s,questionMode:u,onRestart:h})=>{const d=e>0?Math.round(r/e*1e3)/10:0,y=r===e&&e>0,[v,_]=dt.useState(!1),[S,b]=dt.useState(!1),[U,G]=dt.useState(null),[W,$]=dt.useState(!1),[J,lt]=dt.useState(!1);dt.useEffect(()=>{(async()=>{if(!y||!qa()){lt(!1);return}$(!0);try{const Ct=await M2(s,u,r,i);lt(Ct),Ct&&_(!0)}catch(Ct){console.error(" TOP10 :",Ct),lt(!1)}finally{$(!1)}})()},[y,s,u,r,i]);const gt=bt=>{G(bt),_(!1),b(!0)},it=()=>{_(!1)},_t=u==="basic"?"":"";return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"game-over",children:[M.jsx("h1",{children:""}),M.jsxs("div",{className:"game-info",children:[M.jsx("span",{className:"info-badge",children:s}),M.jsx("span",{className:"info-badge",children:_t})]}),M.jsxs("div",{className:"final-score",children:[M.jsx("div",{className:"score-label",children:""}),M.jsx("div",{className:"score-value",children:r})]}),M.jsxs("div",{className:"accuracy",children:[M.jsx("div",{className:"accuracy-label",children:""}),M.jsxs("div",{className:`accuracy-value ${y?"perfect":""}`,children:[d.toFixed(1),"%",y&&" "]}),M.jsxs("div",{className:"accuracy-detail",children:["(",r," / ",e," )"]})]}),M.jsxs("div",{className:"time-used",children:[M.jsx("span",{className:"time-label",children:""}),M.jsxs("span",{className:"time-value",children:[i," "]})]}),W&&M.jsx("div",{className:"checking-status",children:"..."}),y&&J&&!v&&!U&&M.jsx("button",{className:"submit-score-button",onClick:()=>_(!0),children:" "}),U&&M.jsx("div",{className:"submitted-message",children:" "}),M.jsxs("div",{className:"action-buttons",children:[M.jsx("button",{className:"restart-button",onClick:h,children:""}),qa()&&M.jsx("button",{className:"leaderboard-button",onClick:()=>b(!0),children:" "})]})]}),v&&M.jsx(x2,{score:r,timeUsed:i,difficulty:s,questionMode:u,onSubmitted:gt,onSkip:it}),S&&M.jsx(UE,{initialDifficulty:s,initialMode:u,highlightName:U||void 0,onClose:()=>b(!1)})]})},j2=["1","2","3","4","5","6","7","8","9"],B2=({question:r,sequence:e,input:i,error:s,canSubmit:u,onDigit:h,onBackspace:d,onSubmit:y})=>(dt.useEffect(()=>{const v=_=>{_.key>="0"&&_.key<="9"?(_.preventDefault(),h(_.key)):_.key==="Backspace"?(_.preventDefault(),d()):_.key==="Enter"&&u&&(_.preventDefault(),y())};return window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}},[h,d,y,u]),M.jsx("div",{className:"penalty-modal-overlay",role:"dialog","aria-modal":"true",children:M.jsxs("div",{className:"penalty-modal",children:[M.jsx("h3",{children:""}),M.jsxs("div",{className:"penalty-equation",children:[r.num1,"  ",r.num2," = ",r.answer]}),M.jsxs("div",{className:"penalty-instruction",children:["",e.join(" ")," Enter  "]}),M.jsx("div",{className:"penalty-boxes",children:e.map((v,_)=>{const S=_<i.length;return M.jsx("div",{className:`penalty-box ${S?"filled":""}`,children:S?i[_]:""},`penalty-box-${_}`)})}),s&&M.jsx("div",{className:"penalty-error",children:s}),M.jsx("div",{className:"penalty-keyboard",children:M.jsxs("div",{className:"penalty-keyboard-grid",children:[j2.map(v=>M.jsx("button",{type:"button",className:"penalty-key",onClick:()=>h(v),children:v},v)),M.jsx("button",{type:"button",className:"penalty-key action backspace",onClick:d,children:" "}),M.jsx("button",{type:"button",className:"penalty-key zero",onClick:()=>h("0"),children:"0"}),M.jsx("button",{type:"button",className:"penalty-key action submit",onClick:y,disabled:!u,children:" "})]})})]})})),_d=[{id:1,template:"{num1}{num2}",unit:"",category:""},{id:2,template:"{num1}{num2}",unit:"",category:""},{id:3,template:"{num1}{num2}",unit:"",category:""},{id:4,template:"{num1}{num2}",unit:"",category:""},{id:5,template:"{num1}{num2}",unit:"",category:""},{id:6,template:"{num1}{num2}",unit:"",category:""},{id:7,template:"{num1}{num2}",unit:"",category:""},{id:8,template:"{num1}{num2}",unit:"",category:""},{id:9,template:"{num1}{num2}",unit:"",category:""},{id:10,template:"{num1}{num2}",unit:"",category:""},{id:11,template:"{num1}{num2}",unit:"",category:""},{id:12,template:"{num1}{num2}",unit:"",category:""},{id:13,template:"{num1}{num2}",unit:"",category:""},{id:14,template:"{num1}{num2}",unit:"",category:""},{id:15,template:"{num1}{num2}",unit:"",category:""},{id:16,template:"{num1}{num2}",unit:"",category:""},{id:17,template:"{num1}{num2}",unit:"",category:""},{id:18,template:"{num1}{num2}",unit:"",category:""},{id:19,template:"{num1}{num2}",unit:"",category:""},{id:20,template:"{num1}{num2}",unit:"",category:""},{id:21,template:"{num1}{num2}",unit:"",category:""},{id:22,template:"{num1}{num2}",unit:"",category:""},{id:23,template:"{num1}{num2}",unit:"",category:""},{id:24,template:"{num1}{num2}",unit:"",category:""},{id:25,template:"{num1}{num2}",unit:"",category:""},{id:26,template:"{num1}{num2}",unit:"",category:""},{id:27,template:"{num1}{num2}",unit:"",category:""},{id:28,template:"{num1}{num2}",unit:"",category:""},{id:29,template:"{num1}{num2}{num2}{num1}{num2}=",unit:"",category:""},{id:30,template:"{num1}{num2}",unit:"",category:""},{id:31,template:"{num1}{num2}",unit:"",category:""},{id:32,template:"{num1}{num2}",unit:"",category:""},{id:33,template:"{num1}{num2}",unit:"",category:""},{id:34,template:"{num1}{num2}",unit:"",category:""},{id:35,template:"{num1}{num2}",unit:"",category:""},{id:36,template:"{num1}{num2}",unit:"",category:""},{id:37,template:"{num1}{num2}",unit:"",category:""},{id:38,template:"{num1}{num2}",unit:"",category:""},{id:39,template:"{num1}{num2}",unit:"",category:""},{id:40,template:"{num1}{num2}",unit:"",category:""},{id:41,template:"{num1}{num2}",unit:"",category:""},{id:42,template:"{num1}{num2}",unit:"",category:""},{id:43,template:"{num1}{num2}",unit:"",category:""},{id:44,template:"{num1}{num2}",unit:"",category:""},{id:45,template:"{num1}{num2}",unit:"",category:""},{id:46,template:"{num1}{num2}",unit:"",category:""},{id:47,template:"{num1}{num2}",unit:"",category:""},{id:48,template:"{num1}{num2}",unit:"",category:""},{id:49,template:"{num1}{num2}",unit:"",category:""},{id:50,template:"{num1}{num2}",unit:"",category:""},{id:51,template:"{num1}{num2}",unit:"",category:""},{id:52,template:"{num1}{num2}",unit:"",category:""},{id:53,template:"{num1}{num2}",unit:"",category:""},{id:54,template:"{num1}{num2}",unit:"",category:""},{id:55,template:"{num1}{num2}",unit:"",category:""},{id:56,template:"{num1}{num2}",unit:"",category:""},{id:57,template:"{num1}{num2}",unit:"",category:""},{id:58,template:"{num1}{num2}",unit:"",category:""},{id:59,template:"{num1}{num2}",unit:"",category:""},{id:60,template:"{num1}{num2}",unit:"",category:""},{id:61,template:"{num1}{num2}",unit:"",category:""},{id:62,template:"{num1}{num2}",unit:"",category:""},{id:63,template:"{num1}{num2}",unit:"",category:""},{id:64,template:"{num1}{num2}",unit:"",category:""},{id:65,template:"{num1}{num2}",unit:"",category:""},{id:66,template:"{num1}{num2}",unit:"",category:""},{id:67,template:"{num1}{num2}",unit:"",category:""},{id:68,template:"{num1}{num2}",unit:"",category:""},{id:69,template:"{num1}{num2}",unit:"",category:""},{id:70,template:"{num1}{num2}",unit:"",category:""},{id:71,template:"{num1}{num2}",unit:"",category:""},{id:72,template:"{num1}{num2}",unit:"",category:""},{id:73,template:"{num1}{num2}",unit:"",category:""},{id:74,template:"{num1}{num2}",unit:"",category:""},{id:75,template:"{num1}{num2}",unit:"",category:""},{id:76,template:"{num1}{num2}",unit:"",category:""},{id:77,template:"{num1}{num2}",unit:"",category:""},{id:78,template:"{num1}{num2}",unit:"",category:""},{id:79,template:"{num1}{num2}",unit:"",category:""},{id:80,template:"{num1}{num2}",unit:"",category:""},{id:81,template:"{num1}{num2}",unit:"",category:""},{id:82,template:"{num1}{num2}",unit:"",category:""},{id:83,template:"{num1}{num2}",unit:"",category:""},{id:84,template:"{num1}{num2}",unit:"",category:""},{id:85,template:"{num1}{num2}",unit:"",category:""},{id:86,template:"{num1}{num2}",unit:"",category:""},{id:87,template:"{num1}{num2}",unit:"",category:""},{id:88,template:"{num1}{num2}",unit:"",category:""},{id:89,template:"{num1}{num2}",unit:"",category:""},{id:90,template:"{num1}{num2}",unit:"",category:""},{id:91,template:"{num1}{num2}",unit:"",category:""},{id:92,template:"{num1}{num2}",unit:"",category:""},{id:93,template:"{num1}{num2}",unit:"",category:""},{id:94,template:"{num1}{num2}",unit:"",category:""},{id:95,template:"{num1}{num2}",unit:"",category:""},{id:96,template:"{num1}{num2}",unit:"",category:""},{id:97,template:"{num1}{num2}",unit:"",category:""},{id:98,template:"{num1}{num2}",unit:"",category:""},{id:99,template:"{num1}{num2}",unit:"",category:""},{id:100,template:"{num1}{num2}",unit:"",category:""}];[...new Set(_d.map(r=>r.category))];const q2=r=>{const e=r?.length?_d.filter(i=>r.includes(i.category)):_d;return e[Math.floor(Math.random()*e.length)]},P2=(r=[...Hi])=>{const e=r.length?r:[...Hi],i=e[Math.floor(Math.random()*e.length)],s=Math.floor(Math.random()*8)+2;return{num1:i,num2:s,answer:i*s}},k2=(r=[...Hi],e)=>{const i=r.length?r:[...Hi],s=i[Math.floor(Math.random()*i.length)],u=Math.floor(Math.random()*8)+2,h=s*u,d=q2(e),y=d.template.replace(/{num1}/g,String(s)).replace(/{num2}/g,String(u));return{num1:s,num2:u,answer:h,narrative:y,unit:d.unit,templateId:d.id}},H2=(r,e)=>{const i=parseInt(e,10);return!isNaN(i)&&i===r.answer},G2=(r,e)=>{if(e.length<3)return!1;const i=parseInt(e[0],10),s=parseInt(e[1],10),u=parseInt(e.slice(2),10);return i*s===r.answer&&u===r.answer};function Q2(){const[r,e]=dt.useState(null),[i,s]=dt.useState(0),[u,h]=dt.useState(0),[d,y]=dt.useState(0),[v,_]=dt.useState(null),[S,b]=dt.useState(!1),[U,G]=dt.useState(!1),[W,$]=dt.useState(""),[J,lt]=dt.useState(0),[gt,it]=dt.useState(()=>[...Hi]),[_t,bt]=dt.useState(null),[Ct,C]=dt.useState(""),[A,w]=dt.useState("basic"),[x,V]=dt.useState(!1),D=dt.useRef(null),R=dt.useRef(null),Pt=!!_t,ue=pt=>{it(ht=>ht.includes(pt)?ht.filter(Ze=>Ze!==pt):[...ht,pt].sort((Ze,On)=>Ze-On))},H=()=>{it([...Hi])},tt=dt.useCallback(()=>{D.current&&(clearTimeout(D.current),D.current=null)},[]),ct=dt.useCallback(()=>{r&&(R.current=Date.now()+r.questionSpeed,lt(r.questionSpeed))},[r]),Vt=dt.useCallback(function pt(){if(_(A==="narrative"?k2(gt):P2(gt)),$(""),!r||!S){tt(),R.current=null,lt(0);return}ct(),tt(),D.current=window.setTimeout(()=>{h(ht=>ht+1),pt()},r.questionSpeed)},[r,S,ct,tt,gt,A]),Gt=dt.useCallback(pt=>{const ht=`${pt.num1}${pt.num2}${pt.answer}`.split("");bt({question:pt,sequence:ht,input:"",isSequenceComplete:!1}),C(""),$(""),tt(),R.current=null,lt(0)},[tt]),O=dt.useCallback(()=>{bt(null),C(""),Vt()},[Vt]),Y=dt.useCallback(pt=>{/^[0-9]$/.test(pt)&&bt(ht=>{if(!ht||ht.isSequenceComplete)return ht;const Ze=ht.sequence[ht.input.length];if(pt!==Ze)return C(""),ht;const On=ht.input+pt;C("");const Ki=On.length===ht.sequence.length;return{...ht,input:On,isSequenceComplete:Ki}})},[]),nt=dt.useCallback(()=>{bt(pt=>{if(!pt||pt.input.length===0)return pt;const ht=pt.input.slice(0,-1);return{...pt,input:ht,isSequenceComplete:ht.length===pt.sequence.length}}),C("")},[]),st=dt.useCallback(()=>{if(_t){if(!_t.isSequenceComplete){C("");return}O()}},[O,_t]);dt.useEffect(()=>{if(!S||d<=0)return;const pt=setInterval(()=>{y(ht=>ht<=1?(b(!1),G(!0),0):ht-1)},1e3);return()=>clearInterval(pt)},[S,d]),dt.useEffect(()=>{if(!S||!r){tt(),R.current=null,lt(0);return}return Vt(),()=>{tt()}},[S,r,Vt,tt]),dt.useEffect(()=>{if(!S||!r)return;const pt=window.setInterval(()=>{if(!R.current)return;const ht=Math.max(0,R.current-Date.now());lt(ht)},100);return()=>{clearInterval(pt)}},[S,r]);const Et=pt=>{gt.length!==0&&(e(pt),s(0),h(0),y(pt.timeLimit),b(!0),G(!1),$(""),lt(pt.questionSpeed),bt(null),C(""))},Rt=()=>{if(!v||!W||Pt)return;if(h(ht=>ht+1),A==="narrative"&&H_(v)?G2(v,W):H2(v,W)){s(ht=>ht+1),Vt();return}Gt(v)},Ot=()=>{e(null),s(0),h(0),y(0),_(null),b(!1),G(!1),$(""),lt(0),R.current=null,tt(),bt(null),C("")};if(U&&r){const pt=r.timeLimit-d,ht=G_.some(Ze=>Ze.name===r.name)?r.name:"";return M.jsx(L2,{score:i,attempts:u,timeUsed:pt,difficulty:ht,questionMode:A,onRestart:Ot})}return!S||!v||!r?M.jsxs(M.Fragment,{children:[M.jsx(ST,{onSelectDifficulty:Et,selectedTables:gt,onToggleTable:ue,onResetTables:H,questionMode:A,onSelectMode:w,onShowLeaderboard:()=>V(!0)}),x&&M.jsx(UE,{onClose:()=>V(!1)})]}):M.jsxs(M.Fragment,{children:[M.jsx(bT,{question:v,userInput:W,score:i,timeRemaining:d,onInputChange:$,onSubmit:Rt,questionCountdownMs:J,questionIntervalMs:r.questionSpeed,isPenaltyActive:Pt,questionMode:A}),_t&&M.jsx(B2,{question:_t.question,sequence:_t.sequence,input:_t.input,error:Ct,canSubmit:_t.isSequenceComplete,onDigit:Y,onBackspace:nt,onSubmit:st})]})}TT.createRoot(document.getElementById("root")).render(M.jsx(dt.StrictMode,{children:M.jsx(Q2,{})}));
