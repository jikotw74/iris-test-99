(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Mf={exports:{}},Ll={};var Sy;function m0(){if(Sy)return Ll;Sy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var Ay;function g0(){return Ay||(Ay=1,Mf.exports=m0()),Mf.exports}var D=g0(),Of={exports:{}},At={};var by;function p0(){if(by)return At;by=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,J={};function at(M,F,it){this.props=M,this.context=F,this.refs=J,this.updater=it||$}at.prototype.isReactComponent={},at.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},at.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function lt(){}lt.prototype=at.prototype;function ct(M,F,it){this.props=M,this.context=F,this.refs=J,this.updater=it||$}var St=ct.prototype=new lt;St.constructor=ct,W(St,at.prototype),St.isPureReactComponent=!0;var dt=Array.isArray;function tt(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(M,F,it){var rt=it.ref;return{$$typeof:r,type:M,key:F,ref:rt!==void 0?rt:null,props:it}}function O(M,F){return C(M.type,F,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(it){return F[it]})}var w=/\/+/g;function Yt(M,F){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):F.toString(36)}function ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(tt,tt):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,F,it,rt,vt){var Rt=typeof M;(Rt==="undefined"||Rt==="boolean")&&(M=null);var Ot=!1;if(M===null)Ot=!0;else switch(Rt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(M.$$typeof){case r:case e:Ot=!0;break;case S:return Ot=M._init,H(Ot(M._payload),F,it,rt,vt)}}if(Ot)return vt=vt(M),Ot=rt===""?"."+Yt(M,0):rt,dt(vt)?(it="",Ot!=null&&(it=Ot.replace(w,"$&/")+"/"),H(vt,F,it,"",function(bi){return bi})):vt!=null&&(V(vt)&&(vt=O(vt,it+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(w,"$&/")+"/")+Ot)),F.push(vt)),1;Ot=0;var de=rt===""?".":rt+":";if(dt(M))for(var ie=0;ie<M.length;ie++)rt=M[ie],Rt=de+Yt(rt,ie),Ot+=H(rt,F,it,Rt,vt);else if(ie=G(M),typeof ie=="function")for(M=ie.call(M),ie=0;!(rt=M.next()).done;)rt=rt.value,Rt=de+Yt(rt,ie++),Ot+=H(rt,F,it,Rt,vt);else if(Rt==="object"){if(typeof M.then=="function")return H(ee(M),F,it,rt,vt);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function nt(M,F,it){if(M==null)return M;var rt=[],vt=0;return H(M,rt,"","",function(Rt){return F.call(it,Rt,vt++)}),rt}function mt(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(it){(M._status===0||M._status===-1)&&(M._status=1,M._result=it)},function(it){(M._status===0||M._status===-1)&&(M._status=2,M._result=it)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var jt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Dt={map:nt,forEach:function(M,F,it){nt(M,function(){F.apply(this,arguments)},it)},count:function(M){var F=0;return nt(M,function(){F++}),F},toArray:function(M){return nt(M,function(F){return F})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return At.Activity=b,At.Children=Dt,At.Component=at,At.Fragment=i,At.Profiler=u,At.PureComponent=ct,At.StrictMode=s,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,At.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},At.cache=function(M){return function(){return M.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(M,F,it){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=W({},M.props),vt=M.key;if(F!=null)for(Rt in F.key!==void 0&&(vt=""+F.key),F)!A.call(F,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&F.ref===void 0||(rt[Rt]=F[Rt]);var Rt=arguments.length-2;if(Rt===1)rt.children=it;else if(1<Rt){for(var Ot=Array(Rt),de=0;de<Rt;de++)Ot[de]=arguments[de+2];rt.children=Ot}return C(M.type,vt,rt)},At.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},At.createElement=function(M,F,it){var rt,vt={},Rt=null;if(F!=null)for(rt in F.key!==void 0&&(Rt=""+F.key),F)A.call(F,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=F[rt]);var Ot=arguments.length-2;if(Ot===1)vt.children=it;else if(1<Ot){for(var de=Array(Ot),ie=0;ie<Ot;ie++)de[ie]=arguments[ie+2];vt.children=de}if(M&&M.defaultProps)for(rt in Ot=M.defaultProps,Ot)vt[rt]===void 0&&(vt[rt]=Ot[rt]);return C(M,Rt,vt)},At.createRef=function(){return{current:null}},At.forwardRef=function(M){return{$$typeof:y,render:M}},At.isValidElement=V,At.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:mt}},At.memo=function(M,F){return{$$typeof:_,type:M,compare:F===void 0?null:F}},At.startTransition=function(M){var F=R.T,it={};R.T=it;try{var rt=M(),vt=R.S;vt!==null&&vt(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(tt,jt)}catch(Rt){jt(Rt)}finally{F!==null&&it.types!==null&&(F.types=it.types),R.T=F}},At.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},At.use=function(M){return R.H.use(M)},At.useActionState=function(M,F,it){return R.H.useActionState(M,F,it)},At.useCallback=function(M,F){return R.H.useCallback(M,F)},At.useContext=function(M){return R.H.useContext(M)},At.useDebugValue=function(){},At.useDeferredValue=function(M,F){return R.H.useDeferredValue(M,F)},At.useEffect=function(M,F){return R.H.useEffect(M,F)},At.useEffectEvent=function(M){return R.H.useEffectEvent(M)},At.useId=function(){return R.H.useId()},At.useImperativeHandle=function(M,F,it){return R.H.useImperativeHandle(M,F,it)},At.useInsertionEffect=function(M,F){return R.H.useInsertionEffect(M,F)},At.useLayoutEffect=function(M,F){return R.H.useLayoutEffect(M,F)},At.useMemo=function(M,F){return R.H.useMemo(M,F)},At.useOptimistic=function(M,F){return R.H.useOptimistic(M,F)},At.useReducer=function(M,F,it){return R.H.useReducer(M,F,it)},At.useRef=function(M){return R.H.useRef(M)},At.useState=function(M){return R.H.useState(M)},At.useSyncExternalStore=function(M,F,it){return R.H.useSyncExternalStore(M,F,it)},At.useTransition=function(){return R.H.useTransition()},At.version="19.2.0",At}var Ry;function _d(){return Ry||(Ry=1,Of.exports=p0()),Of.exports}var ft=_d(),xf={exports:{}},jl={},zf={exports:{}},Uf={};var Cy;function y0(){return Cy||(Cy=1,(function(r){function e(H,nt){var mt=H.length;H.push(nt);t:for(;0<mt;){var jt=mt-1>>>1,Dt=H[jt];if(0<u(Dt,nt))H[jt]=nt,H[mt]=Dt,mt=jt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var nt=H[0],mt=H.pop();if(mt!==nt){H[0]=mt;t:for(var jt=0,Dt=H.length,M=Dt>>>1;jt<M;){var F=2*(jt+1)-1,it=H[F],rt=F+1,vt=H[rt];if(0>u(it,mt))rt<Dt&&0>u(vt,it)?(H[jt]=vt,H[rt]=mt,jt=rt):(H[jt]=it,H[F]=mt,jt=F);else if(rt<Dt&&0>u(vt,mt))H[jt]=vt,H[rt]=mt,jt=rt;else break t}}return nt}function u(H,nt){var mt=H.sortIndex-nt.sortIndex;return mt!==0?mt:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],S=1,b=null,x=3,G=!1,$=!1,W=!1,J=!1,at=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function St(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=H)s(_),nt.sortIndex=nt.expirationTime,e(v,nt);else break;nt=i(_)}}function dt(H){if(W=!1,St(H),!$)if(i(v)!==null)$=!0,tt||(tt=!0,U());else{var nt=i(_);nt!==null&&ee(dt,nt.startTime-H)}}var tt=!1,R=-1,A=5,C=-1;function O(){return J?!0:!(r.unstable_now()-C<A)}function V(){if(J=!1,tt){var H=r.unstable_now();C=H;var nt=!0;try{t:{$=!1,W&&(W=!1,lt(R),R=-1),G=!0;var mt=x;try{e:{for(St(H),b=i(v);b!==null&&!(b.expirationTime>H&&O());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,x=b.priorityLevel;var Dt=jt(b.expirationTime<=H);if(H=r.unstable_now(),typeof Dt=="function"){b.callback=Dt,St(H),nt=!0;break e}b===i(v)&&s(v),St(H)}else s(v);b=i(v)}if(b!==null)nt=!0;else{var M=i(_);M!==null&&ee(dt,M.startTime-H),nt=!1}}break t}finally{b=null,x=mt,G=!1}nt=void 0}}finally{nt?U():tt=!1}}}var U;if(typeof ct=="function")U=function(){ct(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Yt=w.port2;w.port1.onmessage=V,U=function(){Yt.postMessage(null)}}else U=function(){at(V,0)};function ee(H,nt){R=at(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(H){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var mt=x;x=nt;try{return H()}finally{x=mt}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var mt=x;x=H;try{return nt()}finally{x=mt}},r.unstable_scheduleCallback=function(H,nt,mt){var jt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?jt+mt:jt):mt=jt,H){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=mt+Dt,H={id:S++,callback:nt,priorityLevel:H,startTime:mt,expirationTime:Dt,sortIndex:-1},mt>jt?(H.sortIndex=mt,e(_,H),i(v)===null&&H===i(_)&&(W?(lt(R),R=-1):W=!0,ee(dt,mt-jt))):(H.sortIndex=Dt,e(v,H),$||G||($=!0,tt||(tt=!0,U()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var nt=x;return function(){var mt=x;x=nt;try{return H.apply(this,arguments)}finally{x=mt}}}})(Uf)),Uf}var wy;function _0(){return wy||(wy=1,zf.exports=y0()),zf.exports}var Lf={exports:{}},Ke={};var Ny;function v0(){if(Ny)return Ke;Ny=1;var r=_d();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,S)},Ke.flushSync=function(v){var _=d.T,S=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=S,s.d.f()}},Ke.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Ke.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ke.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,b=y(S,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:G}):S==="script"&&s.d.X(v,{crossOrigin:b,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Ke.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,b=y(S,_.crossOrigin);s.d.L(v,S,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Ke.requestFormReset=function(v){s.d.r(v)},Ke.unstable_batchedUpdates=function(v,_){return v(_)},Ke.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var Dy;function E0(){if(Dy)return Lf.exports;Dy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=v0(),Lf.exports}var Vy;function T0(){if(Vy)return jl;Vy=1;var r=_0(),e=_d(),i=E0();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case at:return"Profiler";case J:return"StrictMode";case dt:return"Suspense";case tt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ct:return t.displayName||"Context";case lt:return(t._context.displayName||"Context")+".Consumer";case St:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Yt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Yt(t(n))}catch{}}return null}var ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},jt=[],Dt=-1;function M(t){return{current:t}}function F(t){0>Dt||(t.current=jt[Dt],jt[Dt]=null,Dt--)}function it(t,n){Dt++,jt[Dt]=t.current,t.current=n}var rt=M(null),vt=M(null),Rt=M(null),Ot=M(null);function de(t,n){switch(it(Rt,n),it(vt,t),it(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Qp(n),t=Fp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(rt),it(rt,t)}function ie(){F(rt),F(vt),F(Rt)}function bi(t){t.memoizedState!==null&&it(Ot,t);var n=rt.current,a=Fp(n,t.type);n!==a&&(it(vt,t),it(rt,a))}function Et(t){vt.current===t&&(F(rt),F(vt)),Ot.current===t&&(F(Ot),Ol._currentValue=mt)}var Vt,nn;function $e(t){if(Vt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Vt=n&&n[1]||"",nn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vt+t+nn}var qa=!1;function Pa(t,n){if(!t||qa)return"";qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var q=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){q=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){q=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&q&&typeof k.stack=="string")return[k.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),B=E.split(`
`);for(c=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===N.length||c===B.length)for(l=N.length-1,c=B.length-1;1<=l&&0<=c&&N[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(N[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||N[l]!==B[c]){var Q=`
`+N[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{qa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?$e(a):""}function xr(t,n){switch(t.tag){case 26:case 27:case 5:return $e(t.type);case 16:return $e("Lazy");case 13:return t.child!==n&&n!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return Pa(t.type,!1);case 11:return Pa(t.type.render,!1);case 1:return Pa(t.type,!0);case 31:return $e("Activity");default:return""}}function zr(t){try{var n="",a=null;do n+=xr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,Ki=r.unstable_cancelCallback,Oc=r.unstable_shouldYield,cu=r.unstable_requestPaint,We=r.unstable_now,ka=r.unstable_getCurrentPriorityLevel,Ur=r.unstable_ImmediatePriority,Lr=r.unstable_UserBlockingPriority,Xi=r.unstable_NormalPriority,xc=r.unstable_LowPriority,hu=r.unstable_IdlePriority,fu=r.log,du=r.unstable_setDisableYieldValue,Un=null,Be=null;function Tn(t){if(typeof fu=="function"&&du(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Un,t)}catch{}}var me=Math.clz32?Math.clz32:gu,mu=Math.log,Rs=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(mu(t)/Rs|0)|0}var Jn=256,Ha=262144,Ee=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=$n(l):(g&=E,g!==0?c=$n(g):a||(a=E&~t,a!==0&&(c=$n(a))))):(E=l&~f,E!==0?c=$n(E):g!==0?c=$n(g):a||(a=l&~t,a!==0&&(c=$n(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ln(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pu(){var t=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),t}function ti(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ga(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-me(a),K=1<<Q;E[Q]=0,N[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var k=q[Q];k!==null&&(k.lane&=-536870913)}a&=~K}l!==0&&Qa(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Qa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-me(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-me(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Br(t,n){var a=n&-n;return a=(a&42)!==0?1:Fa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Fa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:gy(t.type))}function jn(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var Bn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Bn,xe="__reactProps$"+Bn,ei="__reactContainer$"+Bn,Cs="__reactEvents$"+Bn,Lc="__reactListeners$"+Bn,_u="__reactHandles$"+Bn,vu="__reactResources$"+Bn,ni="__reactMarker$"+Bn;function ws(t){delete t[Te],delete t[xe],delete t[Cs],delete t[Lc],delete t[_u]}function ii(t){var n=t[Te];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ei]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Wp(t);t!==null;){if(a=t[Te])return a;t=Wp(t)}return n}t=a,a=t.parentNode}return null}function Sn(t){if(t=t[Te]||t[ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ai(t){var n=t[vu];return n||(n=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(t){t[ni]=!0}var qr=new Set,Pr={};function si(t,n){ri(t,n),ri(t+"Capture",n)}function ri(t,n){for(Pr[t]=n,t=0;t<n.length;t++)qr.add(n[t])}var kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Gr={};function Eu(t){return ve.call(Gr,t)?!0:ve.call(Hr,t)?!1:kr.test(t)?Gr[t]=!0:(Hr[t]=!0,!1)}function Ns(t,n,a){if(Eu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ae(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Kt(t){if(!t._valueTracker){var n=Zi(t)?"checked":"value";t._valueTracker=Qr(t,n,""+t[n])}}function Ya(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Zi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ka=/[\n"\\]/g;function an(t){return t.replace(Ka,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ds(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ze(n)):t.value!==""+ze(n)&&(t.value=""+ze(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Fr(t,g,ze(n)):a!=null?Fr(t,g,ze(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ze(E):t.removeAttribute("name")}function Tu(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(t);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Kt(t)}function Fr(t,n,a){n==="number"&&li(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ji(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Su(t,n,a){if(n!=null&&(n=""+ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ze(a):""}function $i(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Kt(t)}function sn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Au.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Kr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Yr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Yr(t,f,n[f])}function Vs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(t){return Wi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qn(){}var Xr=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ta=null,ui=null;function Xa(t){var n=Sn(t);if(n&&(t=n.stateNode)){var a=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ds(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[xe]||null;if(!c)throw Error(s(90));Ds(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ya(l)}break t;case"textarea":Su(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ji(t,!!a.multiple,n,!1)}}}var Ms=!1;function ea(t,n,a){if(Ms)return t(n,a);Ms=!0;try{var l=t(n);return l}finally{if(Ms=!1,(ta!==null||ui!==null)&&(_o(),ta&&(n=ta,t=ui,ui=ta=null,Xa(n),t)))for(n=0;n<t.length;n++)Xa(t[n])}}function Pn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(bn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Za=!1}var oi=null,Zr=null,Ja=null;function Jr(){if(Ja)return Ja;var t,n=Zr,a=n.length,l,c="value"in oi?oi.value:oi.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ja=c.slice(t,1<l?1-l:void 0)}function $a(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ci(){return!0}function kn(){return!1}function qe(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ci:kn,this.isPropagationStopped=kn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),n}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=qe(wi),na=b({},wi,{view:0,detail:0}),$r=qe(na),ia,Os,hi,xs=b({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(ia=t.screenX-hi.screenX,Os=t.screenY-hi.screenY):Os=ia=0,hi=t),ia)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),Wr=qe(xs),Wa=b({},xs,{dataTransfer:0}),Ru=qe(Wa),Cu=b({},na,{relatedTarget:0}),ts=qe(Cu),tl=b({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=qe(tl),zs=b({},wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=qe(zs),Du=b({},wi,{data:0}),fi=qe(Du),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mu[t])?!!n[t]:!1}function aa(){return Ou}var tn=b({},na,{key:function(t){if(t.key){var n=Vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(t){return t.type==="keypress"?$a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=qe(tn),zu=b({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=qe(zu),o=b({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),m=qe(o),p=b({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=qe(p),L=b({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=qe(L),et=b({},wi,{newState:0,oldState:0}),Ct=qe(et),ge=[9,13,27,32],Gt=bn&&"CompositionEvent"in window,ue=null;bn&&"documentMode"in document&&(ue=document.documentMode);var Rn=bn&&"TextEvent"in window&&!ue,di=bn&&(!Gt||ue&&8<ue&&11>=ue),Hn=" ",Gn=!1;function es(t,n){switch(t){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Us(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ls=!1;function j1(t,n){switch(t){case"compositionend":return Us(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return t=n.data,t===Hn&&Gn?null:t;default:return null}}function B1(t,n){if(Ls)return t==="compositionend"||!Gt&&es(t,n)?(t=Jr(),Ja=Zr=oi=null,Ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var q1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!q1[t.type]:n==="textarea"}function im(t,n,a,l){ta?ui?ui.push(l):ui=[l]:ta=l,n=Ro(n,"onChange"),0<n.length&&(a=new ci("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var el=null,nl=null;function P1(t){Bp(t,0)}function Uu(t){var n=fn(t);if(Ya(n))return t}function am(t,n){if(t==="change")return n}var sm=!1;if(bn){var jc;if(bn){var Bc="oninput"in document;if(!Bc){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),Bc=typeof rm.oninput=="function"}jc=Bc}else jc=!1;sm=jc&&(!document.documentMode||9<document.documentMode)}function lm(){el&&(el.detachEvent("onpropertychange",um),nl=el=null)}function um(t){if(t.propertyName==="value"&&Uu(nl)){var n=[];im(n,nl,t,An(t)),ea(P1,n)}}function k1(t,n,a){t==="focusin"?(lm(),el=n,nl=a,el.attachEvent("onpropertychange",um)):t==="focusout"&&lm()}function H1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(nl)}function G1(t,n){if(t==="click")return Uu(n)}function Q1(t,n){if(t==="input"||t==="change")return Uu(n)}function F1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:F1;function il(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ve.call(n,c)||!mn(t[c],n[c]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cm(t,n){var a=om(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=om(a)}}function hm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?hm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=li(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=li(t.document)}return n}function qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Y1=bn&&"documentMode"in document&&11>=document.documentMode,js=null,Pc=null,al=null,kc=!1;function dm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||js==null||js!==li(l)||(l=js,"selectionStart"in l&&qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=Ro(Pc,"onSelect"),0<l.length&&(n=new ci("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=js)))}function ns(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Bs={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Hc={},mm={};bn&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function is(t){if(Hc[t])return Hc[t];if(!Bs[t])return t;var n=Bs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in mm)return Hc[t]=n[a];return t}var gm=is("animationend"),pm=is("animationiteration"),ym=is("animationstart"),K1=is("transitionrun"),X1=is("transitionstart"),Z1=is("transitioncancel"),_m=is("transitionend"),vm=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function Qn(t,n){vm.set(t,n),si(n,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],qs=0,Qc=0;function ju(){for(var t=qs,n=Qc=qs=0;n<t;){var a=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Em(a,c,f)}}function Bu(t,n,a,l){Cn[qs++]=t,Cn[qs++]=n,Cn[qs++]=a,Cn[qs++]=l,Qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Fc(t,n,a,l){return Bu(t,n,a,l),qu(t)}function as(t,n){return Bu(t,null,null,n),qu(t)}function Em(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-me(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function qu(t){if(50<Cl)throw Cl=0,ef=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ps={};function J1(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,l){return new J1(t,n,a,l)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Tm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Pu(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Yc(t)&&(g=1);else if(typeof t=="string")g=n0(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=gn(31,a,n,c),t.elementType=C,t.lanes=f,t;case W:return ss(a.children,c,f,n);case J:g=8,c|=24;break;case at:return t=gn(12,a,n,c|2),t.elementType=at,t.lanes=f,t;case dt:return t=gn(13,a,n,c),t.elementType=dt,t.lanes=f,t;case tt:return t=gn(19,a,n,c),t.elementType=tt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ct:g=10;break t;case lt:g=9;break t;case St:g=11;break t;case R:g=14;break t;case A:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=gn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ss(t,n,a,l){return t=gn(7,t,l,n),t.lanes=a,t}function Kc(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function Sm(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function Xc(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Am=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=Am.get(t);return a!==void 0?a:(n={value:t,source:n,stack:zr(n)},Am.set(t,n),n)}return{value:t,source:n,stack:zr(n)}}var ks=[],Hs=0,ku=null,sl=0,Nn=[],Dn=0,sa=null,mi=1,gi="";function Vi(t,n){ks[Hs++]=sl,ks[Hs++]=ku,ku=t,sl=n}function bm(t,n,a){Nn[Dn++]=mi,Nn[Dn++]=gi,Nn[Dn++]=sa,sa=t;var l=mi;t=gi;var c=32-me(l)-1;l&=~(1<<c),a+=1;var f=32-me(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,mi=1<<32-me(n)+c|a<<c|l,gi=f+t}else mi=1<<f|a<<c|l,gi=t}function Zc(t){t.return!==null&&(Vi(t,1),bm(t,1,0))}function Jc(t){for(;t===ku;)ku=ks[--Hs],ks[Hs]=null,sl=ks[--Hs],ks[Hs]=null;for(;t===sa;)sa=Nn[--Dn],Nn[Dn]=null,gi=Nn[--Dn],Nn[Dn]=null,mi=Nn[--Dn],Nn[Dn]=null}function Rm(t,n){Nn[Dn++]=mi,Nn[Dn++]=gi,Nn[Dn++]=sa,mi=n.id,gi=n.overflow,sa=t}var Pe=null,re=null,Bt=!1,ra=null,Vn=!1,$c=Error(s(519));function la(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(wn(n,t)),$c}function Cm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Te]=t,n[xe]=l,a){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Mt(Nl[a],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),Tu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),$i(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Hp(n.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||la(t,!0)}function wm(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Pe=Pe.return}}function Gs(t){if(t!==Pe)return!1;if(!Bt)return wm(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yf(t.type,t.memoizedProps)),a=!a),a&&re&&la(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));re=$p(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));re=$p(t)}else n===27?(n=re,Ta(t.type)?(t=Sf,Sf=null,re=t):re=n):re=Pe?Mn(t.stateNode.nextSibling):null;return!0}function rs(){re=Pe=null,Bt=!1}function Wc(){var t=ra;return t!==null&&(on===null?on=t:on.push.apply(on,t),ra=null),t}function rl(t){ra===null?ra=[t]:ra.push(t)}var th=M(null),ls=null,Ii=null;function ua(t,n,a){it(th,n._currentValue),n._currentValue=a}function Mi(t){t._currentValue=th.current,F(th)}function eh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function nh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),eh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),eh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Qs(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;mn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&nh(n,t,a,l),n.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function us(t){ls=t,Ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return Nm(ls,t)}function Gu(t,n){return ls===null&&us(t),Nm(t,n)}function Nm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ii===null){if(t===null)throw Error(s(308));Ii=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ii=Ii.next=n;return a}var $1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},W1=r.unstable_scheduleCallback,tE=r.unstable_NormalPriority,be={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new $1,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&W1(tE,function(){t.controller.abort()})}var ul=null,ah=0,Fs=0,Ys=null;function eE(t,n){if(ul===null){var a=ul=[];ah=0,Fs=uf(),Ys={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ah++,n.then(Dm,Dm),n}function Dm(){if(--ah===0&&ul!==null){Ys!==null&&(Ys.status="fulfilled");var t=ul;ul=null,Fs=0,Ys=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Vm=H.S;H.S=function(t,n){dp=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&eE(t,n),Vm!==null&&Vm(t,n)};var os=M(null);function sh(){var t=os.current;return t!==null?t:ne.pooledCache}function Qu(t,n){n===null?it(os,os.current):it(os,n.pool)}function Im(){var t=sh();return t===null?null:{parent:be._currentValue,pool:t}}var Ks=Error(s(460)),rh=Error(s(474)),Fu=Error(s(542)),Yu={then:function(){}};function Mm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Om(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(qn,qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,zm(t),t;default:if(typeof n.status=="string")n.then(qn,qn);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,zm(t),t}throw hs=n,Ks}}function cs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(hs=a,Ks):a}}var hs=null;function xm(){if(hs===null)throw Error(s(459));var t=hs;return hs=null,t}function zm(t){if(t===Ks||t===Fu)throw Error(s(483))}var Xs=null,ol=0;function Ku(t){var n=ol;return ol+=1,Xs===null&&(Xs=[]),Om(Xs,t,n)}function cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xu(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Um(t){function n(z,I){if(t){var j=z.deletions;j===null?(z.deletions=[I],z.flags|=16):j.push(I)}}function a(z,I){if(!t)return null;for(;I!==null;)n(z,I),I=I.sibling;return null}function l(z){for(var I=new Map;z!==null;)z.key!==null?I.set(z.key,z):I.set(z.index,z),z=z.sibling;return I}function c(z,I){return z=Di(z,I),z.index=0,z.sibling=null,z}function f(z,I,j){return z.index=j,t?(j=z.alternate,j!==null?(j=j.index,j<I?(z.flags|=67108866,I):j):(z.flags|=67108866,I)):(z.flags|=1048576,I)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,I,j,Y){return I===null||I.tag!==6?(I=Kc(j,z.mode,Y),I.return=z,I):(I=c(I,j),I.return=z,I)}function N(z,I,j,Y){var gt=j.type;return gt===W?Q(z,I,j.props.children,Y,j.key):I!==null&&(I.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&cs(gt)===I.type)?(I=c(I,j.props),cl(I,j),I.return=z,I):(I=Pu(j.type,j.key,j.props,null,z.mode,Y),cl(I,j),I.return=z,I)}function B(z,I,j,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=Xc(j,z.mode,Y),I.return=z,I):(I=c(I,j.children||[]),I.return=z,I)}function Q(z,I,j,Y,gt){return I===null||I.tag!==7?(I=ss(j,z.mode,Y,gt),I.return=z,I):(I=c(I,j),I.return=z,I)}function K(z,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Kc(""+I,z.mode,j),I.return=z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case G:return j=Pu(I.type,I.key,I.props,null,z.mode,j),cl(j,I),j.return=z,j;case $:return I=Xc(I,z.mode,j),I.return=z,I;case A:return I=cs(I),K(z,I,j)}if(ee(I)||U(I))return I=ss(I,z.mode,j,null),I.return=z,I;if(typeof I.then=="function")return K(z,Ku(I),j);if(I.$$typeof===ct)return K(z,Gu(z,I),j);Xu(z,I)}return null}function q(z,I,j,Y){var gt=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return gt!==null?null:E(z,I,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===gt?N(z,I,j,Y):null;case $:return j.key===gt?B(z,I,j,Y):null;case A:return j=cs(j),q(z,I,j,Y)}if(ee(j)||U(j))return gt!==null?null:Q(z,I,j,Y,null);if(typeof j.then=="function")return q(z,I,Ku(j),Y);if(j.$$typeof===ct)return q(z,I,Gu(z,j),Y);Xu(z,j)}return null}function k(z,I,j,Y,gt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return z=z.get(j)||null,E(I,z,""+Y,gt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return z=z.get(Y.key===null?j:Y.key)||null,N(I,z,Y,gt);case $:return z=z.get(Y.key===null?j:Y.key)||null,B(I,z,Y,gt);case A:return Y=cs(Y),k(z,I,j,Y,gt)}if(ee(Y)||U(Y))return z=z.get(j)||null,Q(I,z,Y,gt,null);if(typeof Y.then=="function")return k(z,I,j,Ku(Y),gt);if(Y.$$typeof===ct)return k(z,I,j,Gu(I,Y),gt);Xu(I,Y)}return null}function ot(z,I,j,Y){for(var gt=null,kt=null,ht=I,Nt=I=0,zt=null;ht!==null&&Nt<j.length;Nt++){ht.index>Nt?(zt=ht,ht=null):zt=ht.sibling;var Ht=q(z,ht,j[Nt],Y);if(Ht===null){ht===null&&(ht=zt);break}t&&ht&&Ht.alternate===null&&n(z,ht),I=f(Ht,I,Nt),kt===null?gt=Ht:kt.sibling=Ht,kt=Ht,ht=zt}if(Nt===j.length)return a(z,ht),Bt&&Vi(z,Nt),gt;if(ht===null){for(;Nt<j.length;Nt++)ht=K(z,j[Nt],Y),ht!==null&&(I=f(ht,I,Nt),kt===null?gt=ht:kt.sibling=ht,kt=ht);return Bt&&Vi(z,Nt),gt}for(ht=l(ht);Nt<j.length;Nt++)zt=k(ht,z,Nt,j[Nt],Y),zt!==null&&(t&&zt.alternate!==null&&ht.delete(zt.key===null?Nt:zt.key),I=f(zt,I,Nt),kt===null?gt=zt:kt.sibling=zt,kt=zt);return t&&ht.forEach(function(Ca){return n(z,Ca)}),Bt&&Vi(z,Nt),gt}function yt(z,I,j,Y){if(j==null)throw Error(s(151));for(var gt=null,kt=null,ht=I,Nt=I=0,zt=null,Ht=j.next();ht!==null&&!Ht.done;Nt++,Ht=j.next()){ht.index>Nt?(zt=ht,ht=null):zt=ht.sibling;var Ca=q(z,ht,Ht.value,Y);if(Ca===null){ht===null&&(ht=zt);break}t&&ht&&Ca.alternate===null&&n(z,ht),I=f(Ca,I,Nt),kt===null?gt=Ca:kt.sibling=Ca,kt=Ca,ht=zt}if(Ht.done)return a(z,ht),Bt&&Vi(z,Nt),gt;if(ht===null){for(;!Ht.done;Nt++,Ht=j.next())Ht=K(z,Ht.value,Y),Ht!==null&&(I=f(Ht,I,Nt),kt===null?gt=Ht:kt.sibling=Ht,kt=Ht);return Bt&&Vi(z,Nt),gt}for(ht=l(ht);!Ht.done;Nt++,Ht=j.next())Ht=k(ht,z,Nt,Ht.value,Y),Ht!==null&&(t&&Ht.alternate!==null&&ht.delete(Ht.key===null?Nt:Ht.key),I=f(Ht,I,Nt),kt===null?gt=Ht:kt.sibling=Ht,kt=Ht);return t&&ht.forEach(function(d0){return n(z,d0)}),Bt&&Vi(z,Nt),gt}function te(z,I,j,Y){if(typeof j=="object"&&j!==null&&j.type===W&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:t:{for(var gt=j.key;I!==null;){if(I.key===gt){if(gt=j.type,gt===W){if(I.tag===7){a(z,I.sibling),Y=c(I,j.props.children),Y.return=z,z=Y;break t}}else if(I.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&cs(gt)===I.type){a(z,I.sibling),Y=c(I,j.props),cl(Y,j),Y.return=z,z=Y;break t}a(z,I);break}else n(z,I);I=I.sibling}j.type===W?(Y=ss(j.props.children,z.mode,Y,j.key),Y.return=z,z=Y):(Y=Pu(j.type,j.key,j.props,null,z.mode,Y),cl(Y,j),Y.return=z,z=Y)}return g(z);case $:t:{for(gt=j.key;I!==null;){if(I.key===gt)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){a(z,I.sibling),Y=c(I,j.children||[]),Y.return=z,z=Y;break t}else{a(z,I);break}else n(z,I);I=I.sibling}Y=Xc(j,z.mode,Y),Y.return=z,z=Y}return g(z);case A:return j=cs(j),te(z,I,j,Y)}if(ee(j))return ot(z,I,j,Y);if(U(j)){if(gt=U(j),typeof gt!="function")throw Error(s(150));return j=gt.call(j),yt(z,I,j,Y)}if(typeof j.then=="function")return te(z,I,Ku(j),Y);if(j.$$typeof===ct)return te(z,I,Gu(z,j),Y);Xu(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,I!==null&&I.tag===6?(a(z,I.sibling),Y=c(I,j),Y.return=z,z=Y):(a(z,I),Y=Kc(j,z.mode,Y),Y.return=z,z=Y),g(z)):a(z,I)}return function(z,I,j,Y){try{ol=0;var gt=te(z,I,j,Y);return Xs=null,gt}catch(ht){if(ht===Ks||ht===Fu)throw ht;var kt=gn(29,ht,null,z.mode);return kt.lanes=Y,kt.return=z,kt}finally{}}}var fs=Um(!0),Lm=Um(!1),oa=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ha(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qu(t),Em(t,null,a),n}return Bu(t,l,n,a),qu(t)}function hl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,jr(t,a)}}function oh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ch=!1;function fl(){if(ch){var t=Ys;if(t!==null)throw t}}function dl(t,n,a,l){ch=!1;var c=t.updateQueue;oa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var N=E,B=N.next;N.next=null,g===null?f=B:g.next=B,g=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=N))}if(f!==null){var K=c.baseState;g=0,Q=B=N=null,E=f;do{var q=E.lane&-536870913,k=q!==E.lane;if(k?(xt&q)===q:(l&q)===q){q!==0&&q===Fs&&(ch=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,yt=E;q=n;var te=a;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){K=ot.call(te,K,q);break t}K=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,q=typeof ot=="function"?ot.call(te,K,q):ot,q==null)break t;K=b({},K,q);break t;case 2:oa=!0}}q=E.callback,q!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[q]:k.push(q))}else k={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=k,N=K):Q=Q.next=k,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);Q===null&&(N=K),c.baseState=N,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),pa|=g,t.lanes=g,t.memoizedState=K}}function jm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Bm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)jm(a[t],n)}var Zs=M(null),Zu=M(0);function qm(t,n){t=Pi,it(Zu,t),it(Zs,n),Pi=t|n.baseLanes}function hh(){it(Zu,Pi),it(Zs,Zs.current)}function fh(){Pi=Zu.current,F(Zs),F(Zu)}var pn=M(null),In=null;function fa(t){var n=t.alternate;it(pe,pe.current&1),it(pn,t),In===null&&(n===null||Zs.current!==null||n.memoizedState!==null)&&(In=t)}function dh(t){it(pe,pe.current),it(pn,t),In===null&&(In=t)}function Pm(t){t.tag===22?(it(pe,pe.current),it(pn,t),In===null&&(In=t)):da()}function da(){it(pe,pe.current),it(pn,pn.current)}function yn(t){F(pn),In===t&&(In=null),F(pe)}var pe=M(0);function Ju(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ef(a)||Tf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,wt=null,$t=null,Re=null,$u=!1,Js=!1,ds=!1,Wu=0,ml=0,$s=null,iE=0;function he(){throw Error(s(321))}function mh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function gh(t,n,a,l,c,f){return Oi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?bg:Vh,ds=!1,f=a(l,c),ds=!1,Js&&(f=Hm(n,a,l,c)),km(t),f}function km(t){H.H=yl;var n=$t!==null&&$t.next!==null;if(Oi=0,Re=$t=wt=null,$u=!1,ml=0,$s=null,n)throw Error(s(300));t===null||Ce||(t=t.dependencies,t!==null&&Hu(t)&&(Ce=!0))}function Hm(t,n,a,l){wt=t;var c=0;do{if(Js&&($s=null),ml=0,Js=!1,25<=c)throw Error(s(301));if(c+=1,Re=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Rg,f=n(a,l)}while(Js);return f}function aE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(wt.flags|=1024),n}function ph(){var t=Wu!==0;return Wu=0,t}function yh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _h(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}Oi=0,Re=$t=wt=null,Js=!1,ml=Wu=0,$s=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?wt.memoizedState=Re=t:Re=Re.next=t,Re}function ye(){if($t===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=Re===null?wt.memoizedState:Re.next;if(n!==null)Re=n,$t=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Re===null?wt.memoizedState=Re=t:Re=Re.next=t}return Re}function to(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,$s===null&&($s=[]),t=Om($s,t,n),n=wt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?bg:Vh),t}function eo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ct)return ke(t)}throw Error(s(438,String(t)))}function vh(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=to(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function xi(t,n){return typeof n=="function"?n(t):n}function no(t){var n=ye();return Eh(n,$t,t)}function Eh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,N=null,B=n,Q=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(xt&K)===K:(Oi&K)===K){var q=B.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===Fs&&(Q=!0);else if((Oi&q)===q){B=B.next,q===Fs&&(Q=!0);continue}else K={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=K,g=f):N=N.next=K,wt.lanes|=q,pa|=q;K=B.action,ds&&a(f,K),f=B.hasEagerState?B.eagerState:a(f,K)}else q={lane:K,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=q,g=f):N=N.next=q,wt.lanes|=K,pa|=K;B=B.next}while(B!==null&&B!==n);if(N===null?g=f:N.next=E,!mn(f,t.memoizedState)&&(Ce=!0,Q&&(a=Ys,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=N,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Th(t){var n=ye(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);mn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Gm(t,n,a){var l=wt,c=ye(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!mn(($t||c).memoizedState,a);if(g&&(c.memoizedState=a,Ce=!0),c=c.queue,bh(Ym.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(l.flags|=2048,Ws(9,{destroy:void 0},Fm.bind(null,l,c,a,n),null),ne===null)throw Error(s(349));f||(Oi&127)!==0||Qm(l,n,a)}return a}function Qm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=to(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Fm(t,n,a,l){n.value=a,n.getSnapshot=l,Km(n)&&Xm(t)}function Ym(t,n,a){return a(function(){Km(n)&&Xm(t)})}function Km(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function Xm(t){var n=as(t,2);n!==null&&cn(n,t,2)}function Sh(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),ds){Tn(!0);try{a()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function Zm(t,n,a,l){return t.baseState=a,Eh(t,$t,typeof l=="function"?l:xi)}function sE(t,n,a,l,c){if(so(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Jm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Jm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(c,l),N=H.S;N!==null&&N(g,E),$m(t,n,E)}catch(B){Ah(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),$m(t,n,f)}catch(B){Ah(t,n,B)}}function $m(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wm(t,n,l)},function(l){return Ah(t,n,l)}):Wm(t,n,a)}function Wm(t,n,a){n.status="fulfilled",n.value=a,tg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Jm(t,a)))}function Ah(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,tg(n),n=n.next;while(n!==l)}t.action=null}function tg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function eg(t,n){return n}function ng(t,n){if(Bt){var a=ne.formState;if(a!==null){t:{var l=wt;if(Bt){if(re){e:{for(var c=re,f=Vn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=Mn(c.nextSibling),l=c.data==="F!";break t}}la(l)}l=!1}l&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:n},a.queue=l,a=Tg.bind(null,wt,l),l.dispatch=a,l=Sh(!1),f=Dh.bind(null,wt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=sE.bind(null,wt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function ig(t){var n=ye();return ag(n,$t,t)}function ag(t,n,a){if(n=Eh(t,n,eg)[0],t=no(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(g){throw g===Ks?Fu:g}else l=n;n=ye();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,Ws(9,{destroy:void 0},rE.bind(null,c,a),null)),[l,f,t]}function rE(t,n){t.action=n}function sg(t){var n=ye(),a=$t;if(a!==null)return ag(n,a,t);ye(),n=n.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ws(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=to(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function rg(){return ye().memoizedState}function io(t,n,a,l){var c=en();wt.flags|=t,c.memoizedState=Ws(1|n,{destroy:void 0},a,l===void 0?null:l)}function ao(t,n,a,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;$t!==null&&l!==null&&mh(l,$t.memoizedState.deps)?c.memoizedState=Ws(n,f,a,l):(wt.flags|=t,c.memoizedState=Ws(1|n,f,a,l))}function lg(t,n){io(8390656,8,t,n)}function bh(t,n){ao(2048,8,t,n)}function lE(t){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=to(),wt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ug(t){var n=ye().memoizedState;return lE({ref:n,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function og(t,n){return ao(4,2,t,n)}function cg(t,n){return ao(4,4,t,n)}function hg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function fg(t,n,a){a=a!=null?a.concat([t]):null,ao(4,4,hg.bind(null,n,t),a)}function Rh(){}function dg(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&mh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function mg(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&mh(n,l[1]))return l[0];if(l=t(),ds){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l}function Ch(t,n,a){return a===void 0||(Oi&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=gp(),wt.lanes|=t,pa|=t,a)}function gg(t,n,a,l){return mn(a,n)?a:Zs.current!==null?(t=Ch(t,a,l),mn(t,n)||(Ce=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(xt&261930)===0?(Ce=!0,t.memoizedState=a):(t=gp(),wt.lanes|=t,pa|=t,n)}function pg(t,n,a,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Dh(t,!1,n,a);try{var N=c(),B=H.S;if(B!==null&&B(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=nE(N,l);pl(t,n,Q,En(t))}else pl(t,n,l,En(t))}catch(K){pl(t,n,{then:function(){},status:"rejected",reason:K},En())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function uE(){}function wh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=yg(t).queue;pg(t,c,n,mt,a===null?uE:function(){return _g(t),a(l)})}function yg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function _g(t){var n=yg(t);n.next===null&&(n=t.alternate.memoizedState),pl(t,n.next.queue,{},En())}function Nh(){return ke(Ol)}function vg(){return ye().memoizedState}function Eg(){return ye().memoizedState}function oE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=ca(a);var l=ha(n,t,a);l!==null&&(cn(l,n,a),hl(l,n,a)),n={cache:ih()},t.payload=n;return}n=n.return}}function cE(t,n,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},so(t)?Sg(n,a):(a=Fc(t,n,a,l),a!==null&&(cn(a,t,l),Ag(a,n,l)))}function Tg(t,n,a){var l=En();pl(t,n,a,l)}function pl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(so(t))Sg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,mn(E,g))return Bu(t,n,c,0),ne===null&&ju(),!1}catch{}finally{}if(a=Fc(t,n,c,l),a!==null)return cn(a,t,l),Ag(a,n,l),!0}return!1}function Dh(t,n,a,l){if(l={lane:2,revertLane:uf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},so(t)){if(n)throw Error(s(479))}else n=Fc(t,a,l,2),n!==null&&cn(n,t,2)}function so(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Sg(t,n){Js=$u=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ag(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,jr(t,a)}}var yl={readContext:ke,use:eo,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};yl.useEffectEvent=he;var bg={readContext:ke,use:eo,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:lg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,io(4194308,4,hg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return io(4194308,4,t,n)},useInsertionEffect:function(t,n){io(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var l=t();if(ds){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=en();if(a!==void 0){var c=a(n);if(ds){Tn(!0);try{a(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=cE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Sh(t);var n=t.queue,a=Tg.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rh,useDeferredValue:function(t,n){var a=en();return Ch(a,t,n)},useTransition:function(){var t=Sh(!1);return t=pg.bind(null,wt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,c=en();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ne===null)throw Error(s(349));(xt&127)!==0||Qm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,lg(Ym.bind(null,l,f,t),[t]),l.flags|=2048,Ws(9,{destroy:void 0},Fm.bind(null,l,f,a,n),null),a},useId:function(){var t=en(),n=ne.identifierPrefix;if(Bt){var a=gi,l=mi;a=(l&~(1<<32-me(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Wu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=iE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Nh,useFormState:ng,useActionState:ng,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Dh.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return en().memoizedState=oE.bind(null,wt)},useEffectEvent:function(t){var n=en(),a={impl:t};return n.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Vh={readContext:ke,use:eo,useCallback:dg,useContext:ke,useEffect:bh,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:cg,useMemo:mg,useReducer:no,useRef:rg,useState:function(){return no(xi)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=ye();return gg(a,$t.memoizedState,t,n)},useTransition:function(){var t=no(xi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Gm,useId:vg,useHostTransitionStatus:Nh,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var a=ye();return Zm(a,$t,t,n)},useMemoCache:vh,useCacheRefresh:Eg};Vh.useEffectEvent=ug;var Rg={readContext:ke,use:eo,useCallback:dg,useContext:ke,useEffect:bh,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:cg,useMemo:mg,useReducer:Th,useRef:rg,useState:function(){return Th(xi)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=ye();return $t===null?Ch(a,t,n):gg(a,$t.memoizedState,t,n)},useTransition:function(){var t=Th(xi)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Gm,useId:vg,useHostTransitionStatus:Nh,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var a=ye();return $t!==null?Zm(a,$t,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vh,useCacheRefresh:Eg};Rg.useEffectEvent=ug;function Ih(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=En(),c=ca(l);c.payload=n,a!=null&&(c.callback=a),n=ha(t,c,l),n!==null&&(cn(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=En(),c=ca(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ha(t,c,l),n!==null&&(cn(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),l=ca(a);l.tag=2,n!=null&&(l.callback=n),n=ha(t,l,a),n!==null&&(cn(n,t,a),hl(n,t,a))}};function Cg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(c,f):!0}function wg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Mh.enqueueReplaceState(n,n.state,null)}function ms(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Ng(t){Lu(t)}function Dg(t){console.error(t)}function Vg(t){Lu(t)}function ro(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ig(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Oh(t,n,a){return a=ca(a),a.tag=3,a.payload={element:null},a.callback=function(){ro(t,n)},a}function Mg(t){return t=ca(t),t.tag=3,t}function Og(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ig(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Ig(n,a,l),typeof c!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Qs(n,a,c,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return In===null?vo():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Yu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),sf(t,l,c)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),sf(t,l,c)),!1}throw Error(s(435,a.tag))}return sf(t,l,c),vo(),!1}if(Bt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(s(422),{cause:l}),rl(wn(t,a)))):(l!==$c&&(n=Error(s(423),{cause:l}),rl(wn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,a),c=Oh(t.stateNode,l,c),oh(t,c),fe!==4&&(fe=2)),!1;var f=Error(s(520),{cause:l});if(f=wn(f,a),Rl===null?Rl=[f]:Rl.push(f),fe!==4&&(fe=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Oh(a.stateNode,l,t),oh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ya===null||!ya.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Mg(c),Og(c,t,a,l),oh(a,c),!1}a=a.return}while(a!==null);return!1}var xh=Error(s(461)),Ce=!1;function He(t,n,a,l){n.child=t===null?Lm(n,null,a,l):fs(n,t.child,a,l)}function xg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return us(n),l=gh(t,n,a,g,f,c),E=ph(),t!==null&&!Ce?(yh(t,n,c),zi(t,n,c)):(Bt&&E&&Zc(n),n.flags|=1,He(t,n,l,c),n.child)}function zg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ug(t,n,f,l,c)):(t=Pu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(g,l)&&t.ref===n.ref)return zi(t,n,c)}return n.flags|=1,t=Di(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ug(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,zi(t,n,c)}return zh(t,n,a,l,c)}function Lg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return jg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(n,f!==null?f.cachePool:null),f!==null?qm(n,f):hh(),Pm(n);else return l=n.lanes=536870912,jg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Qu(n,f.cachePool),qm(n,f),da(),n.memoizedState=null):(t!==null&&Qu(n,null),hh(),da());return He(t,n,c,a),n.child}function _l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jg(t,n,a,l,c){var f=sh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Qu(n,null),hh(),Pm(n),t!==null&&Qs(t,n,l,!0),n.childLanes=c,null}function lo(t,n){return n=oo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Bg(t,n,a){return fs(n,t.child,null,a),t=lo(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function fE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Bt){if(l.mode==="hidden")return t=lo(n,l),n.lanes=536870912,_l(null,t);if(dh(n),(t=re)?(t=Jp(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=Sm(t),a.return=n,n.child=a,Pe=n,re=null)):t=null,t===null)throw la(n);return n.lanes=536870912,null}return lo(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(dh(n),c)if(n.flags&256)n.flags&=-257,n=Bg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ce||Qs(t,n,a,!1),c=(a&t.childLanes)!==0,Ce||c){if(l=ne,l!==null&&(g=Br(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,as(t,g),cn(l,t,g),xh;vo(),n=Bg(t,n,a)}else t=f.treeContext,re=Mn(g.nextSibling),Pe=n,Bt=!0,ra=null,Vn=!1,t!==null&&Rm(n,t),n=lo(n,l),n.flags|=4096;return n}return t=Di(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function uo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zh(t,n,a,l,c){return us(n),a=gh(t,n,a,l,void 0,c),l=ph(),t!==null&&!Ce?(yh(t,n,c),zi(t,n,c)):(Bt&&l&&Zc(n),n.flags|=1,He(t,n,a,c),n.child)}function qg(t,n,a,l,c,f){return us(n),n.updateQueue=null,a=Hm(n,l,a,c),km(t),l=ph(),t!==null&&!Ce?(yh(t,n,f),zi(t,n,f)):(Bt&&l&&Zc(n),n.flags|=1,He(t,n,a,f),n.child)}function Pg(t,n,a,l,c){if(us(n),n.stateNode===null){var f=Ps,g=a.contextType;typeof g=="object"&&g!==null&&(f=ke(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?ke(g):Ps,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ih(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Mh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=ms(a,E);f.props=N;var B=f.context,Q=a.contextType;g=Ps,typeof Q=="object"&&Q!==null&&(g=ke(Q));var K=a.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&wg(n,f,l,g),oa=!1;var q=n.memoizedState;f.state=q,dl(n,l,f,c),fl(),B=n.memoizedState,E||q!==B||oa?(typeof K=="function"&&(Ih(n,a,K,l),B=n.memoizedState),(N=oa||Cg(n,a,N,l,q,B,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uh(t,n),g=n.memoizedProps,Q=ms(a,g),f.props=Q,K=n.pendingProps,q=f.context,B=a.contextType,N=Ps,typeof B=="object"&&B!==null&&(N=ke(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||q!==N)&&wg(n,f,l,N),oa=!1,q=n.memoizedState,f.state=q,dl(n,l,f,c),fl();var k=n.memoizedState;g!==K||q!==k||oa||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(Ih(n,a,E,l),k=n.memoizedState),(Q=oa||Cg(n,a,Q,l,q,k,N)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=N,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=fs(n,t.child,null,c),n.child=fs(n,null,a,c)):He(t,n,a,c),n.memoizedState=f.state,t=n.child):t=zi(t,n,c),t}function kg(t,n,a,l){return rs(),n.flags|=256,He(t,n,a,l),n.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(t){return{baseLanes:t,cachePool:Im()}}function jh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function Hg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(pe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?fa(n):da(),(t=re)?(t=Jp(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:sa!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},a=Sm(t),a.return=n,n.child=a,Pe=n,re=null)):t=null,t===null)throw la(n);return Tf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(da(),c=n.mode,E=oo({mode:"hidden",children:E},c),l=ss(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lh(a),l.childLanes=jh(t,g,a),n.memoizedState=Uh,_l(null,l)):(fa(n),Bh(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(fa(n),n.flags&=-257,n=qh(t,n,a)):n.memoizedState!==null?(da(),n.child=t.child,n.flags|=128,n=null):(da(),E=l.fallback,c=n.mode,l=oo({mode:"visible",children:l.children},c),E=ss(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,fs(n,t.child,null,a),l=n.child,l.memoizedState=Lh(a),l.childLanes=jh(t,g,a),n.memoizedState=Uh,n=_l(null,l));else if(fa(n),Tf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,rl({value:l,source:null,stack:null}),n=qh(t,n,a)}else if(Ce||Qs(t,n,a,!1),g=(a&t.childLanes)!==0,Ce||g){if(g=ne,g!==null&&(l=Br(g,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,as(t,l),cn(g,t,l),xh;Ef(E)||vo(),n=qh(t,n,a)}else Ef(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,re=Mn(E.nextSibling),Pe=n,Bt=!0,ra=null,Vn=!1,t!==null&&Rm(n,t),n=Bh(n,l.children),n.flags|=4096);return n}return c?(da(),E=l.fallback,c=n.mode,N=t.child,B=N.sibling,l=Di(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?E=Di(B,E):(E=ss(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,_l(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Lh(a):(c=E.cachePool,c!==null?(N=be._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=Im(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=jh(t,g,a),n.memoizedState=Uh,_l(t.child,l)):(fa(n),a=t.child,t=a.sibling,a=Di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Bh(t,n){return n=oo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oo(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function qh(t,n,a){return fs(n,t.child,null,a),t=Bh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Gg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),eh(t.return,n,a)}function Ph(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Qg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(pe,g),He(t,n,l,a),l=Bt?sl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,a,n);else if(t.tag===19)Gg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Ph(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ju(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Ph(n,!0,a,null,f,l);break;case"together":Ph(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),pa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Qs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Di(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Di(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function dE(t,n,a){switch(n.tag){case 3:de(n,n.stateNode.containerInfo),ua(n,be,t.memoizedState.cache),rs();break;case 27:case 5:bi(n);break;case 4:de(n,n.stateNode.containerInfo);break;case 10:ua(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,dh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Hg(t,n,a):(fa(n),t=zi(t,n,a),t!==null?t.sibling:null);fa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Qs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Qg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Lg(t,n,a,n.pendingProps);case 24:ua(n,be,t.memoizedState.cache)}return zi(t,n,a)}function Fg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!kh(t,a)&&(n.flags&128)===0)return Ce=!1,dE(t,n,a);Ce=(t.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&bm(n,sl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=cs(n.elementType),n.type=t,typeof t=="function")Yc(t)?(l=ms(t,l),n.tag=1,n=Pg(null,n,t,l,a)):(n.tag=0,n=zh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===St){n.tag=11,n=xg(null,n,t,l,a);break t}else if(c===R){n.tag=14,n=zg(null,n,t,l,a);break t}}throw n=Yt(t)||t,Error(s(306,n,""))}}return n;case 0:return zh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ms(l,n.pendingProps),Pg(t,n,l,c,a);case 3:t:{if(de(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,uh(t,n),dl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ua(n,be,l),l!==f.cache&&nh(n,[be],a,!0),fl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kg(t,n,l,a);break t}else if(l!==c){c=wn(Error(s(424)),n),rl(c),n=kg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=Mn(t.firstChild),Pe=n,Bt=!0,ra=null,Vn=!0,a=Lm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rs(),l===c){n=zi(t,n,a);break t}He(t,n,l,a)}n=n.child}return n;case 26:return uo(t,n),t===null?(a=iy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=Co(Rt.current).createElement(a),l[Te]=n,l[xe]=t,Ge(l,a,t),Se(l),n.stateNode=l):n.memoizedState=iy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return bi(n),t===null&&Bt&&(l=n.stateNode=ty(n.type,n.pendingProps,Rt.current),Pe=n,Vn=!0,c=re,Ta(n.type)?(Sf=c,re=Mn(l.firstChild)):re=c),He(t,n,n.pendingProps.children,a),uo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=re)&&(l=HE(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,Pe=n,re=Mn(l.firstChild),Vn=!1,c=!0):c=!1),c||la(n)),bi(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,yf(c,f)?l=null:g!==null&&yf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=gh(t,n,aE,null,null,a),Ol._currentValue=c),uo(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=re)&&(a=GE(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,Pe=n,re=null,t=!0):t=!1),t||la(n)),null;case 13:return Hg(t,n,a);case 4:return de(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=fs(n,null,l,a):He(t,n,l,a),n.child;case 11:return xg(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ua(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,us(n),c=ke(c),l=l(c),n.flags|=1,He(t,n,l,a),n.child;case 14:return zg(t,n,n.type,n.pendingProps,a);case 15:return Ug(t,n,n.type,n.pendingProps,a);case 19:return Qg(t,n,a);case 31:return fE(t,n,a);case 22:return Lg(t,n,a,n.pendingProps);case 24:return us(n),l=ke(be),t===null?(c=sh(),c===null&&(c=ne,f=ih(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},lh(n),ua(n,be,c)):((t.lanes&a)!==0&&(uh(t,n),dl(n,null,null,a),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ua(n,be,l)):(l=f.cache,ua(n,be,l),l!==c.cache&&nh(n,[be],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ui(t){t.flags|=4}function Hh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(vp())t.flags|=8192;else throw hs=Yu,rh}else t.flags&=-16777217}function Yg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uy(n))if(vp())t.flags|=8192;else throw hs=Yu,rh}function co(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?pu():536870912,t.lanes|=n,ir|=n)}function vl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function le(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function mE(t,n,a){var l=n.pendingProps;switch(Jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Mi(be),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Gs(n)?Ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wc())),le(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Ui(n),f!==null?(le(n),Yg(n,f)):(le(n),Hh(n,c,null,l,a))):f?f!==t.memoizedState?(Ui(n),le(n),Yg(n,f)):(le(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ui(n),le(n),Hh(n,c,t,l,a)),null;case 27:if(Et(n),a=Rt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return le(n),null}t=rt.current,Gs(n)?Cm(n):(t=ty(c,l,a),n.stateNode=t,Ui(n))}return le(n),null;case 5:if(Et(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return le(n),null}if(f=rt.current,Gs(n))Cm(n);else{var g=Co(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[Te]=n,f[xe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ui(n)}}return le(n),Hh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Rt.current,Gs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Te]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Hp(t.nodeValue,a)),t||la(n,!0)}else t=Co(t).createTextNode(l),t[Te]=n,n.stateNode=t}return le(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Gs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Te]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),t=!1}else a=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return le(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Te]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),c=!1}else c=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),co(n,n.updateQueue),le(n),null);case 4:return ie(),t===null&&ff(n.stateNode.containerInfo),le(n),null;case 10:return Mi(n.type),le(n),null;case 19:if(F(pe),l=n.memoizedState,l===null)return le(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)vl(l,!1);else{if(fe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ju(t),f!==null){for(n.flags|=128,vl(l,!1),t=f.updateQueue,n.updateQueue=t,co(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Tm(a,t),a=a.sibling;return it(pe,pe.current&1|2),Bt&&Vi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&We()>po&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Ju(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,co(n,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Bt)return le(n),null}else 2*We()-l.renderingStartTime>po&&a!==536870912&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=We(),t.sibling=null,a=pe.current,it(pe,c?a&1|2:a&1),Bt&&Vi(n,l.treeForkCount),t):(le(n),null);case 22:case 23:return yn(n),fh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),a=n.updateQueue,a!==null&&co(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&F(os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Mi(be),le(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function gE(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Mi(be),ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Et(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(pe),null;case 4:return ie(),null;case 10:return Mi(n.type),null;case 22:case 23:return yn(n),fh(),t!==null&&F(os),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Mi(be),null;case 25:return null;default:return null}}function Kg(t,n){switch(Jc(n),n.tag){case 3:Mi(be),ie();break;case 26:case 27:case 5:Et(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:F(pe);break;case 10:Mi(n.type);break;case 22:case 23:yn(n),fh(),t!==null&&F(os);break;case 24:Mi(be)}}function El(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Zt(n,n.return,E)}}function ma(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var N=a,B=E;try{B()}catch(Q){Zt(c,N,Q)}}}l=l.next}while(l!==f)}}catch(Q){Zt(n,n.return,Q)}}function Xg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Bm(n,a)}catch(l){Zt(t,t.return,l)}}}function Zg(t,n,a){a.props=ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Tl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Zt(t,n,c)}}function pi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Zt(t,n,c)}else a.current=null}function Jg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Zt(t,t.return,c)}}function Gh(t,n,a){try{var l=t.stateNode;LE(l,t.type,a,n),l[xe]=n}catch(c){Zt(t,t.return,c)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ta(t.type)||t.tag===4}function Qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,a),t=t.sibling;t!==null;)Fh(t,n,a),t=t.sibling}function ho(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ho(t,n,a),t=t.sibling;t!==null;)ho(t,n,a),t=t.sibling}function Wg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ge(n,l,a),n[Te]=t,n[xe]=a}catch(f){Zt(t,t.return,f)}}var Li=!1,we=!1,Yh=!1,tp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function pE(t,n){if(t=t.containerInfo,gf=Oo,t=fm(t),qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,N=-1,B=0,Q=0,K=t,q=null;e:for(;;){for(var k;K!==a||c!==0&&K.nodeType!==3||(E=g+c),K!==f||l!==0&&K.nodeType!==3||(N=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(k=K.firstChild)!==null;)q=K,K=k;for(;;){if(K===t)break e;if(q===a&&++B===c&&(E=g),q===f&&++Q===l&&(N=g),(k=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=k}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:t,selectionRange:a},Oo=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ot=ms(a.type,c);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Zt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function ep(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(t,a),l&4&&El(5,a);break;case 1:if(Bi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Zt(a,a.return,g)}else{var c=ms(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Zt(a,a.return,g)}}l&64&&Xg(a),l&512&&Tl(a,a.return);break;case 3:if(Bi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Bm(t,n)}catch(g){Zt(a,a.return,g)}}break;case 27:n===null&&l&4&&Wg(a);case 26:case 5:Bi(t,a),n===null&&l&4&&Jg(a),l&512&&Tl(a,a.return);break;case 12:Bi(t,a);break;case 31:Bi(t,a),l&4&&ap(t,a);break;case 13:Bi(t,a),l&4&&sp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=RE.bind(null,a),QE(t,a))));break;case 22:if(l=a.memoizedState!==null||Li,!l){n=n!==null&&n.memoizedState!==null||we,c=Li;var f=we;Li=l,(we=n)&&!f?qi(t,a,(a.subtreeFlags&8772)!==0):Bi(t,a),Li=c,we=f}break;case 30:break;default:Bi(t,a)}}function np(t){var n=t.alternate;n!==null&&(t.alternate=null,np(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ws(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,rn=!1;function ji(t,n,a){for(a=a.child;a!==null;)ip(t,n,a),a=a.sibling}function ip(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:we||pi(a,n),ji(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||pi(a,n);var l=oe,c=rn;Ta(a.type)&&(oe=a.stateNode,rn=!1),ji(t,n,a),Vl(a.stateNode),oe=l,rn=c;break;case 5:we||pi(a,n);case 6:if(l=oe,c=rn,oe=null,ji(t,n,a),oe=l,rn=c,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Zt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Zt(a,n,f)}break;case 18:oe!==null&&(rn?(t=oe,Xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),hr(t)):Xp(oe,a.stateNode));break;case 4:l=oe,c=rn,oe=a.stateNode.containerInfo,rn=!0,ji(t,n,a),oe=l,rn=c;break;case 0:case 11:case 14:case 15:ma(2,a,n),we||ma(4,a,n),ji(t,n,a);break;case 1:we||(pi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zg(a,n,l)),ji(t,n,a);break;case 21:ji(t,n,a);break;case 22:we=(l=we)||a.memoizedState!==null,ji(t,n,a),we=l;break;default:ji(t,n,a)}}function ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hr(t)}catch(a){Zt(n,n.return,a)}}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hr(t)}catch(a){Zt(n,n.return,a)}}function yE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new tp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new tp),n;default:throw Error(s(435,t.tag))}}function fo(t,n){var a=yE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=CE.bind(null,t,l);l.then(c,c)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ta(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(s(160));ip(f,g,c),oe=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)rp(n,t),n=n.sibling}var Fn=null;function rp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(ma(3,t,t.return),El(3,t),ma(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(we||a===null||pi(a,a.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Fn;if(ln(n,t),un(t),l&512&&(we||a===null||pi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ni]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ge(f,l,a),f[Te]=t,Se(f),l=f;break t;case"link":var g=ry("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;case"meta":if(g=ry("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Ge(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,Se(f),l=f}t.stateNode=l}else ly(c,t.type,t.stateNode);else t.stateNode=sy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ly(c,t.type,t.stateNode):sy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gh(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(we||a===null||pi(a,a.return)),a!==null&&l&4&&Gh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(we||a===null||pi(a,a.return)),t.flags&32){c=t.stateNode;try{sn(c,"")}catch(ot){Zt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ot){Zt(t,t.return,ot)}}break;case 3:if(Do=null,c=Fn,Fn=wo(n.containerInfo),ln(n,t),Fn=c,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hr(n.containerInfo)}catch(ot){Zt(t,t.return,ot)}Yh&&(Yh=!1,lp(t));break;case 4:l=Fn,Fn=wo(t.stateNode.containerInfo),ln(n,t),un(t),Fn=l;break;case 12:ln(n,t),un(t);break;case 31:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fo(t,l)));break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(go=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fo(t,l)));break;case 22:c=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Li,Q=we;if(Li=B||c,we=Q||N,ln(n,t),we=Q,Li=B,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||N||Li||we||gs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var K=N.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ot){Zt(N,N.return,ot)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(ot){Zt(N,N.return,ot)}}}else if(n.tag===18){if(a===null){N=n;try{var k=N.stateNode;c?Zp(k,!0):Zp(N.stateNode,!1)}catch(ot){Zt(N,N.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fo(t,a))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fo(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if($g(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Qh(t);ho(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(sn(g,""),a.flags&=-33);var E=Qh(t);ho(t,E,g);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Qh(t);Fh(t,B,N);break;default:throw Error(s(161))}}catch(Q){Zt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Bi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ep(t,n.alternate,n),n=n.sibling}function gs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ma(4,n,n.return),gs(n);break;case 1:pi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Zg(n,n.return,a),gs(n);break;case 27:Vl(n.stateNode);case 26:case 5:pi(n,n.return),gs(n);break;case 22:n.memoizedState===null&&gs(n);break;case 30:gs(n);break;default:gs(n)}t=t.sibling}}function qi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:qi(c,f,a),El(4,f);break;case 1:if(qi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Zt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)jm(N[c],E)}catch(B){Zt(l,l.return,B)}}a&&g&64&&Xg(f),Tl(f,f.return);break;case 27:Wg(f);case 26:case 5:qi(c,f,a),a&&l===null&&g&4&&Jg(f),Tl(f,f.return);break;case 12:qi(c,f,a);break;case 31:qi(c,f,a),a&&g&4&&ap(c,f);break;case 13:qi(c,f,a),a&&g&4&&sp(c,f);break;case 22:f.memoizedState===null&&qi(c,f,a),Tl(f,f.return);break;case 30:break;default:qi(c,f,a)}n=n.sibling}}function Kh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function Yn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,a,l),n=n.sibling}function up(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,a,l),c&2048&&El(9,n);break;case 1:Yn(t,n,a,l);break;case 3:Yn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){Yn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Zt(n,n.return,N)}}else Yn(t,n,a,l);break;case 31:Yn(t,n,a,l);break;case 13:Yn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(t,n,a,l):Sl(t,n):f._visibility&2?Yn(t,n,a,l):(f._visibility|=2,tr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Kh(g,n);break;case 24:Yn(t,n,a,l),c&2048&&Xh(n.alternate,n);break;default:Yn(t,n,a,l)}}function tr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,N=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:tr(f,g,E,N,c),El(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?tr(f,g,E,N,c):Sl(f,g):(Q._visibility|=2,tr(f,g,E,N,c)),c&&B&2048&&Kh(g.alternate,g);break;case 24:tr(f,g,E,N,c),c&&B&2048&&Xh(g.alternate,g);break;default:tr(f,g,E,N,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(a,l),c&2048&&Kh(l.alternate,l);break;case 24:Sl(a,l),c&2048&&Xh(l.alternate,l);break;default:Sl(a,l)}n=n.sibling}}var Al=8192;function er(t,n,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)op(t,n,a),t=t.sibling}function op(t,n,a){switch(t.tag){case 26:er(t,n,a),t.flags&Al&&t.memoizedState!==null&&i0(a,Fn,t.memoizedState,t.memoizedProps);break;case 5:er(t,n,a);break;case 3:case 4:var l=Fn;Fn=wo(t.stateNode.containerInfo),er(t,n,a),Fn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,er(t,n,a),Al=l):er(t,n,a));break;default:er(t,n,a)}}function cp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,fp(l,t)}cp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hp(t),t=t.sibling}function hp(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&ma(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,mo(t)):bl(t);break;default:bl(t)}}function mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,fp(l,t)}cp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ma(8,n,n.return),mo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,mo(n));break;default:mo(n)}t=t.sibling}}function fp(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:ma(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var c=l.sibling,f=l.return;if(np(l),l===a){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var _E={getCacheForType:function(t){var n=ke(be),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ke(be).controller.signal}},vE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,It=null,xt=0,Xt=0,_n=null,ga=!1,nr=!1,Zh=!1,Pi=0,fe=0,pa=0,ps=0,Jh=0,vn=0,ir=0,Rl=null,on=null,$h=!1,go=0,dp=0,po=1/0,yo=null,ya=null,Me=0,_a=null,ar=null,ki=0,Wh=0,tf=null,mp=null,Cl=0,ef=null;function En(){return(Qt&2)!==0&&xt!==0?xt&-xt:H.T!==null?uf():yu()}function gp(){if(vn===0)if((xt&536870912)===0||Bt){var t=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function cn(t,n,a){(t===ne&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(sr(t,0),va(t,xt,vn,!1)),Ga(t,a),((Qt&2)===0||t!==ne)&&(t===ne&&((Qt&2)===0&&(ps|=a),fe===4&&va(t,xt,vn,!1)),yi(t))}function pp(t,n,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Ln(t,n),c=l?SE(t,n):af(t,n,!0),f=l;do{if(c===0){nr&&!l&&va(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!EE(a)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Rl;var N=E.current.memoizedState.isDehydrated;if(N&&(sr(E,g).flags|=256),g=af(E,g,!1),g!==2){if(Zh&&!N){E.errorRecoveryDisabledLanes|=f,ps|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){sr(t,0),va(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:va(l,n,vn,!ga);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=go+300-We(),10<c)){if(va(l,n,vn,!ga),Wn(l,0,!0)!==0)break t;ki=n,l.timeoutHandle=Yp(yp.bind(null,l,a,on,yo,$h,n,vn,ps,ir,ga,f,"Throttled",-0,0),c);break t}yp(l,a,on,yo,$h,n,vn,ps,ir,ga,f,null,-0,0)}}break}while(!0);yi(t)}function yp(t,n,a,l,c,f,g,E,N,B,Q,K,q,k){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},op(n,f,K);var ot=(f&62914560)===f?go-We():(f&4194048)===f?dp-We():0;if(ot=a0(K,ot),ot!==null){ki=f,t.cancelPendingCommit=ot(Rp.bind(null,t,n,f,a,l,c,g,E,N,Q,K,null,q,k)),va(t,f,g,!B);return}}Rp(t,n,f,a,l,c,g,E,N)}function EE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!mn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function va(t,n,a,l){n&=~Jh,n&=~ps,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-me(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Qa(t,a,n)}function _o(){return(Qt&6)===0?(wl(0),!1):!0}function nf(){if(It!==null){if(Xt===0)var t=It.return;else t=It,Ii=ls=null,_h(t),Xs=null,ol=0,t=It;for(;t!==null;)Kg(t.alternate,t),t=t.return;It=null}}function sr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ki=0,nf(),ne=t,It=a=Di(t.current,null),xt=n,Xt=0,_n=null,ga=!1,nr=Ln(t,n),Zh=!1,ir=vn=Jh=ps=pa=fe=0,on=Rl=null,$h=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-me(l),f=1<<c;n|=t[c],l&=~f}return Pi=n,ju(),a}function _p(t,n){wt=null,H.H=yl,n===Ks||n===Fu?(n=xm(),Xt=3):n===rh?(n=xm(),Xt=4):Xt=n===xh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,It===null&&(fe=1,ro(t,wn(n,t.current)))}function vp(){var t=pn.current;return t===null?!0:(xt&4194048)===xt?In===null:(xt&62914560)===xt||(xt&536870912)!==0?t===In:!1}function Ep(){var t=H.H;return H.H=yl,t===null?yl:t}function Tp(){var t=H.A;return H.A=_E,t}function vo(){fe=4,ga||(xt&4194048)!==xt&&pn.current!==null||(nr=!0),(pa&134217727)===0&&(ps&134217727)===0||ne===null||va(ne,xt,vn,!1)}function af(t,n,a){var l=Qt;Qt|=2;var c=Ep(),f=Tp();(ne!==t||xt!==n)&&(yo=null,sr(t,n)),n=!1;var g=fe;t:do try{if(Xt!==0&&It!==null){var E=It,N=_n;switch(Xt){case 8:nf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var B=Xt;if(Xt=0,_n=null,rr(t,E,N,B),a&&nr){g=0;break t}break;default:B=Xt,Xt=0,_n=null,rr(t,E,N,B)}}TE(),g=fe;break}catch(Q){_p(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ii=ls=null,Qt=l,H.H=c,H.A=f,It===null&&(ne=null,xt=0,ju()),g}function TE(){for(;It!==null;)Sp(It)}function SE(t,n){var a=Qt;Qt|=2;var l=Ep(),c=Tp();ne!==t||xt!==n?(yo=null,po=We()+500,sr(t,n)):nr=Ln(t,n);t:do try{if(Xt!==0&&It!==null){n=It;var f=_n;e:switch(Xt){case 1:Xt=0,_n=null,rr(t,n,f,1);break;case 2:case 9:if(Mm(f)){Xt=0,_n=null,Ap(n);break}n=function(){Xt!==2&&Xt!==9||ne!==t||(Xt=7),yi(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Mm(f)?(Xt=0,_n=null,Ap(n)):(Xt=0,_n=null,rr(t,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?uy(g):E.stateNode.complete){Xt=0,_n=null;var N=E.sibling;if(N!==null)It=N;else{var B=E.return;B!==null?(It=B,Eo(B)):It=null}break e}}Xt=0,_n=null,rr(t,n,f,5);break;case 6:Xt=0,_n=null,rr(t,n,f,6);break;case 8:nf(),fe=6;break t;default:throw Error(s(462))}}AE();break}catch(Q){_p(t,Q)}while(!0);return Ii=ls=null,H.H=l,H.A=c,Qt=a,It!==null?0:(ne=null,xt=0,ju(),fe)}function AE(){for(;It!==null&&!Oc();)Sp(It)}function Sp(t){var n=Fg(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?Eo(t):It=n}function Ap(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=qg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=qg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:_h(n);default:Kg(a,n),n=It=Tm(n,Pi),n=Fg(a,n,Pi)}t.memoizedProps=t.pendingProps,n===null?Eo(t):It=n}function rr(t,n,a,l){Ii=ls=null,_h(n),Xs=null,ol=0;var c=n.return;try{if(hE(t,c,n,a,xt)){fe=1,ro(t,wn(a,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;fe=1,ro(t,wn(a,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:nr||(xt&536870912)!==0?t=!1:(ga=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),bp(n,t)):Eo(n)}function Eo(t){var n=t;do{if((n.flags&32768)!==0){bp(n,ga);return}t=n.return;var a=mE(n.alternate,n,Pi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);fe===0&&(fe=5)}function bp(t,n){do{var a=gE(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);fe=6,It=null}function Rp(t,n,a,l,c,f,g,E,N){t.cancelPendingCommit=null;do To();while(Me!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Qc,Uc(t,a,f,g,E,N),t===ne&&(It=ne=null,xt=0),ar=n,_a=t,ki=a,Wh=f,tf=c,mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wE(Xi,function(){return Vp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,g=Qt,Qt|=4;try{pE(t,n,a)}finally{Qt=g,nt.p=c,H.T=l}}Me=1,Cp(),wp(),Np()}}function Cp(){if(Me===1){Me=0;var t=_a,n=ar,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Qt;Qt|=4;try{rp(n,t);var f=pf,g=fm(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&hm(E.ownerDocument.documentElement,E)){if(N!==null&&qc(E)){var B=N.start,Q=N.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,q=K&&K.defaultView||window;if(q.getSelection){var k=q.getSelection(),ot=E.textContent.length,yt=Math.min(N.start,ot),te=N.end===void 0?yt:Math.min(N.end,ot);!k.extend&&yt>te&&(g=te,te=yt,yt=g);var z=cm(E,yt),I=cm(E,te);if(z&&I&&(k.rangeCount!==1||k.anchorNode!==z.node||k.anchorOffset!==z.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var j=K.createRange();j.setStart(z.node,z.offset),k.removeAllRanges(),yt>te?(k.addRange(j),k.extend(I.node,I.offset)):(j.setEnd(I.node,I.offset),k.addRange(j))}}}}for(K=[],k=E;k=k.parentNode;)k.nodeType===1&&K.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Oo=!!gf,pf=gf=null}finally{Qt=c,nt.p=l,H.T=a}}t.current=n,Me=2}}function wp(){if(Me===2){Me=0;var t=_a,n=ar,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Qt;Qt|=4;try{ep(t,n.alternate,n)}finally{Qt=c,nt.p=l,H.T=a}}Me=3}}function Np(){if(Me===4||Me===3){Me=0,cu();var t=_a,n=ar,a=ki,l=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,ar=_a=null,Dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ya=null),Ri(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(ki&3)!==0&&To(),yi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===ef?Cl++:(Cl=0,ef=t):Cl=0,wl(0)}}function Dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function To(){return Cp(),wp(),Np(),Vp()}function Vp(){if(Me!==5)return!1;var t=_a,n=Wh;Wh=0;var a=Ri(ki),l=H.T,c=nt.p;try{nt.p=32>a?32:a,H.T=null,a=tf,tf=null;var f=_a,g=ki;if(Me=0,ar=_a=null,ki=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,hp(f.current),up(f,f.current,g,a),Qt=E,wl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{nt.p=c,H.T=l,Dp(t,n)}}function Ip(t,n,a){n=wn(a,n),n=Oh(t.stateNode,n,2),t=ha(t,n,2),t!==null&&(Ga(t,2),yi(t))}function Zt(t,n,a){if(t.tag===3)Ip(t,t,a);else for(;n!==null;){if(n.tag===3){Ip(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ya===null||!ya.has(l))){t=wn(a,t),a=Mg(2),l=ha(n,a,2),l!==null&&(Og(a,l,n,t),Ga(l,2),yi(l));break}}n=n.return}}function sf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new vE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Zh=!0,c.add(a),t=bE.bind(null,t,n,a),n.then(t,t))}function bE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ne===t&&(xt&a)===a&&(fe===4||fe===3&&(xt&62914560)===xt&&300>We()-go?(Qt&2)===0&&sr(t,0):Jh|=a,ir===xt&&(ir=0)),yi(t)}function Mp(t,n){n===0&&(n=pu()),t=as(t,n),t!==null&&(Ga(t,n),yi(t))}function RE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Mp(t,a)}function CE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Mp(t,a)}function wE(t,n){return Ie(t,n)}var So=null,lr=null,rf=!1,Ao=!1,lf=!1,Ea=0;function yi(t){t!==lr&&t.next===null&&(lr===null?So=lr=t:lr=lr.next=t),Ao=!0,rf||(rf=!0,DE())}function wl(t,n){if(!lf&&Ao){lf=!0;do for(var a=!1,l=So;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-me(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Up(l,f))}else f=xt,f=Wn(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(a=!0,Up(l,f));l=l.next}while(a);lf=!1}}function NE(){Op()}function Op(){Ao=rf=!1;var t=0;Ea!==0&&BE()&&(t=Ea);for(var n=We(),a=null,l=So;l!==null;){var c=l.next,f=xp(l,n);f===0?(l.next=null,a===null?So=c:a.next=c,c===null&&(lr=a)):(a=l,(t!==0||(f&3)!==0)&&(Ao=!0)),l=c}Me!==0&&Me!==5||wl(t),Ea!==0&&(Ea=0)}function xp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-me(f),E=1<<g,N=c[g];N===-1?((E&a)===0||(E&l)!==0)&&(c[g]=zc(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=ne,a=xt,a=Wn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ln(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ki(l),Ri(a)){case 2:case 8:a=Lr;break;case 32:a=Xi;break;case 268435456:a=hu;break;default:a=Xi}return l=zp.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ki(l),t.callbackPriority=2,t.callbackNode=null,2}function zp(t,n){if(Me!==0&&Me!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(To()&&t.callbackNode!==a)return null;var l=xt;return l=Wn(t,t===ne?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pp(t,l,n),xp(t,We()),t.callbackNode!=null&&t.callbackNode===a?zp.bind(null,t):null)}function Up(t,n){if(To())return null;pp(t,n,!0)}function DE(){PE(function(){(Qt&6)!==0?Ie(Ur,NE):Op()})}function uf(){if(Ea===0){var t=Fs;t===0&&(t=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),Ea=t}return Ea}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Is(""+t)}function jp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function VE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Lp((c[xe]||null).action),g=l.submitter;g&&(n=(n=g[xe]||null)?Lp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ci("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ea!==0){var N=g?jp(c,g):new FormData(c);wh(a,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?jp(c,g):new FormData(c),wh(a,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var of=0;of<Gc.length;of++){var cf=Gc[of],IE=cf.toLowerCase(),ME=cf[0].toUpperCase()+cf.slice(1);Qn(IE,"on"+ME)}Qn(gm,"onAnimationEnd"),Qn(pm,"onAnimationIteration"),Qn(ym,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(K1,"onTransitionRun"),Qn(X1,"onTransitionStart"),Qn(Z1,"onTransitionCancel"),Qn(_m,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Bp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],N=E.instance,B=E.currentTarget;if(E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){Lu(Q)}c.currentTarget=null,f=N}else for(g=0;g<l.length;g++){if(E=l[g],N=E.instance,B=E.currentTarget,E=E.listener,N!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){Lu(Q)}c.currentTarget=null,f=N}}}}function Mt(t,n){var a=n[Cs];a===void 0&&(a=n[Cs]=new Set);var l=t+"__bubble";a.has(l)||(qp(n,t,2,!1),a.add(l))}function hf(t,n,a){var l=0;n&&(l|=4),qp(a,t,l,n)}var bo="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[bo]){t[bo]=!0,qr.forEach(function(a){a!=="selectionchange"&&(OE.has(a)||hf(a,!1,t),hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bo]||(n[bo]=!0,hf("selectionchange",!1,n))}}function qp(t,n,a,l){switch(gy(n)){case 2:var c=l0;break;case 8:c=u0;break;default:c=wf}a=c.bind(null,n,a,t),c=void 0,!Za||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function df(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ii(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ea(function(){var B=f,Q=An(a),K=[];t:{var q=vm.get(t);if(q!==void 0){var k=ci,ot=t;switch(t){case"keypress":if($a(a)===0)break t;case"keydown":case"keyup":k=xu;break;case"focusin":ot="focus",k=ts;break;case"focusout":ot="blur",k=ts;break;case"beforeblur":case"afterblur":k=ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case gm:case pm:case ym:k=wu;break;case _m:k=T;break;case"scroll":case"scrollend":k=$r;break;case"wheel":k=P;break;case"copy":case"cut":case"paste":k=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ni;break;case"toggle":case"beforetoggle":k=Ct}var yt=(n&4)!==0,te=!yt&&(t==="scroll"||t==="scrollend"),z=yt?q!==null?q+"Capture":null:q;yt=[];for(var I=B,j;I!==null;){var Y=I;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||z===null||(Y=Pn(I,z),Y!=null&&yt.push(Dl(I,Y,j))),te)break;I=I.return}0<yt.length&&(q=new k(q,ot,null,a,Q),K.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",q&&a!==Xr&&(ot=a.relatedTarget||a.fromElement)&&(ii(ot)||ot[ei]))break t;if((k||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,k?(ot=a.relatedTarget||a.toElement,k=B,ot=ot?ii(ot):null,ot!==null&&(te=h(ot),yt=ot.tag,ot!==te||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(k=null,ot=B),k!==ot)){if(yt=Wr,Y="onMouseLeave",z="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Ni,Y="onPointerLeave",z="onPointerEnter",I="pointer"),te=k==null?q:fn(k),j=ot==null?q:fn(ot),q=new yt(Y,I+"leave",k,a,Q),q.target=te,q.relatedTarget=j,Y=null,ii(Q)===B&&(yt=new yt(z,I+"enter",ot,a,Q),yt.target=j,yt.relatedTarget=te,Y=yt),te=Y,k&&ot)e:{for(yt=xE,z=k,I=ot,j=0,Y=z;Y;Y=yt(Y))j++;Y=0;for(var gt=I;gt;gt=yt(gt))Y++;for(;0<j-Y;)z=yt(z),j--;for(;0<Y-j;)I=yt(I),Y--;for(;j--;){if(z===I||I!==null&&z===I.alternate){yt=z;break e}z=yt(z),I=yt(I)}yt=null}else yt=null;k!==null&&Pp(K,q,k,yt,!1),ot!==null&&te!==null&&Pp(K,te,ot,yt,!0)}}t:{if(q=B?fn(B):window,k=q.nodeName&&q.nodeName.toLowerCase(),k==="select"||k==="input"&&q.type==="file")var kt=am;else if(nm(q))if(sm)kt=Q1;else{kt=H1;var ht=k1}else k=q.nodeName,!k||k.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Vs(B.elementType)&&(kt=am):kt=G1;if(kt&&(kt=kt(t,B))){im(K,kt,a,Q);break t}ht&&ht(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Fr(q,"number",q.value)}switch(ht=B?fn(B):window,t){case"focusin":(nm(ht)||ht.contentEditable==="true")&&(js=ht,Pc=B,al=null);break;case"focusout":al=Pc=js=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,dm(K,a,Q);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":dm(K,a,Q)}var Nt;if(Gt)t:{switch(t){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Ls?es(t,a)&&(zt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(di&&a.locale!=="ko"&&(Ls||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Ls&&(Nt=Jr()):(oi=Q,Zr="value"in oi?oi.value:oi.textContent,Ls=!0)),ht=Ro(B,zt),0<ht.length&&(zt=new fi(zt,t,null,a,Q),K.push({event:zt,listeners:ht}),Nt?zt.data=Nt:(Nt=Us(a),Nt!==null&&(zt.data=Nt)))),(Nt=Rn?j1(t,a):B1(t,a))&&(zt=Ro(B,"onBeforeInput"),0<zt.length&&(ht=new fi("onBeforeInput","beforeinput",null,a,Q),K.push({event:ht,listeners:zt}),ht.data=Nt)),VE(K,t,B,a,Q)}Bp(K,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Ro(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pn(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=Pn(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function xE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,N=E.alternate,B=E.stateNode;if(E=E.tag,N!==null&&N===l)break;E!==5&&E!==26&&E!==27||B===null||(N=B,c?(B=Pn(a,f),B!=null&&g.unshift(Dl(a,B,N))):c||(B=Pn(a,f),B!=null&&g.push(Dl(a,B,N)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var zE=/\r\n?/g,UE=/\u0000|\uFFFD/g;function kp(t){return(typeof t=="string"?t:""+t).replace(zE,`
`).replace(UE,"")}function Hp(t,n){return n=kp(n),kp(t)===n}function Wt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":Kr(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Is(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Wt(t,n,"name",c.name,c,null),Wt(t,n,"formEncType",c.formEncType,c,null),Wt(t,n,"formMethod",c.formMethod,c,null),Wt(t,n,"formTarget",c.formTarget,c,null)):(Wt(t,n,"encType",c.encType,c,null),Wt(t,n,"method",c.method,c,null),Wt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Is(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qn);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Ns(t,"popover",l);break;case"xlinkActuate":Ae(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ns(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,Ns(t,a,l))}}function mf(t,n,a,l,c,f){switch(a){case"style":Kr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ns(t,a,l)}}}function Ge(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,f,g,a,null)}}c&&Wt(t,n,"srcSet",a.srcSet,a,null),l&&Wt(t,n,"src",a.src,a,null);return;case"input":Mt("invalid",t);var E=f=g=c=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":N=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Wt(t,n,l,Q,a,null)}}Tu(t,f,E,N,B,g,c,!1);return;case"select":Mt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Wt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Ji(t,!!l,n,!1):a!=null&&Ji(t,!!l,a,!0);return;case"textarea":Mt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(t,n,g,E,a,null)}$i(t,l,c,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(t,n,N,l,a,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Mt(Nl[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,B,l,a,null)}return;default:if(Vs(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&mf(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Wt(t,n,E,l,a,null))}function LE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,N=null,B=null,Q=null;for(k in a){var K=a[k];if(a.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":N=K;default:l.hasOwnProperty(k)||Wt(t,n,k,null,l,K)}}for(var q in l){var k=l[q];if(K=a[q],l.hasOwnProperty(q)&&(k!=null||K!=null))switch(q){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":Q=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==K&&Wt(t,n,q,k,l,K)}}Ds(t,g,E,N,B,Q,f,c);return;case"select":k=g=E=q=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":k=N;default:l.hasOwnProperty(f)||Wt(t,n,f,null,l,N)}for(c in l)if(f=l[c],N=a[c],l.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&Wt(t,n,c,f,l,N)}n=E,a=g,l=k,q!=null?Ji(t,!!a,q,!1):!!l!=!!a&&(n!=null?Ji(t,!!a,n,!0):Ji(t,!!a,a?[]:"",!1));return;case"textarea":k=q=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Wt(t,n,g,c,l,f)}Su(t,q,k);return;case"option":for(var ot in a)if(q=a[ot],a.hasOwnProperty(ot)&&q!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Wt(t,n,ot,null,l,q)}for(N in l)if(q=l[N],k=a[N],l.hasOwnProperty(N)&&q!==k&&(q!=null||k!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Wt(t,n,N,q,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)q=a[yt],a.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt)&&Wt(t,n,yt,null,l,q);for(B in l)if(q=l[B],k=a[B],l.hasOwnProperty(B)&&q!==k&&(q!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Wt(t,n,B,q,l,k)}return;default:if(Vs(n)){for(var te in a)q=a[te],a.hasOwnProperty(te)&&q!==void 0&&!l.hasOwnProperty(te)&&mf(t,n,te,void 0,l,q);for(Q in l)q=l[Q],k=a[Q],!l.hasOwnProperty(Q)||q===k||q===void 0&&k===void 0||mf(t,n,Q,q,l,k);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&Wt(t,n,z,null,l,q);for(K in l)q=l[K],k=a[K],!l.hasOwnProperty(K)||q===k||q==null&&k==null||Wt(t,n,K,q,l,k)}function Gp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Gp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>E)break;var Q=N.transferSize,K=N.initiatorType;Q&&Gp(K)&&(N=N.responseEnd,g+=Q*(N<E?1:(E-B)/(N-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gf=null,pf=null;function Co(t){return t.nodeType===9?t:t.ownerDocument}function Qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function BE(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,PE=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(t){return Kp.resolve(null).then(t).catch(kE)}:Yp;function kE(t){setTimeout(function(){throw t})}function Ta(t){return t==="head"}function Xp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),hr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Vl(t.ownerDocument.body);a=c}while(a);hr(n)}function Zp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),ws(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function HE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ni])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function GE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function Jp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function QE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sf=null;function $p(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Mn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Wp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function ty(t,n,a){switch(n=Co(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ws(t)}var On=new Map,ey=new Set;function wo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=nt.d;nt.d={f:FE,r:YE,D:KE,C:XE,L:ZE,m:JE,X:WE,S:$E,M:t0};function FE(){var t=Hi.f(),n=_o();return t||n}function YE(t){var n=Sn(t);n!==null&&n.tag===5&&n.type==="form"?_g(n):Hi.r(t)}var ur=typeof document>"u"?null:document;function ny(t,n,a){var l=ur;if(l&&typeof n=="string"&&n){var c=an(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ey.has(c)||(ey.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ge(n,"link",t),Se(n),l.head.appendChild(n)))}}function KE(t){Hi.D(t),ny("dns-prefetch",t,null)}function XE(t,n){Hi.C(t,n),ny("preconnect",t,n)}function ZE(t,n,a){Hi.L(t,n,a);var l=ur;if(l&&t&&n){var c='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+an(a.imageSizes)+'"]')):c+='[href="'+an(t)+'"]';var f=c;switch(n){case"style":f=or(t);break;case"script":f=cr(t)}On.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),On.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),Ge(n,"link",t),Se(n),l.head.appendChild(n)))}}function JE(t,n){Hi.m(t,n);var a=ur;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cr(t)}if(!On.has(f)&&(t=b({rel:"modulepreload",href:t},n),On.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),Ge(l,"link",t),Se(l),a.head.appendChild(l)}}}function $E(t,n,a){Hi.S(t,n,a);var l=ur;if(l&&t){var c=ai(l).hoistableStyles,f=or(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Il(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=On.get(f))&&Af(t,a);var N=g=l.createElement("link");Se(N),Ge(N,"link",t),N._p=new Promise(function(B,Q){N.onload=B,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,No(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function WE(t,n){Hi.X(t,n);var a=ur;if(a&&t){var l=ai(a).hoistableScripts,c=cr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=b({src:t,async:!0},n),(n=On.get(c))&&bf(t,n),f=a.createElement("script"),Se(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function t0(t,n){Hi.M(t,n);var a=ur;if(a&&t){var l=ai(a).hoistableScripts,c=cr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=On.get(c))&&bf(t,n),f=a.createElement("script"),Se(f),Ge(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function iy(t,n,a,l){var c=(c=Rt.current)?wo(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=or(a.href),a=ai(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=or(a.href);var f=ai(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Il(t)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),f||e0(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cr(a),a=ai(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function or(t){return'href="'+an(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function ay(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function e0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",a),Se(n),t.head.appendChild(n))}function cr(t){return'[src="'+an(t)+'"]'}function Ml(t){return"script[async]"+t}function sy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return n.instance=l,Se(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Se(l),Ge(l,"style",c),No(l,a.precedence,t),n.instance=l;case"stylesheet":c=or(a.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;l=ay(a),(c=On.get(c))&&Af(l,c),f=(t.ownerDocument||t).createElement("link"),Se(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Ge(f,"link",l),n.state.loading|=4,No(f,a.precedence,t),n.instance=f;case"script":return f=cr(a.src),(c=t.querySelector(Ml(f)))?(n.instance=c,Se(c),c):(l=a,(c=On.get(f))&&(l=b({},a),bf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Se(c),Ge(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,No(l,a.precedence,t));return n.instance}function No(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Do=null;function ry(t,n,a){if(Do===null){var l=new Map,c=Do=new Map;c.set(a,l)}else c=Do,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ni]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ly(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function n0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function i0(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=or(l.href),f=n.querySelector(Il(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Vo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Se(f);return}f=n.ownerDocument||n,l=ay(l),(c=On.get(c))&&Af(l,c),f=f.createElement("link"),Se(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),Ge(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rf=0;function a0(t,n){return t.stylesheets&&t.count===0&&Mo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Mo(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rf===0&&(Rf=62500*jE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mo(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Io=null;function Mo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Io=new Map,n.forEach(s0,t),Io=null,Vo.call(t))}function s0(t,n){if(!(n.state.loading&4)){var a=Io.get(t);if(a)var l=a.get(null);else{a=new Map,Io.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:ct,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function r0(t,n,a,l,c,f,g,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function oy(t,n,a,l,c,f,g,E,N,B,Q,K){return t=new r0(t,n,a,g,N,B,Q,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},lh(f),t}function cy(t){return t?(t=Ps,t):Ps}function hy(t,n,a,l,c,f){c=cy(c),l.context===null?l.context=c:l.pendingContext=c,l=ca(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ha(t,l,n),a!==null&&(cn(a,t,n),hl(a,t,n))}function fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Cf(t,n){fy(t,n),(t=t.alternate)&&fy(t,n)}function dy(t){if(t.tag===13||t.tag===31){var n=as(t,67108864);n!==null&&cn(n,t,67108864),Cf(t,67108864)}}function my(t){if(t.tag===13||t.tag===31){var n=En();n=Fa(n);var a=as(t,n);a!==null&&cn(a,t,n),Cf(t,n)}}var Oo=!0;function l0(t,n,a,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,wf(t,n,a,l)}finally{nt.p=f,H.T=c}}function u0(t,n,a,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,wf(t,n,a,l)}finally{nt.p=f,H.T=c}}function wf(t,n,a,l){if(Oo){var c=Nf(l);if(c===null)df(t,n,l,xo,a),py(t,l);else if(c0(c,t,n,a,l))l.stopPropagation();else if(py(t,l),n&4&&-1<o0.indexOf(t)){for(;c!==null;){var f=Sn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=$n(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-me(g);E.entanglements[1]|=N,g&=~N}yi(f),(Qt&6)===0&&(po=We()+500,wl(0))}}break;case 31:case 13:E=as(f,2),E!==null&&cn(E,f,2),_o(),Cf(f,2)}if(f=Nf(l),f===null&&df(t,n,l,xo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(t,n,l,null,a)}}function Nf(t){return t=An(t),Df(t)}var xo=null;function Df(t){if(xo=null,t=ii(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xo=t,null}function gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case Ur:return 2;case Lr:return 8;case Xi:case xc:return 32;case hu:return 268435456;default:return 32}default:return 32}}var Vf=!1,Sa=null,Aa=null,ba=null,xl=new Map,zl=new Map,Ra=[],o0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(t,n){switch(t){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Sn(n),n!==null&&dy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function c0(t,n,a,l,c){switch(n){case"focusin":return Sa=Ul(Sa,t,n,a,l,c),!0;case"dragenter":return Aa=Ul(Aa,t,n,a,l,c),!0;case"mouseover":return ba=Ul(ba,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Ul(xl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Ul(zl.get(f)||null,t,n,a,l,c)),!0}return!1}function yy(t){var n=ii(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,jn(t.priority,function(){my(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,jn(t.priority,function(){my(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Nf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xr=l,a.target.dispatchEvent(l),Xr=null}else return n=Sn(a),n!==null&&dy(n),t.blockedOn=a,!1;n.shift()}return!0}function _y(t,n,a){zo(t)&&a.delete(n)}function h0(){Vf=!1,Sa!==null&&zo(Sa)&&(Sa=null),Aa!==null&&zo(Aa)&&(Aa=null),ba!==null&&zo(ba)&&(ba=null),xl.forEach(_y),zl.forEach(_y)}function Uo(t,n){t.blockedOn===n&&(t.blockedOn=null,Vf||(Vf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,h0)))}var Lo=null;function vy(t){Lo!==t&&(Lo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lo===t&&(Lo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Df(l||a)===null)continue;break}var f=Sn(a);f!==null&&(t.splice(n,3),n-=3,wh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function hr(t){function n(N){return Uo(N,t)}Sa!==null&&Uo(Sa,t),Aa!==null&&Uo(Aa,t),ba!==null&&Uo(ba,t),xl.forEach(n),zl.forEach(n);for(var a=0;a<Ra.length;a++){var l=Ra[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ra.length&&(a=Ra[0],a.blockedOn===null);)yy(a),a.blockedOn===null&&Ra.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[xe]||null;if(typeof f=="function")g||vy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[xe]||null)E=g.formAction;else if(Df(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),vy(a)}}}function Ey(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function If(t){this._internalRoot=t}jo.prototype.render=If.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=En();hy(a,l,t,n,null,null)},jo.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;hy(t.current,2,null,t,null,null),_o(),n[ei]=null}};function jo(t){this._internalRoot=t}jo.prototype.unstable_scheduleHydration=function(t){if(t){var n=yu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ra.length&&n!==0&&n<Ra[a].priority;a++);Ra.splice(a,0,t),a===0&&yy(t)}};var Ty=e.version;if(Ty!=="19.2.0")throw Error(s(527,Ty,"19.2.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var f0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{Un=Bo.inject(f0),Be=Bo}catch{}}return jl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=Ng,f=Dg,g=Vg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=oy(t,1,!1,null,null,a,l,null,c,f,g,Ey),t[ei]=n.current,ff(t),new If(n)},jl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=Ng,g=Dg,E=Vg,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=oy(t,1,!0,n,a??null,l,c,N,f,g,E,Ey),n.context=cy(null),a=n.current,l=En(),l=Fa(l),c=ca(l),c.callback=null,ha(a,c,l),a=l,n.current.lanes=a,Ga(n,a),yi(n),t[ei]=n.current,ff(t),new jo(n)},jl.version="19.2.0",jl}var Iy;function S0(){if(Iy)return xf.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xf.exports=T0(),xf.exports}var A0=S0();const Xn=[2,3,4,5,6,7,8,9],Y_=r=>"narrative"in r,K_=[{name:"",timeLimit:120,questionSpeed:15e3},{name:"",timeLimit:90,questionSpeed:1e4},{name:"",timeLimit:60,questionSpeed:5e3}],b0=r=>r.length===Xn.length&&Xn.every(e=>r.includes(e)),vd=r=>b0(r)?"all":"partial",My=" ()",R0=({onSelectDifficulty:r,selectedTables:e,onToggleTable:i,onResetTables:s,questionMode:u,onSelectMode:h,onShowLeaderboard:d,fontSize:y,onFontSizeChange:v})=>{const[_,S]=ft.useState("60"),[b,x]=ft.useState("5"),[G,$]=ft.useState(""),[W,J]=ft.useState(!1),at=e.length>0;ft.useEffect(()=>{at&&G===My&&$("")},[at,G]);const lt=dt=>{at&&r(dt)},ct=dt=>{dt.preventDefault();const tt=Number(_),R=Number(b);if(!Number.isFinite(tt)||tt<=0){$(" ()");return}if(!Number.isFinite(R)||R<=0){$(" ()");return}if(R>tt){$("");return}if(!at){$(My);return}$(""),r({name:"",timeLimit:Math.floor(tt),questionSpeed:Math.floor(R*1e3)})},St=dt=>{switch(dt){case"":return"easy";case"":return"normal";case"":return"hard";default:return""}};return D.jsxs("div",{className:"difficulty-selector",children:[D.jsxs("header",{className:"hero",children:[D.jsxs("h1",{className:"hero-title",children:[D.jsx("span",{className:"hero-icon",children:""}),"99 "]}),D.jsx("p",{className:"hero-subtitle",children:""}),d&&D.jsx("button",{type:"button",className:"hero-leaderboard-btn",onClick:d,children:" "})]}),D.jsxs("section",{className:"step-section",children:[D.jsxs("div",{className:"step-header",children:[D.jsx("span",{className:"step-number",children:"1"}),D.jsx("h2",{className:"step-title",children:""})]}),D.jsxs("div",{className:"mode-buttons",children:[D.jsxs("button",{type:"button",className:`mode-card ${u==="basic"?"active":""}`,onClick:()=>h("basic"),children:[D.jsx("div",{className:"mode-icon",children:""}),D.jsxs("div",{className:"mode-content",children:[D.jsx("span",{className:"mode-name",children:""}),D.jsx("span",{className:"mode-desc",children:""})]})]}),D.jsxs("button",{type:"button",className:`mode-card ${u==="narrative"?"active":""}`,onClick:()=>h("narrative"),children:[D.jsx("div",{className:"mode-icon",children:""}),D.jsxs("div",{className:"mode-content",children:[D.jsx("span",{className:"mode-name",children:""}),D.jsx("span",{className:"mode-desc",children:""})]})]})]})]}),D.jsxs("section",{className:"step-section",children:[D.jsxs("div",{className:"step-header",children:[D.jsx("span",{className:"step-number",children:"2"}),D.jsx("h2",{className:"step-title",children:""}),D.jsxs("span",{className:"step-hint",children:[" ",e.length,"/",Xn.length," "]})]}),D.jsx("div",{className:"table-grid",children:Xn.map(dt=>{const tt=e.includes(dt);return D.jsxs("button",{type:"button",className:`table-chip ${tt?"checked":""}`,onClick:()=>i(dt),children:[dt," "]},dt)})}),D.jsxs("div",{className:"table-actions",children:[!at&&D.jsx("div",{className:"table-error",children:""}),at&&e.length!==Xn.length&&D.jsx("button",{type:"button",className:"table-reset",onClick:s,children:""})]})]}),D.jsxs("section",{className:"step-section",children:[D.jsxs("div",{className:"step-header",children:[D.jsx("span",{className:"step-number",children:"3"}),D.jsx("h2",{className:"step-title",children:""})]}),D.jsx("div",{className:"difficulty-grid",children:K_.map(dt=>D.jsxs("button",{onClick:()=>lt(dt),className:`difficulty-card ${St(dt.name)}`,disabled:!at,children:[D.jsx("div",{className:"difficulty-name",children:dt.name}),D.jsxs("div",{className:"difficulty-stats",children:[D.jsxs("div",{className:"stat",children:[D.jsx("span",{className:"stat-icon",children:""}),D.jsxs("span",{children:[dt.timeLimit," "]})]}),D.jsxs("div",{className:"stat",children:[D.jsx("span",{className:"stat-icon",children:""}),D.jsxs("span",{children:[dt.questionSpeed/1e3," /"]})]})]})]},dt.name))})]}),D.jsxs("section",{className:"advanced-section",children:[D.jsxs("button",{type:"button",className:"advanced-toggle",onClick:()=>J(!W),children:[D.jsx("span",{children:""}),D.jsx("span",{className:`toggle-arrow ${W?"open":""}`,children:""})]}),W&&D.jsx("div",{className:"advanced-content",children:D.jsxs("form",{onSubmit:ct,className:"custom-form",children:[D.jsxs("div",{className:"form-row",children:[D.jsxs("label",{className:"form-field",children:[D.jsx("span",{className:"field-label",children:""}),D.jsxs("div",{className:"input-group",children:[D.jsx("input",{type:"number",min:5,value:_,onChange:dt=>S(dt.target.value),required:!0}),D.jsx("span",{className:"input-suffix",children:""})]})]}),D.jsxs("label",{className:"form-field",children:[D.jsx("span",{className:"field-label",children:""}),D.jsxs("div",{className:"input-group",children:[D.jsx("input",{type:"number",min:1,value:b,onChange:dt=>x(dt.target.value),required:!0}),D.jsx("span",{className:"input-suffix",children:""})]})]})]}),G&&D.jsx("div",{className:"custom-error",children:G}),D.jsx("button",{type:"submit",className:"custom-submit",disabled:!at,children:""})]})})]}),D.jsxs("section",{className:"font-size-section",children:[D.jsx("div",{className:"font-size-label",children:""}),D.jsxs("div",{className:"font-size-controls",children:[D.jsx("button",{type:"button",className:`font-size-btn ${y==="normal"?"active":""}`,onClick:()=>v("normal"),children:""}),D.jsx("button",{type:"button",className:`font-size-btn ${y==="large"?"active":""}`,onClick:()=>v("large"),children:""}),D.jsx("button",{type:"button",className:`font-size-btn ${y==="extra-large"?"active":""}`,onClick:()=>v("extra-large"),children:""})]})]})]})},C0=({onNumberClick:r,onBackspace:e,onSubmit:i,disabled:s})=>{const u=["1","2","3","4","5","6","7","8","9"],h=ft.useCallback((d,y)=>{d.preventDefault(),s||y()},[s]);return D.jsx("div",{className:"virtual-keyboard",children:D.jsxs("div",{className:"keyboard-layout",children:[D.jsxs("div",{className:"keyboard-numpad",children:[D.jsx("div",{className:"numpad-grid",children:u.map(d=>D.jsx("button",{className:"keyboard-button",onPointerDown:y=>h(y,()=>r(d)),disabled:s,children:d},d))}),D.jsxs("div",{className:"numpad-bottom",children:[D.jsx("button",{className:"keyboard-button backspace action",onPointerDown:d=>h(d,e),disabled:s,children:" "}),D.jsx("button",{className:"keyboard-button zero",onPointerDown:d=>h(d,()=>r("0")),disabled:s,children:"0"})]})]}),D.jsxs("button",{className:"keyboard-button submit-large",onPointerDown:d=>h(d,i),disabled:s,children:[D.jsx("span",{className:"submit-icon",children:""}),D.jsx("span",{className:"submit-text",children:""})]})]})})},w0=({question:r,userInput:e,score:i,timeRemaining:s,onInputChange:u,onSubmit:h,questionCountdownMs:d,questionIntervalMs:y,isPenaltyActive:v,questionMode:_})=>{const S=_==="narrative"?4:2,b=ft.useRef(e);ft.useEffect(()=>{b.current=e},[e]);const x=ft.useCallback(at=>{if(v)return;const lt=b.current;at.key>="0"&&at.key<="9"?lt.length<S&&u(lt+at.key):at.key==="Backspace"?u(lt.slice(0,-1)):at.key==="Enter"&&h()},[u,h,v,S]);ft.useEffect(()=>{if(!v)return window.addEventListener("keydown",x),()=>{window.removeEventListener("keydown",x)}},[x,v]);const G=ft.useCallback(at=>{const lt=b.current;lt.length<S&&u(lt+at)},[u,S]),$=ft.useCallback(()=>{u(b.current.slice(0,-1))},[u]),W=Math.max(0,Math.ceil(d/1e3)),J=y?Math.min(100,Math.max(0,d/y*100)):0;return D.jsxs("div",{className:"game",children:[D.jsxs("div",{className:"game-header",children:[D.jsxs("div",{className:"score",children:[": ",i]}),D.jsxs("div",{className:"timer",children:[": ",s,""]})]}),D.jsxs("div",{className:"question-display",children:[_==="narrative"&&Y_(r)?D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"narrative-question",children:r.narrative}),D.jsx("div",{className:"narrative-hint",children:""}),D.jsxs("div",{className:"narrative-formula-boxes",children:[D.jsx("div",{className:`formula-box ${e.length>=1?"filled":""}`,children:e[0]||""}),D.jsx("span",{className:"formula-operator",children:""}),D.jsx("div",{className:`formula-box ${e.length>=2?"filled":""}`,children:e[1]||""}),D.jsx("span",{className:"formula-operator",children:"="}),D.jsx("div",{className:`formula-box answer-box ${e.length>=3?"filled":""}`,children:e.slice(2)||""}),D.jsx("span",{className:"answer-unit",children:r.unit})]})]}):D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"question",children:[r.num1,"  ",r.num2," = ?"]}),D.jsx("div",{className:"answer-input",children:e||"_"})]}),D.jsxs("div",{className:"question-progress",children:[D.jsxs("div",{className:"progress-label",children:[" ",W," "]}),D.jsx("div",{className:"progress-bar",role:"progressbar","aria-valuenow":J,"aria-valuemin":0,"aria-valuemax":100,children:D.jsx("div",{className:"progress-fill",style:{width:`${J}%`}})})]})]}),D.jsx(C0,{onNumberClick:G,onBackspace:$,onSubmit:h,disabled:v}),D.jsx("div",{className:"hint",children:" Enter "})]})},N0=()=>{};var Oy={};const X_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},D0=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,S=h>>2,b=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,G=_&63;v||(G=64,d||(x=64)),s.push(i[S],i[b],i[x],i[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(X_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):D0(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const b=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||y==null||_==null||b==null)throw new V0;const x=h<<2|y>>4;if(s.push(x),_!==64){const G=y<<4&240|_>>2;if(s.push(G),b!==64){const $=_<<6&192|b;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class V0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I0=function(r){const e=X_(r);return Z_.encodeByteArray(e,!0)},ec=function(r){return I0(r).replace(/\./g,"")},M0=function(r){try{return Z_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function O0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const x0=()=>O0().__FIREBASE_DEFAULTS__,z0=()=>{if(typeof process>"u"||typeof Oy>"u")return;const r=Oy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},U0=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&M0(r[1]);return e&&JSON.parse(e)},Ed=()=>{try{return N0()||x0()||z0()||U0()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},L0=r=>Ed()?.emulatorHosts?.[r],j0=r=>{const e=L0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},J_=()=>Ed()?.config;class B0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Td(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(r){return(await fetch(r,{credentials:"include"})).ok}function P0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ec(JSON.stringify(i)),ec(JSON.stringify(d)),""].join(".")}const Ql={};function k0(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function H0(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let xy=!1;function G0(r,e){if(typeof window>"u"||typeof document>"u"||!Td(window.location.host)||Ql[r]===e||Ql[r]||xy)return;Ql[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",h=k0().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{xy=!0,d()},x}function S(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=H0(s),G=i("text"),$=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),J=document.getElementById(W)||document.createElement("a"),at=i("preprendIcon"),lt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ct=x.element;y(ct),S(J,W);const St=_();v(lt,at),ct.append(lt,$,J,St),document.body.appendChild(ct)}h?($.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Q0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F0(){const r=Ed()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y0(){return!F0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K0(){try{return typeof indexedDB=="object"}catch{return!1}}function X0(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}const Z0="FirebaseError";class Nr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=Z0,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$_.prototype.create)}}class $_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?J0(h,s):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new Nr(u,y,s)}}function J0(r,e){return r.replace($0,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const $0=/\{\$([^}]+)}/g;function nc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(zy(h)&&zy(d)){if(!nc(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function zy(r){return r!==null&&typeof r=="object"}function Er(r){return r&&r._delegate?r._delegate:r}class Zl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ys="[DEFAULT]";class W0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new B0;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eT(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tT(r){return r===ys?void 0:r}function eT(r){return r.instantiationMode==="EAGER"}class nT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new W0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const iT={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},aT=Pt.INFO,sT={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},rT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=sT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W_{constructor(e){this.name=e,this._logLevel=aT,this._logHandler=rT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const lT=(r,e)=>e.some(i=>r instanceof i);let Uy,Ly;function uT(){return Uy||(Uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oT(){return Ly||(Ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,Yf=new WeakMap,ev=new WeakMap,jf=new WeakMap,Sd=new WeakMap;function cT(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Na(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&tv.set(i,r)}).catch(()=>{}),Sd.set(e,r),e}function hT(r){if(Yf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Yf.set(r,e)}let Kf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Yf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ev.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Na(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fT(r){Kf=r(Kf)}function dT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Bf(this),e,...i);return ev.set(s,e.sort?e.sort():[e]),Na(s)}:oT().includes(r)?function(...e){return r.apply(Bf(this),e),Na(tv.get(this))}:function(...e){return Na(r.apply(Bf(this),e))}}function mT(r){return typeof r=="function"?dT(r):(r instanceof IDBTransaction&&hT(r),lT(r,uT())?new Proxy(r,Kf):r)}function Na(r){if(r instanceof IDBRequest)return cT(r);if(jf.has(r))return jf.get(r);const e=mT(r);return e!==r&&(jf.set(r,e),Sd.set(e,r)),e}const Bf=r=>Sd.get(r);function gT(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),y=Na(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Na(d.result),v.oldVersion,v.newVersion,Na(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const pT=["get","getKey","getAll","getAllKeys","count"],yT=["put","add","delete","clear"],qf=new Map;function jy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=yT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||pT.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return qf.set(e,h),h}fT(r=>({...r,get:(e,i,s)=>jy(e,i)||r.get(e,i,s),has:(e,i)=>!!jy(e,i)||r.has(e,i)}));class _T{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function vT(r){return r.getComponent()?.type==="VERSION"}const Xf="@firebase/app",By="0.14.6";const Qi=new W_("@firebase/app"),ET="@firebase/app-compat",TT="@firebase/analytics-compat",ST="@firebase/analytics",AT="@firebase/app-check-compat",bT="@firebase/app-check",RT="@firebase/auth",CT="@firebase/auth-compat",wT="@firebase/database",NT="@firebase/data-connect",DT="@firebase/database-compat",VT="@firebase/functions",IT="@firebase/functions-compat",MT="@firebase/installations",OT="@firebase/installations-compat",xT="@firebase/messaging",zT="@firebase/messaging-compat",UT="@firebase/performance",LT="@firebase/performance-compat",jT="@firebase/remote-config",BT="@firebase/remote-config-compat",qT="@firebase/storage",PT="@firebase/storage-compat",kT="@firebase/firestore",HT="@firebase/ai",GT="@firebase/firestore-compat",QT="firebase",FT="12.6.0";const Zf="[DEFAULT]",YT={[Xf]:"fire-core",[ET]:"fire-core-compat",[ST]:"fire-analytics",[TT]:"fire-analytics-compat",[bT]:"fire-app-check",[AT]:"fire-app-check-compat",[RT]:"fire-auth",[CT]:"fire-auth-compat",[wT]:"fire-rtdb",[NT]:"fire-data-connect",[DT]:"fire-rtdb-compat",[VT]:"fire-fn",[IT]:"fire-fn-compat",[MT]:"fire-iid",[OT]:"fire-iid-compat",[xT]:"fire-fcm",[zT]:"fire-fcm-compat",[UT]:"fire-perf",[LT]:"fire-perf-compat",[jT]:"fire-rc",[BT]:"fire-rc-compat",[qT]:"fire-gcs",[PT]:"fire-gcs-compat",[kT]:"fire-fst",[GT]:"fire-fst-compat",[HT]:"fire-vertex","fire-js":"fire-js",[QT]:"fire-js-all"};const ic=new Map,KT=new Map,Jf=new Map;function qy(r,e){try{r.container.addComponent(e)}catch(i){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ac(r){const e=r.name;if(Jf.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Jf.set(e,r);for(const i of ic.values())qy(i,r);for(const i of KT.values())qy(i,r);return!0}function XT(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ZT(r){return r==null?!1:r.settings!==void 0}const JT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new $_("app","Firebase",JT);class $T{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}const WT=FT;function nv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Zf,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw Da.create("bad-app-name",{appName:String(u)});if(i||(i=J_()),!i)throw Da.create("no-options");const h=ic.get(u);if(h){if(nc(i,h.options)&&nc(s,h.config))return h;throw Da.create("duplicate-app",{appName:u})}const d=new nT(u);for(const v of Jf.values())d.addComponent(v);const y=new $T(i,s,d);return ic.set(u,y),y}function tS(r=Zf){const e=ic.get(r);if(!e&&r===Zf&&J_())return nv();if(!e)throw Da.create("no-app",{appName:r});return e}function pr(r,e,i){let s=YT[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}ac(new Zl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const eS="firebase-heartbeat-database",nS=1,Jl="firebase-heartbeat-store";let Pf=null;function iv(){return Pf||(Pf=gT(eS,nS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Da.create("idb-open",{originalErrorMessage:r.message})})),Pf}async function iS(r){try{const i=(await iv()).transaction(Jl),s=await i.objectStore(Jl).get(av(r));return await i.done,s}catch(e){if(e instanceof Nr)Qi.warn(e.message);else{const i=Da.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(i.message)}}}async function Py(r,e){try{const s=(await iv()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,av(r)),await s.done}catch(i){if(i instanceof Nr)Qi.warn(i.message);else{const s=Da.create("idb-set",{originalErrorMessage:i?.message});Qi.warn(s.message)}}}function av(r){return`${r.name}!${r.options.appId}`}const aS=1024,sS=30;class rS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new uS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ky();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>sS){const u=oS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ky(),{heartbeatsToSend:i,unsentEntries:s}=lS(this._heartbeatsCache.heartbeats),u=ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Qi.warn(e),""}}}function ky(){return new Date().toISOString().substring(0,10)}function lS(r,e=aS){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Hy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Hy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class uS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K0()?X0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await iS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hy(r){return ec(JSON.stringify({version:2,heartbeats:r})).length}function oS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function cS(r){ac(new Zl("platform-logger",e=>new _T(e),"PRIVATE")),ac(new Zl("heartbeat",e=>new rS(e),"PRIVATE")),pr(Xf,By,r),pr(Xf,By,"esm2020"),pr("fire-js","")}cS("");var hS="firebase",fS="12.6.0";pr(hS,fS,"app");var Gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Va,sv;(function(){var r;function e(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(O,V,U){for(var w=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)w[Yt-2]=arguments[Yt];return A.prototype[V].apply(O,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(R,A,C){C||(C=0);const O=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)O[V]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(V=0;V<16;++V)O[V]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],V=R.g[2];let U=R.g[3],w;w=A+(U^C&(V^U))+O[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(V^A&(C^V))+O[1]+3905402710&4294967295,U=A+(w<<12&4294967295|w>>>20),w=V+(C^U&(A^C))+O[2]+606105819&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(A^V&(U^A))+O[3]+3250441966&4294967295,C=V+(w<<22&4294967295|w>>>10),w=A+(U^C&(V^U))+O[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(V^A&(C^V))+O[5]+1200080426&4294967295,U=A+(w<<12&4294967295|w>>>20),w=V+(C^U&(A^C))+O[6]+2821735955&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(A^V&(U^A))+O[7]+4249261313&4294967295,C=V+(w<<22&4294967295|w>>>10),w=A+(U^C&(V^U))+O[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(V^A&(C^V))+O[9]+2336552879&4294967295,U=A+(w<<12&4294967295|w>>>20),w=V+(C^U&(A^C))+O[10]+4294925233&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(A^V&(U^A))+O[11]+2304563134&4294967295,C=V+(w<<22&4294967295|w>>>10),w=A+(U^C&(V^U))+O[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=U+(V^A&(C^V))+O[13]+4254626195&4294967295,U=A+(w<<12&4294967295|w>>>20),w=V+(C^U&(A^C))+O[14]+2792965006&4294967295,V=U+(w<<17&4294967295|w>>>15),w=C+(A^V&(U^A))+O[15]+1236535329&4294967295,C=V+(w<<22&4294967295|w>>>10),w=A+(V^U&(C^V))+O[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(A^C))+O[6]+3225465664&4294967295,U=A+(w<<9&4294967295|w>>>23),w=V+(A^C&(U^A))+O[11]+643717713&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(V^U))+O[0]+3921069994&4294967295,C=V+(w<<20&4294967295|w>>>12),w=A+(V^U&(C^V))+O[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(A^C))+O[10]+38016083&4294967295,U=A+(w<<9&4294967295|w>>>23),w=V+(A^C&(U^A))+O[15]+3634488961&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(V^U))+O[4]+3889429448&4294967295,C=V+(w<<20&4294967295|w>>>12),w=A+(V^U&(C^V))+O[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(A^C))+O[14]+3275163606&4294967295,U=A+(w<<9&4294967295|w>>>23),w=V+(A^C&(U^A))+O[3]+4107603335&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(V^U))+O[8]+1163531501&4294967295,C=V+(w<<20&4294967295|w>>>12),w=A+(V^U&(C^V))+O[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=U+(C^V&(A^C))+O[2]+4243563512&4294967295,U=A+(w<<9&4294967295|w>>>23),w=V+(A^C&(U^A))+O[7]+1735328473&4294967295,V=U+(w<<14&4294967295|w>>>18),w=C+(U^A&(V^U))+O[12]+2368359562&4294967295,C=V+(w<<20&4294967295|w>>>12),w=A+(C^V^U)+O[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^V)+O[8]+2272392833&4294967295,U=A+(w<<11&4294967295|w>>>21),w=V+(U^A^C)+O[11]+1839030562&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^A)+O[14]+4259657740&4294967295,C=V+(w<<23&4294967295|w>>>9),w=A+(C^V^U)+O[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^V)+O[4]+1272893353&4294967295,U=A+(w<<11&4294967295|w>>>21),w=V+(U^A^C)+O[7]+4139469664&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^A)+O[10]+3200236656&4294967295,C=V+(w<<23&4294967295|w>>>9),w=A+(C^V^U)+O[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^V)+O[0]+3936430074&4294967295,U=A+(w<<11&4294967295|w>>>21),w=V+(U^A^C)+O[3]+3572445317&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^A)+O[6]+76029189&4294967295,C=V+(w<<23&4294967295|w>>>9),w=A+(C^V^U)+O[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=U+(A^C^V)+O[12]+3873151461&4294967295,U=A+(w<<11&4294967295|w>>>21),w=V+(U^A^C)+O[15]+530742520&4294967295,V=U+(w<<16&4294967295|w>>>16),w=C+(V^U^A)+O[2]+3299628645&4294967295,C=V+(w<<23&4294967295|w>>>9),w=A+(V^(C|~U))+O[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~V))+O[7]+1126891415&4294967295,U=A+(w<<10&4294967295|w>>>22),w=V+(A^(U|~C))+O[14]+2878612391&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~A))+O[5]+4237533241&4294967295,C=V+(w<<21&4294967295|w>>>11),w=A+(V^(C|~U))+O[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~V))+O[3]+2399980690&4294967295,U=A+(w<<10&4294967295|w>>>22),w=V+(A^(U|~C))+O[10]+4293915773&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~A))+O[1]+2240044497&4294967295,C=V+(w<<21&4294967295|w>>>11),w=A+(V^(C|~U))+O[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~V))+O[15]+4264355552&4294967295,U=A+(w<<10&4294967295|w>>>22),w=V+(A^(U|~C))+O[6]+2734768916&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~A))+O[13]+1309151649&4294967295,C=V+(w<<21&4294967295|w>>>11),w=A+(V^(C|~U))+O[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=U+(C^(A|~V))+O[11]+3174756917&4294967295,U=A+(w<<10&4294967295|w>>>22),w=V+(A^(U|~C))+O[2]+718787259&4294967295,V=U+(w<<15&4294967295|w>>>17),w=C+(U^(V|~A))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,O=this.C;let V=this.h,U=0;for(;U<A;){if(V==0)for(;U<=C;)u(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(O[V++]=R.charCodeAt(U++),V==this.blockSize){u(this,O),V=0;break}}else for(;U<A;)if(O[V++]=R[U++],V==this.blockSize){u(this,O),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)R[A++]=this.g[C]>>>O&255;return R};function h(R,A){var C=y;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function d(R,A){this.h=A;const C=[];let O=!0;for(let V=R.length-1;V>=0;V--){const U=R[V]|0;O&&U==A||(C[V]=U,O=!1)}this.g=C}var y={};function v(R){return-128<=R&&R<128?h(R,function(A){return new d([A|0],A<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return J(_(-R));const A=[];let C=1;for(let O=0;R>=C;O++)A[O]=R/C|0,C*=4294967296;return new d(A,0)}function S(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return J(S(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let O=b;for(let U=0;U<R.length;U+=8){var V=Math.min(8,R.length-U);const w=parseInt(R.substring(U,U+V),A);V<8?(V=_(Math.pow(A,V)),O=O.j(V).add(_(w))):(O=O.j(C),O=O.add(_(w)))}return O}var b=v(0),x=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(W(this))return-J(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);R+=(O>=0?O:4294967296+O)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if($(this))return"0";if(W(this))return"-"+J(this).toString(R);const A=_(Math.pow(R,6));var C=this;let O="";for(;;){const V=St(C,A).g;C=at(C,V.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=V,$(C))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function $(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function W(R){return R.h==-1}r.l=function(R){return R=at(this,R),W(R)?-1:$(R)?0:1};function J(R){const A=R.g.length,C=[];for(let O=0;O<A;O++)C[O]=~R.g[O];return new d(C,~R.h).add(x)}r.abs=function(){return W(this)?J(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let O=0;for(let V=0;V<=A;V++){let U=O+(this.i(V)&65535)+(R.i(V)&65535),w=(U>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);O=w>>>16,U&=65535,w&=65535,C[V]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function at(R,A){return R.add(J(A))}r.j=function(R){if($(this)||$(R))return b;if(W(this))return W(R)?J(this).j(J(R)):J(J(this).j(R));if(W(R))return J(this.j(J(R)));if(this.l(G)<0&&R.l(G)<0)return _(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var O=0;O<2*A;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<R.g.length;V++){const U=this.i(O)>>>16,w=this.i(O)&65535,Yt=R.i(V)>>>16,ee=R.i(V)&65535;C[2*O+2*V]+=w*ee,lt(C,2*O+2*V),C[2*O+2*V+1]+=U*ee,lt(C,2*O+2*V+1),C[2*O+2*V+1]+=w*Yt,lt(C,2*O+2*V+1),C[2*O+2*V+2]+=U*Yt,lt(C,2*O+2*V+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new d(C,0)};function lt(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function ct(R,A){this.g=R,this.h=A}function St(R,A){if($(A))throw Error("division by zero");if($(R))return new ct(b,b);if(W(R))return A=St(J(R),A),new ct(J(A.g),J(A.h));if(W(A))return A=St(R,J(A)),new ct(J(A.g),A.h);if(R.g.length>30){if(W(R)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var C=x,O=A;O.l(R)<=0;)C=dt(C),O=dt(O);var V=tt(C,1),U=tt(O,1);for(O=tt(O,2),C=tt(C,2);!$(O);){var w=U.add(O);w.l(R)<=0&&(V=V.add(C),U=w),O=tt(O,1),C=tt(C,1)}return A=at(R,V.j(A)),new ct(V,A)}for(V=b;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(C),w=U.j(A);W(w)||w.l(R)>0;)C-=O,U=_(C),w=U.j(A);$(U)&&(U=x),V=V.add(U),R=at(R,w)}return new ct(V,R)}r.B=function(R){return St(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)&R.i(O);return new d(C,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)|R.i(O);return new d(C,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)^R.i(O);return new d(C,this.h^R.h)};function dt(R){const A=R.g.length+1,C=[];for(let O=0;O<A;O++)C[O]=R.i(O)<<1|R.i(O-1)>>>31;return new d(C,R.h)}function tt(R,A){const C=A>>5;A%=32;const O=R.g.length-C,V=[];for(let U=0;U<O;U++)V[U]=A>0?R.i(U+C)>>>A|R.i(U+C+1)<<32-A:R.i(U+C);return new d(V,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,sv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Va=d}).apply(typeof Gy<"u"?Gy:typeof self<"u"?self:typeof window<"u"?window:{});var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rv,Pl,lv,Ko,$f,uv,ov,cv;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof qo=="object"&&qo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function S(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function b(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,L,P){for(var et=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)et[Ct-2]=arguments[Ct];return m.prototype[L].apply(T,et)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function G(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function $(o,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=o.length||0;const P=L.length||0;o.length=p+P;for(let et=0;et<P;et++)o[p+et]=L[et]}else o.push(L)}}class W{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(o){d.setTimeout(()=>{throw o},0)}function at(){var o=R;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class lt{constructor(){this.h=this.g=null}add(m,p){const T=ct.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ct=new W(()=>new St,o=>o.reset());class St{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,tt=!1,R=new lt,A=()=>{const o=Promise.resolve(void 0);dt=()=>{o.then(C)}};function C(){for(var o;o=at();){try{o.h.call(o.g)}catch(p){J(p)}var m=ct;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}tt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function w(o){return/^[\s\xa0]*$/.test(o)}function Yt(o,m){V.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}b(Yt,V),Yt.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function mt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function jt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Dt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function M(o){const m={};for(const p in o)m[p]=o[p];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let P=0;P<F.length;P++)p=F[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function rt(o){this.src=o,this.g={},this.h=0}rt.prototype.add=function(o,m,p,T,L){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const et=Rt(o,m,T,L);return et>-1?(m=o[et],p||(m.fa=!1)):(m=new nt(m,this.src,P,!!T,L),m.fa=p,o.push(m)),m};function vt(o,m){const p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(mt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Rt(o,m,p,T){for(let L=0;L<o.length;++L){const P=o[L];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),de={};function ie(o,m,p,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ie(o,m[P],p,T,L);return null}return p=zr(p),o&&o[ee]?o.J(m,p,y(T)?!!T.capture:!1,L):bi(o,m,p,!1,T,L)}function bi(o,m,p,T,L,P){if(!m)throw Error("Invalid event type");const et=y(L)?!!L.capture:!!L;let Ct=Pa(o);if(Ct||(o[Ot]=Ct=new rt(o)),p=Ct.add(m,p,T,et,P),p.proxy)return p;if(T=Et(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)U||(L=et),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent($e(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Et(){function o(p){return m.call(o.src,o.listener,p)}const m=qa;return o}function Vt(o,m,p,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)Vt(o,m[P],p,T,L);else T=y(T)?!!T.capture:!!T,p=zr(p),o&&o[ee]?(o=o.i,P=String(m).toString(),P in o.g&&(m=o.g[P],p=Rt(m,p,T,L),p>-1&&(mt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[P],o.h--)))):o&&(o=Pa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Rt(m,p,T,L)),(p=o>-1?m[o]:null)&&nn(p))}function nn(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ee])vt(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent($e(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Pa(m))?(vt(p,o),p.h==0&&(p.src=null,m[Ot]=null)):mt(o)}}}function $e(o){return o in de?de[o]:de[o]="on"+o}function qa(o,m){if(o.da)o=!0;else{m=new Yt(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&nn(o),o=p.call(T,m)}return o}function Pa(o){return o=o[Ot],o instanceof rt?o:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zr(o){return typeof o=="function"?o:(o[xr]||(o[xr]=function(m){return o.handleEvent(m)}),o[xr])}function ve(){O.call(this),this.i=new rt(this),this.M=this,this.G=null}b(ve,O),ve.prototype[ee]=!0,ve.prototype.removeEventListener=function(o,m,p,T){Vt(this,o,m,p,T)};function Ie(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new V(m,o);else if(m instanceof V)m.target=m.target||o;else{var L=m;m=new V(T,o),it(m,L)}L=!0;let P,et;if(p)for(et=p.length-1;et>=0;et--)P=m.g=p[et],L=Ki(P,T,!0,m)&&L;if(P=m.g=o,L=Ki(P,T,!0,m)&&L,L=Ki(P,T,!1,m)&&L,p)for(et=0;et<p.length;et++)P=m.g=p[et],L=Ki(P,T,!1,m)&&L}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)mt(p[T]);delete o.g[m],o.h--}}this.G=null},ve.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ve.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Ki(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const et=m[P];if(et&&!et.da&&et.capture==p){const Ct=et.listener,ge=et.ha||et.src;et.fa&&vt(o.i,et),L=Ct.call(ge,T)!==!1&&L}}return L&&!T.defaultPrevented}function Oc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function cu(o){o.g=Oc(()=>{o.g=null,o.i&&(o.i=!1,cu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class We extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(o){O.call(this),this.h=o,this.g={}}b(ka,O);var Ur=[];function Lr(o){jt(o.g,function(m,p){this.g.hasOwnProperty(p)&&nn(m)},o),o.g={}}ka.prototype.N=function(){ka.Z.N.call(this),Lr(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,xc=d.JSON.parse,hu=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function fu(){}function du(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){V.call(this,"d")}b(Be,V);function Tn(){V.call(this,"c")}b(Tn,V);var me={},mu=null;function Rs(){return mu=mu||new ve}me.Ia="serverreachability";function gu(o){V.call(this,me.Ia,o)}b(gu,V);function Jn(o){const m=Rs();Ie(m,new gu(m))}me.STAT_EVENT="statevent";function Ha(o,m){V.call(this,me.STAT_EVENT,o),this.stat=m}b(Ha,V);function Ee(o){const m=Rs();Ie(m,new Ha(m,o))}me.Ja="timingevent";function $n(o,m){V.call(this,me.Ja,o),this.size=m}b($n,V);function Wn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function zc(o,m,p,T,L,P){o.info(function(){if(o.g)if(P){var et="",Ct=P.split("&");for(let Gt=0;Gt<Ct.length;Gt++){var ge=Ct[Gt].split("=");if(ge.length>1){const ue=ge[0];ge=ge[1];const Rn=ue.split("_");et=Rn.length>=2&&Rn[1]=="type"?et+(ue+"="+ge+"&"):et+(ue+"=redacted&")}}}else et=null;else et=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function pu(o,m,p,T,L,P,et){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+P+" "+et})}function ti(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uc(o,p)+(T?" "+T:"")})}function Ga(o,m){o.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Uc(o,m){if(!o.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var p=P[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return Xi(P)}catch{return m}}var Qa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Br;function Fa(){}b(Fa,fu),Fa.prototype.g=function(){return new XMLHttpRequest},Br=new Fa;function Ri(o){return encodeURIComponent(String(o))}function yu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function jn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new ka(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var Te={},xe={};function ei(o,m,p){o.M=1,o.A=Ya(Ae(m)),o.u=p,o.R=!0,Cs(o,null)}function Cs(o,m){o.F=Date.now(),ni(o),o.B=Ae(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),Vs(p.i,"t",T),o.C=0,p=o.j.L,o.h=new Bn,o.g=Mu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new We(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ur[0]=L.toString()),L=Ur);for(let P=0;P<L.length;P++){const et=ie(p,L[P],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=o.J?M(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Jn(),zc(o.i,o.v,o.B,o.l,o.S,o.u)}jn.prototype.ba=function(o){o=o.target;const m=this.O;m&&kn(o)==3?m.j():this.Y(o)},jn.prototype.Y=function(o){try{if(o==this.g)t:{const Ct=kn(this.g),ge=this.g.ya(),Gt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||qe(this.g)))){this.K||Ct!=4||ge==7||(ge==8||Gt<=0?Jn(3):Jn(2)),ii(this);var m=this.g.ca();this.X=m;var p=Lc(this);if(this.o=m==200,pu(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var P=T;break e}}P=null}if(o=P)ti(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,o);else{this.o=!1,this.m=3,Ee(12),fn(this),Sn(this);break t}}if(this.R){o=!0;let ue;for(;!this.K&&this.C<p.length;)if(ue=vu(this,p),ue==xe){Ct==4&&(this.m=4,Ee(14),o=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Te){this.m=4,Ee(15),ti(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else ti(this.i,this.l,ue,null),ai(this,ue);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||p.length!=0||this.h.h||(this.m=1,Ee(16),o=!1),this.o=this.o&&o,!o)ti(this.i,this.l,p,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),tl(et),et.P=!0,Ee(11))}}else ti(this.i,this.l,p,null),ai(this,p);Ct==4&&fn(this),this.o&&!this.K&&(Ct==4?Nu(this.j,this):(this.o=!1,ni(this)))}else wi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),fn(this),Sn(this)}}}catch{}finally{}};function Lc(o){if(!_u(o))return o.g.la();const m=qe(o.g);if(m==="")return"";let p="";const T=m.length,L=kn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return fn(o),Sn(o),"";o.h.i=new d.TextDecoder}for(let P=0;P<T;P++)o.h.h=!0,p+=o.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function _u(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function vu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?xe:(p=Number(m.substring(p,T)),isNaN(p)?Te:(T+=1,T+p>m.length?xe:(m=m.slice(T,T+p),o.C=T+p,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function ni(o){o.T=Date.now()+o.H,ws(o,o.H)}function ws(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Wn(_(o.aa,o),m)}function ii(o){o.D&&(d.clearTimeout(o.D),o.D=null)}jn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ga(this.i,this.B),this.M!=2&&(Jn(),Ee(17)),fn(this),this.m=2,Sn(this)):ws(this,this.T-o)};function Sn(o){o.j.I==0||o.K||Nu(o.j,o)}function fn(o){ii(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Lr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ai(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ri(p.h,o))){if(!o.L&&ri(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)zs(p),ia(p);else break t;ts(p),Ee(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Wn(_(p.Va,p),6e3));si(p.h)<=1&&p.ta&&(p.ta=void 0)}else fi(p,11)}else if((o.L||p.g==o)&&zs(p),!w(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const ue=Gt[0];if(!(ue<=p.K))if(p.K=ue,Gt=Gt[1],p.I==2)if(Gt[0]=="c"){p.M=Gt[1],p.ba=Gt[2];const Rn=Gt[3];Rn!=null&&(p.ka=Rn,p.j.info("VER="+p.ka));const di=Gt[4];di!=null&&(p.za=di,p.j.info("SVER="+p.za));const Hn=Gt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Gn=o.g;if(Gn){const es=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var P=T.h;P.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(kr(P,P.h),P.h=null))}if(T.G){const Us=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Us&&(T.wa=Us,Kt(T.J,T.G,Us))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var et=o;if(T.na=Iu(T,T.L?T.ba:null,T.W),et.L){Hr(T.h,et);var Ct=et,ge=T.O;ge&&(Ct.H=ge),Ct.D&&(ii(Ct),ni(Ct)),T.g=et}else Cu(T);p.i.length>0&&hi(p)}else Gt[0]!="stop"&&Gt[0]!="close"||fi(p,7);else p.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?fi(p,7):$r(p):Gt[0]!="noop"&&p.l&&p.l.qa(Gt),p.A=0)}}Jn(4)}catch{}}var Se=class{constructor(o,m){this.g=o,this.map=m}};function qr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function si(o){return o.h?1:o.g?o.g.size:0}function ri(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function kr(o,m){o.g?o.g.add(m):o.h=m}function Hr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}qr.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Gr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return G(o.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ns(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let L,P=null;T>=0?(L=o[p].substring(0,T),P=o[p].substring(T+1)):L=o[p],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function dn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof dn?(this.l=o.l,ze(this,o.j),this.o=o.o,this.g=o.g,Zi(this,o.u),this.h=o.h,Qr(this,bu(o.i)),this.m=o.m):o&&(m=String(o).match(Eu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),Zi(this,m[4]),this.h=li(m[5]||"",!0),Qr(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}dn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Ka(m,Ds,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ka(m,Ds,!0),"@"),o.push(Ri(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Ka(p,p.charAt(0)=="/"?Fr:Tu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Ka(p,Su)),o.join("")},dn.prototype.resolve=function(o){const m=Ae(this);let p=!!o.j;p?ze(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Zi(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let et=0;et<L.length;){const Ct=L[et++];Ct=="."?T&&et==L.length&&P.push(""):Ct==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&et==L.length&&P.push("")):(P.push(Ct),T=!0)}T=P.join("/")}else T=L}return p?m.h=T:p=o.i.toString()!=="",p?Qr(m,bu(o.i)):p=!!o.m,p&&(m.m=o.m),m};function Ae(o){return new dn(o)}function ze(o,m,p){o.j=p?li(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Zi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Qr(o,m,p){m instanceof $i?(o.i=m,Is(o.i,o.l)):(p||(m=Ka(m,Ji)),o.i=new $i(m,o.l))}function Kt(o,m,p){o.i.set(m,p)}function Ya(o){return Kt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function li(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ka(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,an),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function an(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ds=/[#\/\?@]/g,Tu=/[#\?:]/g,Fr=/[#\?]/g,Ji=/[#\?@]/g,Su=/#/g;function $i(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function sn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ns(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=$i.prototype,r.add=function(o,m){sn(this),this.i=null,o=Wi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Au(o,m){sn(o),m=Wi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Yr(o,m){return sn(o),m=Wi(o,m),o.g.has(m)}r.forEach=function(o,m){sn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)};function Kr(o,m){sn(o);let p=[];if(typeof m=="string")Yr(o,m)&&(p=p.concat(o.g.get(Wi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return sn(this),this.i=null,o=Wi(this,o),Yr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Kr(this,o),o.length>0?String(o[0]):m):m};function Vs(o,m,p){Au(o,m),p.length>0&&(o.i=null,o.g.set(Wi(o,m),G(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Ri(p);p=Kr(this,p);for(let P=0;P<p.length;P++){let et=L;p[P]!==""&&(et+="="+Ri(p[P])),o.push(et)}}return this.i=o.join("&")};function bu(o){const m=new $i;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Wi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Is(o,m){m&&!o.j&&(sn(o),o.i=null,o.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(Au(this,T),Vs(this,L,p))},o)),o.j=m}function qn(o,m){const p=new Ln;if(d.Image){const T=new Image;T.onload=S(An,p,"TestLoadImage: loaded",!0,m,T),T.onerror=S(An,p,"TestLoadImage: error",!1,m,T),T.onabort=S(An,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(An,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Xr(o,m){const p=new Ln,T=new AbortController,L=setTimeout(()=>{T.abort(),An(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?An(p,"TestPingServer: ok",!0,m):An(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),An(p,"TestPingServer: error",!1,m)})}function An(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function ta(){this.g=new hu}function ui(o){this.i=o.Sb||null,this.h=o.ab||!1}b(ui,fu),ui.prototype.g=function(){return new Xa(this.i,this.h)};function Xa(o,m){ve.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Xa,ve),r=Xa.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Pn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ms(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ms(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?ea(this):Pn(this),this.readyState==3&&Ms(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,ea(this))},r.Na=function(o){this.g&&(this.response=o,ea(this))},r.ga=function(){this.g&&ea(this)};function ea(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Pn(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Pn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function bn(o){let m="";return jt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Za(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=bn(p),typeof o=="string"?p!=null&&Ri(p):Kt(o,m,p))}function Jt(o){ve.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Jt,ve);var oi=/^https?$/i,Zr=["POST","PUT"];r=Jt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Br.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){Ja(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Zr,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,et]of p)this.g.setRequestHeader(P,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){Ja(this,P)}};function Ja(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Jr(o),Ci(o)}function Jr(o){o.A||(o.A=!0,Ie(o,"complete"),Ie(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ie(this,"complete"),Ie(this,"abort"),Ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},r.Xa=function(){$a(this)};function $a(o){if(o.h&&typeof h<"u"){if(o.v&&kn(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ie(o,"readystatechange"),kn(o)==4){o.h=!1;try{const P=o.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let et=String(o.D).match(Eu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!oi.test(et?et.toLowerCase():"")}p=T}if(p)Ie(o,"complete"),Ie(o,"success");else{o.o=6;try{var L=kn(o)>2?o.g.statusText:""}catch{L=""}o.l=L+" ["+o.ca()+"]",Jr(o)}}finally{Ci(o)}}}}function Ci(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||Ie(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function kn(o){return o.g?o.g.readyState:0}r.ca=function(){try{return kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),xc(m)}};function qe(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(o){const m={};o=(o.g&&kn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(w(o[T]))continue;var p=yu(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[L]||[];m[L]=P,P.push(p)}Dt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function na(o){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,o),this.Za=ci("retryDelaySeedMs",1e4,o),this.Ta=ci("forwardChannelMaxRetries",2,o),this.va=ci("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new qr(o&&o.concurrentRequestLimit),this.Ba=new ta,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=na.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,T){Ee(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),hi(this)};function $r(o){if(Os(o),o.I==3){var m=o.V++,p=Ae(o.J);if(Kt(p,"SID",o.M),Kt(p,"RID",m),Kt(p,"TYPE","terminate"),Wa(o,p),m=new jn(o,o.j,m),m.M=2,m.A=Ya(Ae(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}Vu(o)}function ia(o){o.g&&(tl(o),o.g.cancel(),o.g=null)}function Os(o){ia(o),o.v&&(d.clearTimeout(o.v),o.v=null),zs(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function hi(o){if(!Pr(o.h)&&!o.m){o.m=!0;var m=o.Ea;dt||A(),tt||(dt(),tt=!0),R.add(m,o),o.D=0}}function xs(o,m){return si(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Wn(_(o.Ea,o,m),Du(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const L=new jn(this,this.j,o);let P=this.o;if(this.U&&(P?(P=M(P),it(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Ru(this,L,m),p=Ae(this.J),Kt(p,"RID",o),Kt(p,"CVER",22),this.G&&Kt(p,"X-HTTP-Session-Id",this.G),Wa(this,p),P&&(this.R?m="headers="+Ri(bn(P))+"&"+m:this.u&&Za(p,this.u,P)),kr(this.h,L),this.Ra&&Kt(p,"TYPE","init"),this.S?(Kt(p,"$req",m),Kt(p,"SID","null"),L.U=!0,ei(L,p,null)):ei(L,p,m),this.I=2}}else this.I==3&&(o?Wr(this,o):this.i.length==0||Pr(this.h)||Wr(this))};function Wr(o,m){var p;m?p=m.l:p=o.V++;const T=Ae(o.J);Kt(T,"SID",o.M),Kt(T,"RID",p),Kt(T,"AID",o.K),Wa(o,T),o.u&&o.o&&Za(T,o.u,o.o),p=new jn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=Ru(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),kr(o.h,p),ei(p,T,m)}function Wa(o,m){o.H&&jt(o.H,function(p,T){Kt(m,T,p)}),o.l&&jt({},function(p,T){Kt(m,T,p)})}function Ru(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var L=o.i;let Ct=-1;for(;;){const ge=["count="+p];Ct==-1?p>0?(Ct=L[0].g,ge.push("ofs="+Ct)):Ct=0:ge.push("ofs="+Ct);let Gt=!0;for(let ue=0;ue<p;ue++){var P=L[ue].g;const Rn=L[ue].map;if(P-=Ct,P<0)Ct=Math.max(0,L[ue].g-100),Gt=!1;else try{P="req"+P+"_"||"";try{var et=Rn instanceof Map?Rn:Object.entries(Rn);for(const[di,Hn]of et){let Gn=Hn;y(Hn)&&(Gn=Xi(Hn)),ge.push(P+di+"="+encodeURIComponent(Gn))}}catch(di){throw ge.push(P+"type="+encodeURIComponent("_badmap")),di}}catch{T&&T(Rn)}}if(Gt){et=ge.join("&");break t}}et=void 0}return o=o.i.splice(0,p),m.G=o,et}function Cu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;dt||A(),tt||(dt(),tt=!0),R.add(m,o),o.A=0}}function ts(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Wn(_(o.Da,o),Du(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Wn(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),ia(this),wu(this))};function tl(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function wu(o){o.g=new jn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=Ae(o.na);Kt(m,"RID","rpc"),Kt(m,"SID",o.M),Kt(m,"AID",o.K),Kt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Kt(m,"TO",o.ia),Kt(m,"TYPE","xmlhttp"),Wa(o,m),o.u&&o.o&&Za(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Ya(Ae(m)),p.u=null,p.R=!0,Cs(p,o)}r.Va=function(){this.C!=null&&(this.C=null,ia(this),ts(this),Ee(19))};function zs(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Nu(o,m){var p=null;if(o.g==m){zs(o),tl(o),o.g=null;var T=2}else if(ri(o.h,m))p=m.G,Hr(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=o.D;T=Rs(),Ie(T,new $n(T,p)),hi(o)}else Cu(o);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&xs(o,m)||T==2&&ts(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),L){case 1:fi(o,5);break;case 4:fi(o,10);break;case 3:fi(o,6);break;default:fi(o,2)}}}function Du(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function fi(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const L=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),Ya(T),L?qn(T.toString(),p):Xr(T.toString(),p)}else Ee(2);o.I=0,o.l&&o.l.pa(m),Vu(o),Os(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Vu(o){if(o.I=0,o.ja=[],o.l){const m=Gr(o.h);(m.length!=0||o.i.length!=0)&&($(o.ja,m),$(o.ja,o.i),o.h.i.length=0,G(o.i),o.i.length=0),o.l.oa()}}function Iu(o,m,p){var T=p instanceof dn?Ae(p):new dn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Zi(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new dn(null);T&&ze(P,T),m&&(P.g=m),L&&Zi(P,L),p&&(P.h=p),T=P}return p=o.G,m=o.wa,p&&m&&Kt(T,p,m),Kt(T,"VER",o.ka),Wa(o,T),T}function Mu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Jt(new ui({ab:p})):new Jt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function aa(){}aa.prototype.g=function(o,m){return new tn(o,m)};function tn(o,m){ve.call(this),this.g=new na(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!w(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Ni(this)}b(tn,ve),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){$r(this.g)},tn.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Xi(o),o=p);m.i.push(new Se(m.Ya++,o)),m.I==3&&hi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,tn.Z.N.call(this)};function xu(o){Be.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}b(xu,Be);function zu(){Tn.call(this),this.status=1}b(zu,Tn);function Ni(o){this.g=o}b(Ni,Ou),Ni.prototype.ra=function(){Ie(this.g,"a")},Ni.prototype.qa=function(o){Ie(this.g,new xu(o))},Ni.prototype.pa=function(o){Ie(this.g,new zu)},Ni.prototype.oa=function(){Ie(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,cv=function(){return new aa},ov=function(){return Rs()},uv=me,$f={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qa.NO_ERROR=0,Qa.TIMEOUT=8,Qa.HTTP_ERROR=6,Ko=Qa,jr.COMPLETE="complete",lv=jr,du.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Pl=du,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,rv=Jt}).apply(typeof qo<"u"?qo:typeof self<"u"?self:typeof window<"u"?window:{});const Qy="@firebase/firestore",Fy="4.9.2";class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let Dr="12.3.0";const vs=new W_("@firebase/firestore");function fr(){return vs.logLevel}function ut(r,...e){if(vs.logLevel<=Pt.DEBUG){const i=e.map(Ad);vs.debug(`Firestore (${Dr}): ${r}`,...i)}}function Fi(r,...e){if(vs.logLevel<=Pt.ERROR){const i=e.map(Ad);vs.error(`Firestore (${Dr}): ${r}`,...i)}}function Tr(r,...e){if(vs.logLevel<=Pt.WARN){const i=e.map(Ad);vs.warn(`Firestore (${Dr}): ${r}`,...i)}}function Ad(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,hv(r,s,i)}function hv(r,e,i){let s=`FIRESTORE (${Dr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Fi(s),new Error(s)}function Ft(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||hv(e,u,s)}function bt(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Nr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ia{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class fv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class mS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class gS{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ia,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ia)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new fv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class pS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new pS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _S{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ZT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const u=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class bd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=vS(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Ut(r,e){return r<e?-1:r>e?1:0}function Wf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),h=e.charAt(s);if(u!==h)return kf(u)===kf(h)?Ut(u,h):kf(u)?1:-1}return Ut(r.length,e.length)}const ES=55296,TS=57343;function kf(r){const e=r.charCodeAt(0);return e>=ES&&e<=TS}function Sr(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}const Ky="__name__";class _i{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=_i.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Ut(e.length,i.length)}static compareSegments(e,i){const s=_i.isNumericId(e),u=_i.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?_i.extractNumericId(e).compare(_i.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class ae extends _i{construct(e,i,s){return new ae(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const SS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends _i{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return SS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new Fe([Ky])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new st(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(s+=y,u++):(h(),u++)}if(h(),d)throw new st(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ae.fromString(e))}static fromName(e){return new pt(ae.fromString(e).popFirst(5))}static empty(){return new pt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ae.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ae(e.slice()))}}function dv(r,e,i){if(!i)throw new st(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function AS(r,e,i,s){if(e===!0&&s===!0)throw new st(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Xy(r){if(!pt.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zy(r){if(pt.isDocumentKey(r))throw new st(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _c(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function sc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new st(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_c(r);throw new st(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function bS(r,e){if(e<=0)throw new st(X.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function Ve(r,e){const i={typeString:r};return e&&(i.value=e),i}function su(r,e){if(!mv(r))throw new st(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new st(X.INVALID_ARGUMENT,i);return!0}const Jy=-62135596800,$y=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(e){return se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*$y);return new se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jy)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,se._jsonSchema))return new se(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ve("string",se._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new se(0,0))}static max(){return new Tt(new se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function RS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=Tt.fromTimestamp(s===1e9?new se(i+1,0):new se(i,s));return new Oa(u,pt.empty(),e)}function CS(r){return new Oa(r.readTime,r.key,$l)}class Oa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Oa(Tt.min(),pt.empty(),$l)}static max(){return new Oa(Tt.max(),pt.empty(),$l)}}function wS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:Ut(r.largestBatchId,e.largestBatchId))}const NS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vr(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==NS)throw r;ut("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>s(v)))})),d=!0,h===u&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((u=>u?Z.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,h)=>{s.push(i.call(this,u,h))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((S=>{d[_]=S,++y,y===h&&s(d)}),(S=>u(S)))}}))}static doWhile(e,i){return new Z(((s,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):s()};h()}))}}function VS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ir(r){return r.name==="IndexedDbTransactionError"}class vc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vc.ce=-1;const Rd=-1;function Ec(r){return r==null}function rc(r){return r===0&&1/r==-1/0}function IS(r){return typeof r=="number"&&Number.isInteger(r)&&!rc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const gv="";function MS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Wy(e)),e=OS(r.get(i),e);return Wy(e)}function OS(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case gv:i+="";break;default:i+=h}}return i}function Wy(r){return r+gv+""}function t_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ts(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function pv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ce{constructor(e,i){this.comparator=e,this.root=i||Qe.EMPTY}insert(e,i){return new ce(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Po(this.root,e,this.comparator,!1)}getReverseIterator(){return new Po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Po(this.root,e,this.comparator,!0)}}class Po{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??Qe.RED,this.left=u??Qe.EMPTY,this.right=h??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new Qe(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Qe.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new Qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new Kn([])}unionWith(e){let i=new Oe(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Sr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class yv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new yv("Invalid base64 string: "+h):h}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const xS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=xS.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function za(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const _v="server_timestamp",vv="__type__",Ev="__previous_value__",Tv="__local_write_time__";function Cd(r){return(r?.mapValue?.fields||{})[vv]?.stringValue===_v}function Tc(r){const e=r.mapValue.fields[Ev];return Cd(e)?Tc(e):e}function Wl(r){const e=xa(r.mapValue.fields[Tv].timestampValue);return new se(e.seconds,e.nanos)}class zS{constructor(e,i,s,u,h,d,y,v,_,S){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const lc="(default)";class tu{constructor(e,i){this.projectId=e,this.database=i||lc}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===lc}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const Sv="__type__",US="__max__",ko={mapValue:{}},Av="__vector__",uc="value";function Ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cd(r)?4:jS(r)?9007199254740991:LS(r)?10:11:_t(28295,{value:r})}function Ai(r,e){if(r===e)return!0;const i=Ua(r);if(i!==Ua(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=xa(u.timestampValue),y=xa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,h){return za(u.bytesValue).isEqual(za(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,h){return _e(u.geoPointValue.latitude)===_e(h.geoPointValue.latitude)&&_e(u.geoPointValue.longitude)===_e(h.geoPointValue.longitude)})(r,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return _e(u.integerValue)===_e(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=_e(u.doubleValue),y=_e(h.doubleValue);return d===y?rc(d)===rc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Sr(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(t_(d)!==t_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ai(d[v],y[v])))return!1;return!0})(r,e);default:return _t(52216,{left:r})}}function eu(r,e){return(r.values||[]).find((i=>Ai(i,e)))!==void 0}function Ar(r,e){if(r===e)return 0;const i=Ua(r),s=Ua(e);if(i!==s)return Ut(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=_e(h.integerValue||h.doubleValue),v=_e(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return n_(r.timestampValue,e.timestampValue);case 4:return n_(Wl(r),Wl(e));case 5:return Wf(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=za(h),v=za(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Ut(y[_],v[_]);if(S!==0)return S}return Ut(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Ut(_e(h.latitude),_e(d.latitude));return y!==0?y:Ut(_e(h.longitude),_e(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return i_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[uc]?.arrayValue,S=v[uc]?.arrayValue,b=Ut(_?.values?.length||0,S?.values?.length||0);return b!==0?b:i_(_,S)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ko.mapValue&&d===ko.mapValue)return 0;if(h===ko.mapValue)return 1;if(d===ko.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const x=Wf(v[b],S[b]);if(x!==0)return x;const G=Ar(y[v[b]],_[S[b]]);if(G!==0)return G}return Ut(v.length,S.length)})(r.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function n_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ut(r,e);const i=xa(r),s=xa(e),u=Ut(i.seconds,s.seconds);return u!==0?u:Ut(i.nanos,s.nanos)}function i_(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=Ar(i[u],s[u]);if(h)return h}return Ut(i.length,s.length)}function br(r){return td(r)}function td(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=xa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return za(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=td(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${td(i.fields[d])}`;return u+"}"})(r.mapValue):_t(61005,{value:r})}function Xo(r){switch(Ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tc(r);return e?16+Xo(e):16;case 5:return 2*r.stringValue.length;case 6:return za(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,h)=>u+Xo(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return Ts(s.fields,((h,d)=>{u+=h.length+Xo(d)})),u})(r.mapValue);default:throw _t(13486,{value:r})}}function a_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ed(r){return!!r&&"integerValue"in r}function wd(r){return!!r&&"arrayValue"in r}function s_(r){return!!r&&"nullValue"in r}function r_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zo(r){return!!r&&"mapValue"in r}function LS(r){return(r?.mapValue?.fields||{})[Sv]?.stringValue===Av}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ts(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Fl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(r.arrayValue.values[i]);return e}return{...r}}function jS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===US}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Zo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=Fe.emptyPath(),s={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=y.popLast()}d?s[y.lastSegment()]=Fl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Zo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Zo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Ts(i,((u,h)=>e[u]=h));for(const u of s)delete e[u]}clone(){return new xn(Fl(this.value))}}function bv(r){const e=[];return Ts(r.fields,((i,s)=>{const u=new Fe([i]);if(Zo(s)){const h=bv(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new Kn(e)}class Je{constructor(e,i,s,u,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Je(e,0,Tt.min(),Tt.min(),Tt.min(),xn.empty(),0)}static newFoundDocument(e,i,s,u){return new Je(e,1,i,Tt.min(),s,u,0)}static newNoDocument(e,i){return new Je(e,2,i,Tt.min(),Tt.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,Tt.min(),Tt.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oc{constructor(e,i){this.position=e,this.inclusive=i}}function l_(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Ar(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function u_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ai(r.position[i],e.position[i]))return!1;return!0}class nu{constructor(e,i="asc"){this.field=e,this.dir=i}}function BS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Rv{}class De extends Rv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new PS(e,i,s):i==="array-contains"?new GS(e,s):i==="in"?new QS(e,s):i==="not-in"?new FS(e,s):i==="array-contains-any"?new YS(e,s):new De(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new kS(e,s):new HS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ar(i,this.value)):i!==null&&Ua(this.value)===Ua(i)&&this.matchesComparison(Ar(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Rv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Zn(e,i)}matches(e){return Cv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cv(r){return r.op==="and"}function wv(r){return qS(r)&&Cv(r)}function qS(r){for(const e of r.filters)if(e instanceof Zn)return!1;return!0}function nd(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+br(r.value);if(wv(r))return r.filters.map((e=>nd(e))).join(",");{const e=r.filters.map((i=>nd(i))).join(",");return`${r.op}(${e})`}}function Nv(r,e){return r instanceof De?(function(s,u){return u instanceof De&&s.op===u.op&&s.field.isEqual(u.field)&&Ai(s.value,u.value)})(r,e):r instanceof Zn?(function(s,u){return u instanceof Zn&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((h,d,y)=>h&&Nv(d,u.filters[y])),!0):!1})(r,e):void _t(19439)}function Dv(r){return r instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${br(i.value)}`})(r):r instanceof Zn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Dv).join(" ,")+"}"})(r):"Filter"}class PS extends De{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class kS extends De{constructor(e,i){super(e,"in",i),this.keys=Vv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class HS extends De{constructor(e,i){super(e,"not-in",i),this.keys=Vv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Vv(r,e){return(e.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class GS extends De{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return wd(i)&&eu(i.arrayValue,this.value)}}class QS extends De{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&eu(this.value.arrayValue,i)}}class FS extends De{constructor(e,i){super(e,"not-in",i)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!eu(this.value.arrayValue,i)}}class YS extends De{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!wd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}class KS{constructor(e,i=null,s=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function o_(r,e=null,i=[],s=[],u=null,h=null,d=null){return new KS(r,e,i,s,u,h,d)}function Nd(r){const e=bt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>nd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),Ec(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>br(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>br(s))).join(",")),e.Te=i}return e.Te}function Dd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!BS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Nv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!u_(r.startAt,e.startAt)&&u_(r.endAt,e.endAt)}function id(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Mr{constructor(e,i=null,s=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XS(r,e,i,s,u,h,d,y){return new Mr(r,e,i,s,u,h,d,y)}function Iv(r){return new Mr(r)}function c_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Mv(r){return r.collectionGroup!==null}function Yl(r){const e=bt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Oe(Fe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new nu(h,s))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new nu(Fe.keyField(),s))}return e.Ie}function vi(r){const e=bt(r);return e.Ee||(e.Ee=ZS(e,Yl(r))),e.Ee}function ZS(r,e){if(r.limitType==="F")return o_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new nu(u.field,h)}));const i=r.endAt?new oc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oc(r.startAt.position,r.startAt.inclusive):null;return o_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ad(r,e){const i=r.filters.concat([e]);return new Mr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function cc(r,e,i){return new Mr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Sc(r,e){return Dd(vi(r),vi(e))&&r.limitType===e.limitType}function Ov(r){return`${Nd(vi(r))}|lt:${r.limitType}`}function dr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>Dv(u))).join(", ")}]`),Ec(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>br(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>br(u))).join(",")),`Target(${s})`})(vi(r))}; limitType=${r.limitType})`}function Ac(r,e){return e.isFoundDocument()&&(function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):pt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,u){for(const h of Yl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,y,v){const _=l_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Yl(s),u)||s.endAt&&!(function(d,y,v){const _=l_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Yl(s),u))})(r,e)}function JS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xv(r){return(e,i)=>{let s=!1;for(const u of Yl(r)){const h=$S(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function $S(r,e,i){const s=r.field.isKeyField()?pt.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ar(v,_):_t(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}class Ss{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((i,s)=>{for(const[u,h]of s)e(u,h)}))}isEmpty(){return pv(this.inner)}size(){return this.innerSize}}const WS=new ce(pt.comparator);function Yi(){return WS}const zv=new ce(pt.comparator);function kl(...r){let e=zv;for(const i of r)e=e.insert(i.key,i);return e}function Uv(r){let e=zv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function _s(){return Kl()}function Lv(){return Kl()}function Kl(){return new Ss((r=>r.toString()),((r,e)=>r.isEqual(e)))}const tA=new ce(pt.comparator),eA=new Oe(pt.comparator);function Lt(...r){let e=eA;for(const i of r)e=e.add(i);return e}const nA=new Oe(Ut);function iA(){return nA}function Vd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rc(e)?"-0":e}}function jv(r){return{integerValue:""+r}}function aA(r,e){return IS(e)?jv(e):Vd(r,e)}class bc{constructor(){this._=void 0}}function sA(r,e,i){return r instanceof hc?(function(u,h){const d={fields:{[vv]:{stringValue:_v},[Tv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Cd(h)&&(h=Tc(h)),h&&(d.fields[Ev]=h),{mapValue:d}})(i,e):r instanceof iu?qv(r,e):r instanceof au?Pv(r,e):(function(u,h){const d=Bv(u,h),y=h_(d)+h_(u.Ae);return ed(d)&&ed(u.Ae)?jv(y):Vd(u.serializer,y)})(r,e)}function rA(r,e,i){return r instanceof iu?qv(r,e):r instanceof au?Pv(r,e):i}function Bv(r,e){return r instanceof fc?(function(s){return ed(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class hc extends bc{}class iu extends bc{constructor(e){super(),this.elements=e}}function qv(r,e){const i=kv(e);for(const s of r.elements)i.some((u=>Ai(u,s)))||i.push(s);return{arrayValue:{values:i}}}class au extends bc{constructor(e){super(),this.elements=e}}function Pv(r,e){let i=kv(e);for(const s of r.elements)i=i.filter((u=>!Ai(u,s)));return{arrayValue:{values:i}}}class fc extends bc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function h_(r){return _e(r.integerValue||r.doubleValue)}function kv(r){return wd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lA(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof iu&&u instanceof iu||s instanceof au&&u instanceof au?Sr(s.elements,u.elements,Ai):s instanceof fc&&u instanceof fc?Ai(s.Ae,u.Ae):s instanceof hc&&u instanceof hc})(r.transform,e.transform)}class uA{constructor(e,i){this.version=e,this.transformResults=i}}class Gi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rc{}function Hv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Qv(r.key,Gi.none()):new ru(r.key,r.data,Gi.none());{const i=r.data,s=xn.empty();let u=new Oe(Fe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new As(r.key,s,new Kn(u.toArray()),Gi.none())}}function oA(r,e,i){r instanceof ru?(function(u,h,d){const y=u.value.clone(),v=d_(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof As?(function(u,h,d){if(!Jo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=d_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Gv(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Xl(r,e,i,s){return r instanceof ru?(function(h,d,y,v){if(!Jo(h.precondition,d))return y;const _=h.value.clone(),S=m_(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof As?(function(h,d,y,v){if(!Jo(h.precondition,d))return y;const _=m_(h.fieldTransforms,v,d),S=d.data;return S.setAll(Gv(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(h,d,y){return Jo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function cA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=Bv(s.transform,u||null);h!=null&&(i===null&&(i=xn.empty()),i.set(s.field,h))}return i||null}function f_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Sr(s,u,((h,d)=>lA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ru extends Rc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class As extends Rc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Gv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function d_(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,y=e.data.field(h.field);s.set(h.field,rA(d,y,i[u]))}return s}function m_(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,sA(h,d,e))}return s}class Qv extends Rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hA extends Rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fA{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&oA(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Xl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Xl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Lv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=Hv(d,y);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&Sr(this.mutations,e.mutations,((i,s)=>f_(i,s)))&&Sr(this.baseMutations,e.baseMutations,((i,s)=>f_(i,s)))}}class Id{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return tA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new Id(e,i,s,u)}}class dA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ne,qt;function gA(r){switch(r){case X.OK:return _t(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function Fv(r){if(r===void 0)return Fi("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ne.OK:return X.OK;case Ne.CANCELLED:return X.CANCELLED;case Ne.UNKNOWN:return X.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return X.INTERNAL;case Ne.UNAVAILABLE:return X.UNAVAILABLE;case Ne.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ne.NOT_FOUND:return X.NOT_FOUND;case Ne.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ne.ABORTED:return X.ABORTED;case Ne.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ne.DATA_LOSS:return X.DATA_LOSS;default:return _t(39323,{code:r})}}(qt=Ne||(Ne={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function pA(){return new TextEncoder}const yA=new Va([4294967295,4294967295],0);function g_(r){const e=pA().encode(r),i=new sv;return i.update(e),new Uint8Array(i.digest())}function p_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Va([i,s],0),new Va([u,h],0)]}class Md{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Hl(`Invalid padding: ${i}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Va.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Va.fromNumber(s)));return u.compare(yA)===1&&(u=new Va([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=g_(e),[s,u]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Md(h,u,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=g_(e),[s,u]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Cc(Tt.min(),u,new ce(Ut),Yi(),Lt())}}class lu{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new lu(s,i,Lt(),Lt(),Lt())}}class $o{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class Yv{constructor(e,i){this.targetId=e,this.Ce=i}}class Kv{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class y_{constructor(){this.ve=0,this.Fe=__(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),i=Lt(),s=Lt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:_t(38017,{changeType:h})}})),new lu(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=__()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _A{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yi(),this.Je=Ho(),this.He=Ho(),this.Ye=new ce(Ut)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(id(h))if(s===0){const d=new pt(h.path);this.et(i,d,Je.newNoDocument(d,Tt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=za(s).toUint8Array()}catch(v){if(v instanceof yv)return Tr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Md(d,u,h)}catch(v){return Tr(v instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&id(y.target)){const v=new pt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Je.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Lt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new Cc(e,i,this.Ye,this.je,s);return this.je=Yi(),this.Je=Ho(),this.He=Ho(),this.Ye=new ce(Ut),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new y_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Oe(Ut),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Oe(Ut),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ho(){return new ce(pt.comparator)}function __(){return new ce(pt.comparator)}const vA={asc:"ASCENDING",desc:"DESCENDING"},EA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TA={and:"AND",or:"OR"};class SA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function sd(r,e){return r.useProto3Json||Ec(e)?e:{value:e}}function dc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function AA(r,e){return dc(r,e.toTimestamp())}function Ei(r){return Ft(!!r,49232),Tt.fromTimestamp((function(i){const s=xa(i);return new se(s.seconds,s.nanos)})(r))}function Od(r,e){return rd(r,e).canonicalString()}function rd(r,e){const i=(function(u){return new ae(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Zv(r){const e=ae.fromString(r);return Ft(e1(e),10190,{key:e.toString()}),e}function ld(r,e){return Od(r.databaseId,e.path)}function Hf(r,e){const i=Zv(e);if(i.get(1)!==r.databaseId.projectId)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt($v(i))}function Jv(r,e){return Od(r.databaseId,e)}function bA(r){const e=Zv(r);return e.length===4?ae.emptyPath():$v(e)}function ud(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $v(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function v_(r,e,i){return{name:ld(r,e),fields:i.value.mapValue.fields}}function RA(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(Ft(S===void 0||typeof S=="string",58123),Ye.fromBase64String(S||"")):(Ft(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ye.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?X.UNKNOWN:Fv(_.code);return new st(S,_.message||"")})(d);i=new Kv(s,u,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Hf(r,s.document.name),h=Ei(s.document.updateTime),d=s.document.createTime?Ei(s.document.createTime):Tt.min(),y=new xn({mapValue:{fields:s.document.fields}}),v=Je.newFoundDocument(u,h,d,y),_=s.targetIds||[],S=s.removedTargetIds||[];i=new $o(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Hf(r,s.document),h=s.readTime?Ei(s.readTime):Tt.min(),d=Je.newNoDocument(u,h),y=s.removedTargetIds||[];i=new $o([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Hf(r,s.document),h=s.removedTargetIds||[];i=new $o([],h,u,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new mA(u,h),y=s.targetId;i=new Yv(y,d)}}return i}function CA(r,e){let i;if(e instanceof ru)i={update:v_(r,e.key,e.value)};else if(e instanceof Qv)i={delete:ld(r,e.key)};else if(e instanceof As)i={update:v_(r,e.key,e.data),updateMask:zA(e.fieldMask)};else{if(!(e instanceof hA))return _t(16599,{Vt:e.type});i={verify:ld(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof iu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof au)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof fc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw _t(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:AA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)})(r,e.precondition)),i}function wA(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((i=>(function(u,h){let d=u.updateTime?Ei(u.updateTime):Ei(h);return d.isEqual(Tt.min())&&(d=Ei(h)),new uA(d,u.transformResults||[])})(i,e)))):[]}function NA(r,e){return{documents:[Jv(r,e.path)]}}function DA(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Jv(r,u);const h=(function(_){if(_.length!==0)return t1(Zn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(x){return{field:mr(x.field),direction:MA(x.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=sd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function VA(r){let e=bA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ft(s===1,65062);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(b){const x=Wv(b);return x instanceof Zn&&wv(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function($){return new nu(gr($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let x;return x=typeof b=="object"?b.value:b,Ec(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(b){const x=!!b.before,G=b.values||[];return new oc(G,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,G=b.values||[];return new oc(G,x)})(i.endAt)),XS(e,u,d,h,y,"F",v,_)}function IA(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Wv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=gr(i.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=gr(i.unaryFilter.field);return De.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gr(i.unaryFilter.field);return De.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gr(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return De.create(gr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Zn.create(i.compositeFilter.filters.map((s=>Wv(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function MA(r){return vA[r]}function OA(r){return EA[r]}function xA(r){return TA[r]}function mr(r){return{fieldPath:r.canonicalString()}}function gr(r){return Fe.fromServerFormat(r.fieldPath)}function t1(r){return r instanceof De?(function(i){if(i.op==="=="){if(r_(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NAN"}};if(s_(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(r_(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NOT_NAN"}};if(s_(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mr(i.field),op:OA(i.op),value:i.value}}})(r):r instanceof Zn?(function(i){const s=i.getFilters().map((u=>t1(u)));return s.length===1?s[0]:{compositeFilter:{op:xA(i.op),filters:s}}})(r):_t(54877,{filter:r})}function zA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function e1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class wa{constructor(e,i,s,u,h=Tt.min(),d=Tt.min(),y=Ye.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class UA{constructor(e){this.yt=e}}function LA(r){const e=VA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cc(e,e.limit,"L"):e}class jA{constructor(){this.Cn=new BA}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Oa.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class BA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Oe(ae.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Oe(ae.comparator)).toArray()}}const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n1=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(n1,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class Rr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rr(0)}static cr(){return new Rr(-1)}}const T_="LruGarbageCollector",qA=1048576;function S_([r,e],[i,s]){const u=Ut(r,i);return u===0?Ut(e,s):u}class PA{constructor(e){this.Ir=e,this.buffer=new Oe(S_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();S_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class kA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(T_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ir(i)?ut(T_,"Ignoring IndexedDB error during garbage collection: ",i):await Vr(i)}await this.Vr(3e5)}))}}class HA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(vc.ce);const s=new PA(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(E_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,h,d,y,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(e,u)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),fr()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:b}))))}}function GA(r,e){return new HA(r,e)}class QA{constructor(){this.changes=new Ss((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class YA{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&Xl(s.mutation,u,Kn.empty(),se.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Lt()){const u=_s();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((h=>{let d=kl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=_s();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Lt())))}populateOverlays(e,i,s){const u=[];return s.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,u){let h=Yi();const d=Kl(),y=(function(){return Kl()})();return i.forEach(((v,_)=>{const S=s.get(_.key);u.has(_.key)&&(S===void 0||S.mutation instanceof As)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Xl(S.mutation,_,S.mutation.getFieldMask(),se.now())):d.set(_.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new FA(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Kl();let u=new ce(((d,y)=>d-y)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=s.get(v)||Kn.empty();S=y.applyToLocalView(_,S),s.set(v,S);const b=(u.get(y.batchId)||Lt()).add(v);u=u.insert(y.batchId,b)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,b=Lv();S.forEach((x=>{if(!h.has(x)){const G=Hv(i.get(x),s.get(x));G!==null&&b.set(x,G),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Mv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Z.resolve(_s());let y=$l,v=h;return d.next((_=>Z.forEach(_,((S,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),h.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((x=>{v=v.insert(S,x)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Lt()))).next((S=>({batchId:y,changes:Uv(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next((s=>{let u=kl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=kl();return this.indexManager.getCollectionParents(e,h).next((y=>Z.forEach(y,(v=>{const _=(function(b,x){return new Mr(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((S=>{S.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u)))).next((d=>{h.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Je.newInvalidDocument(S)))}));let y=kl();return d.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&Xl(S.mutation,_,Kn.empty(),se.now()),Ac(i,_)&&(y=y.insert(v,_))})),y}))}}class KA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:Ei(u.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:LA(u.bundledQuery),readTime:Ei(u.readTime)}})(i)),Z.resolve()}}class XA{constructor(){this.overlays=new ce(pt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=_s();return Z.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&s.set(u,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const u=_s(),h=i.length+1,d=new pt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return Z.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ce(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let S=h.get(_.largestBatchId);S===null&&(S=_s(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=_s(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=u)););return Z.resolve(y)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new dA(i,s));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}class ZA{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class xd{constructor(){this.Qr=new Oe(Le.$r),this.Ur=new Oe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new pt(new ae([])),s=new Le(i,e),u=new Le(i,e+1),h=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new pt(new ae([])),s=new Le(i,e),u=new Le(i,e+1);let h=Lt();return this.Ur.forEachInRange([s,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return pt.comparator(e.key,i.key)||Ut(e.Yr,i.Yr)}static Kr(e,i){return Ut(e.Yr,i.Yr)||pt.comparator(e.key,i.key)}}class JA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Le.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fA(h,i,s,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new Le(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),h=u<0?0:u;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Rd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),u=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Oe(Ut);return i.forEach((u=>{const h=new Le(u,0),d=new Le(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;pt.isDocumentKey(h)||(h=h.child(""));const d=new Le(new pt(h),0);let y=new Oe(Ut);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(u=>{const h=new Le(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),u=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class $A{constructor(e){this.ri=e,this.docs=(function(){return new ce(pt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let s=Yi();return i.forEach((u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Je.newInvalidDocument(u))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Yi();const d=i.path,y=new pt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||wS(CS(S),s)<=0||(u.has(S.key)||Ac(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,u){_t(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new WA(this)}getSize(e){return Z.resolve(this.size)}}class WA extends QA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class tb{constructor(e){this.persistence=e,this.si=new Ss((i=>Nd(i)),Dd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new xd,this.targetCount=0,this.ai=Rr.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Rr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),Z.waitFor(h).next((()=>u))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class i1{constructor(e,i){this.ui={},this.overlays={},this.ci=new vc(0),this.li=!1,this.li=!0,this.hi=new ZA,this.referenceDelegate=e(this),this.Pi=new tb(this),this.indexManager=new jA,this.remoteDocumentCache=(function(u){return new $A(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new UA(i),this.Ii=new KA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new XA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new JA(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const u=new eb(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class eb extends DS{constructor(e){super(),this.currentSequenceNumber=e}}class zd{constructor(e){this.persistence=e,this.Ri=new xd,this.Vi=null}static mi(e){return new zd(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const u=pt.fromPath(s);return this.gi(e,u).next((h=>{h||i.removeEntry(u,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class mc{constructor(e,i){this.persistence=e,this.pi=new Ss((s=>MS(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=GA(this,i)}static mi(e,i){return new mc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,u)=>this.br(e,s,u).next((h=>h?Z.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Xo(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return Z.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ud{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Lt(),u=Lt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ud(e,i.fromCache,s,u)}}class nb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ib{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Y0()?8:VS(Q0())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new nb;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(fr()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",dr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(fr()<=Pt.DEBUG&&ut("QueryEngine","Query:",dr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(fr()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",dr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(i))):Z.resolve())}ys(e,i){if(c_(i))return Z.resolve(null);let s=vi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=cc(i,null,"F"),s=vi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Lt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,cc(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,u){return c_(i)||u.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,u)?Z.resolve(null):(fr()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),dr(i)),this.vs(e,d,i,RS(u,$l)).next((y=>y)))}))}Ds(e,i){let s=new Oe(xv(e));return i.forEach(((u,h)=>{Ac(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,s){return fr()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",dr(i)),this.ps.getDocumentsMatchingQuery(e,i,Oa.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Ld="LocalStore",ab=3e8;class sb{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ce(Ut),this.xs=new Ss((h=>Nd(h)),Dd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function rb(r,e,i,s){return new sb(r,e,i,s)}async function a1(r,e){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=Lt();for(const _ of u){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function lb(r,e){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const b=_.batch,x=b.keys();let G=Z.resolve();return x.forEach(($=>{G=G.next((()=>S.getEntry(v,$))).next((W=>{const J=_.docVersions.get($);Ft(J!==null,48541),W.version.compareTo(J)<0&&(b.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),S.addEntry(W)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Lt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function s1(r){const e=bt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function ub(r,e){const i=bt(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((S,b)=>{const x=u.get(b);if(!x)return;y.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,b))));let G=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?G=G.withResumeToken(Ye.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,s)),u=u.insert(b,G),(function(W,J,at){return W.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=ab?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(x,G,S)&&y.push(i.Pi.updateTargetData(h,G))}));let v=Yi(),_=Lt();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),y.push(ob(h,d,e.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!s.isEqual(Tt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(S)}return Z.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function ob(r,e,i){let s=Lt(),u=Lt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Yi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ut(Ld,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function cb(r,e){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function hb(r,e){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((h=>h?(u=h,Z.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new wa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function od(r,e,i){const s=bt(r),u=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Ir(d))throw d;ut(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function A_(r,e,i){const s=bt(r);let u=Tt.min(),h=Lt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const b=bt(v),x=b.xs.get(S);return x!==void 0?Z.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,S)})(s,d,vi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:Tt.min(),i?h:Lt()))).next((y=>(fb(s,JS(e),y),{documents:y,Qs:h})))))}function fb(r,e,i){let s=r.Os.get(e)||Tt.min();i.forEach(((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class b_{constructor(){this.activeTargetIds=iA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class db{constructor(){this.Mo=new b_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new b_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class mb{Oo(e){}shutdown(){}}const R_="ConnectivityMonitor";class C_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(R_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Go=null;function cd(){return Go===null?Go=(function(){return 268435456+Math.round(2147483648*Math.random())})():Go++,"0x"+Go.toString(16)}const Gf="RestConnection",gb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===lc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,h){const d=cd(),y=this.zo(e,i.toUriEncodedString());ut(Gf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),S=Td(_);return this.Jo(e,y,v,s,S).then((b=>(ut(Gf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Tr(Gf,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,u,h,d){return this.Go(e,i,s,u,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),s&&s.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const s=gb[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class yb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class _b extends pb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=cd();return new Promise(((y,v)=>{const _=new rv;_.setWithCredentials(!0),_.listenOnce(lv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Ko.NO_ERROR:const b=_.getResponseJson();ut(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case Ko.TIMEOUT:ut(Xe,`RPC '${e}' ${d} timed out`),v(new st(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ko.HTTP_ERROR:const x=_.getStatus();if(ut(Xe,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const W=(function(at){const lt=at.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(lt)>=0?lt:X.UNKNOWN})($.status);v(new st(W,$.message))}else v(new st(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(X.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut(Xe,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(u);ut(Xe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",S,s,15)}))}T_(e,i,s){const u=cd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=cv(),y=ov(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const S=h.join("");ut(Xe,`Creating RPC '${e}' stream ${u}: ${S}`,v);const b=d.createWebChannel(S,v);this.I_(b);let x=!1,G=!1;const $=new yb({Yo:J=>{G?ut(Xe,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(x||(ut(Xe,`Opening RPC '${e}' stream ${u} transport.`),b.open(),x=!0),ut(Xe,`RPC '${e}' stream ${u} sending:`,J),b.send(J))},Zo:()=>b.close()}),W=(J,at,lt)=>{J.listen(at,(ct=>{try{lt(ct)}catch(St){setTimeout((()=>{throw St}),0)}}))};return W(b,Pl.EventType.OPEN,(()=>{G||(ut(Xe,`RPC '${e}' stream ${u} transport opened.`),$.o_())})),W(b,Pl.EventType.CLOSE,(()=>{G||(G=!0,ut(Xe,`RPC '${e}' stream ${u} transport closed`),$.a_(),this.E_(b))})),W(b,Pl.EventType.ERROR,(J=>{G||(G=!0,Tr(Xe,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new st(X.UNAVAILABLE,"The operation could not be completed")))})),W(b,Pl.EventType.MESSAGE,(J=>{if(!G){const at=J.data[0];Ft(!!at,16349);const lt=at,ct=lt?.error||lt[0]?.error;if(ct){ut(Xe,`RPC '${e}' stream ${u} received error:`,ct);const St=ct.status;let dt=(function(A){const C=Ne[A];if(C!==void 0)return Fv(C)})(St),tt=ct.message;dt===void 0&&(dt=X.INTERNAL,tt="Unknown error status: "+St+" with message "+ct.message),G=!0,$.a_(new st(dt,tt)),b.close()}else ut(Xe,`RPC '${e}' stream ${u} received:`,at),$.u_(at)}})),W(y,uv.STAT_EVENT,(J=>{J.stat===$f.PROXY?ut(Xe,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===$f.NOPROXY&&ut(Xe,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Qf(){return typeof document<"u"?document:null}function wc(r){return new SA(r,!0)}class r1{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&ut("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const w_="PersistentStream";class l1{constructor(e,i,s,u,h,d,y,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new st(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ut(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vb extends l1{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=RA(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Ei(d.readTime):Tt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ud(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=id(v)?{documents:NA(h,v)}:{query:DA(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Xv(h,d.resumeToken);const _=sd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){y.readTime=dc(h,d.snapshotVersion.toTimestamp());const _=sd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=IA(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ud(this.serializer),i.removeTarget=e,this.q_(i)}}class Eb extends l1{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=wA(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ud(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>CA(this.serializer,s)))};this.q_(i)}}class Tb{}class Sb extends Tb{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,rd(i,s),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(X.UNKNOWN,h.toString())}))}Ho(e,i,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,rd(i,s),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ab{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Es="RemoteStore";class bb{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{bs(this)&&(ut(Es,"Restarting streams for network reachability change."),await(async function(v){const _=bt(v);_.Ea.add(4),await uu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nc(_)})(this))}))})),this.Ra=new Ab(s,u)}}async function Nc(r){if(bs(r))for(const e of r.da)await e(!0)}async function uu(r){for(const e of r.da)await e(!1)}function u1(r,e){const i=bt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Pd(i)?qd(i):Or(i).O_()&&Bd(i,e))}function jd(r,e){const i=bt(r),s=Or(i);i.Ia.delete(e),s.O_()&&o1(i,e),i.Ia.size===0&&(s.O_()?s.L_():bs(i)&&i.Ra.set("Unknown"))}function Bd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Or(r).Y_(e)}function o1(r,e){r.Va.Ue(e),Or(r).Z_(e)}function qd(r){r.Va=new _A({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Or(r).start(),r.Ra.ua()}function Pd(r){return bs(r)&&!Or(r).x_()&&r.Ia.size>0}function bs(r){return bt(r).Ea.size===0}function c1(r){r.Va=void 0}async function Rb(r){r.Ra.set("Online")}async function Cb(r){r.Ia.forEach(((e,i)=>{Bd(r,e)}))}async function wb(r,e){c1(r),Pd(r)?(r.Ra.ha(e),qd(r)):r.Ra.set("Unknown")}async function Nb(r,e,i){if(r.Ra.set("Online"),e instanceof Kv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(r,e)}catch(s){ut(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gc(r,s)}else if(e instanceof $o?r.Va.Ze(e):e instanceof Yv?r.Va.st(e):r.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await s1(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Ye.EMPTY_BYTE_STRING,S.snapshotVersion)),o1(h,v);const b=new wa(S.target,v,_,S.sequenceNumber);Bd(h,b)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){ut(Es,"Failed to raise snapshot:",s),await gc(r,s)}}async function gc(r,e,i){if(!Ir(e))throw e;r.Ea.add(1),await uu(r),r.Ra.set("Offline"),i||(i=()=>s1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Es,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Nc(r)}))}function h1(r,e){return e().catch((i=>gc(r,i,e)))}async function Dc(r){const e=bt(r),i=La(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rd;for(;Db(e);)try{const u=await cb(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,Vb(e,u)}catch(u){await gc(e,u)}f1(e)&&d1(e)}function Db(r){return bs(r)&&r.Ta.length<10}function Vb(r,e){r.Ta.push(e);const i=La(r);i.O_()&&i.X_&&i.ea(e.mutations)}function f1(r){return bs(r)&&!La(r).x_()&&r.Ta.length>0}function d1(r){La(r).start()}async function Ib(r){La(r).ra()}async function Mb(r){const e=La(r);for(const i of r.Ta)e.ea(i.mutations)}async function Ob(r,e,i){const s=r.Ta.shift(),u=Id.from(s,e,i);await h1(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await Dc(r)}async function xb(r,e){e&&La(r).X_&&await(async function(s,u){if((function(d){return gA(d)&&d!==X.ABORTED})(u.code)){const h=s.Ta.shift();La(s).B_(),await h1(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Dc(s)}})(r,e),f1(r)&&d1(r)}async function N_(r,e){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),ut(Es,"RemoteStore received new credentials");const s=bs(i);i.Ea.add(3),await uu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nc(i)}async function zb(r,e){const i=bt(r);e?(i.Ea.delete(2),await Nc(i)):e||(i.Ea.add(2),await uu(i),i.Ra.set("Unknown"))}function Or(r){return r.ma||(r.ma=(function(i,s,u){const h=bt(i);return h.sa(),new vb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:Rb.bind(null,r),t_:Cb.bind(null,r),r_:wb.bind(null,r),H_:Nb.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Pd(r)?qd(r):r.Ra.set("Unknown")):(await r.ma.stop(),c1(r))}))),r.ma}function La(r){return r.fa||(r.fa=(function(i,s,u){const h=bt(i);return h.sa(),new Eb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ib.bind(null,r),r_:xb.bind(null,r),ta:Mb.bind(null,r),na:Ob.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Dc(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Es,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class kd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,y=new kd(e,i,d,u,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hd(r,e){if(Fi("AsyncQueue",`${e}: ${r}`),Ir(r))return new st(X.UNAVAILABLE,`${e}: ${r}`);throw r}class yr{static emptySet(e){return new yr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=kl(),this.sortedSet=new ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new yr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class D_{constructor(){this.ga=new ce(pt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Cr{constructor(e,i,s,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Cr(e,i,yr.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class Ub{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Lb{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=bt(i),h=u.queries;u.queries=V_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new st(X.ABORTED,"Firestore shutting down"))}}function V_(){return new Ss((r=>Ov(r)),Sc)}async function jb(r,e){const i=bt(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(s=2):(h=new Ub,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Hd(d,`Initialization of query '${dr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Gd(i)}async function Bb(r,e){const i=bt(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function qb(r,e){const i=bt(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(s=!0);d.wa=u}}s&&Gd(i)}function Pb(r,e,i){const s=bt(r),u=s.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);s.queries.delete(e)}function Gd(r){r.Ca.forEach((e=>{e.next()}))}var hd,I_;(I_=hd||(hd={})).Ma="default",I_.Cache="cache";class kb{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Cr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hd.Cache}}class m1{constructor(e){this.key=e}}class g1{constructor(e){this.key=e}}class Hb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=xv(e),this.tu=new yr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new D_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((S,b)=>{const x=u.get(S),G=Ac(this.query,b)?b:null,$=!!x&&this.mutatedKeys.has(x.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;x&&G?x.data.isEqual(G.data)?$!==W&&(s.track({type:3,doc:G}),J=!0):this.su(x,G)||(s.track({type:2,doc:G}),J=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(y=!0)):!x&&G?(s.track({type:0,doc:G}),J=!0):x&&!G&&(s.track({type:1,doc:x}),J=!0,(v||_)&&(y=!0)),J&&(G?(d=d.add(G),h=W?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,b)=>(function(G,$){const W=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:J})}};return W(G)-W($)})(S.type,b.type)||this.eu(S.doc,b.doc))),this.ou(s),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Cr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new g1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new m1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qd="SyncEngine";class Gb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Qb{constructor(e){this.key=e,this.hu=!1}}class Fb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ss((y=>Ov(y)),Sc),this.Iu=new Map,this.Eu=new Set,this.du=new ce(pt.comparator),this.Au=new Map,this.Ru=new xd,this.Vu={},this.mu=new Map,this.fu=Rr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Yb(r,e,i=!0){const s=T1(r);let u;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await p1(s,e,i,!0),u}async function Kb(r,e){const i=T1(r);await p1(i,e,!0,!1)}async function p1(r,e,i,s){const u=await hb(r.localStore,vi(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await Xb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&u1(r.remoteStore,u),y}async function Xb(r,e,i,s,u){r.pu=(b,x,G)=>(async function(W,J,at,lt){let ct=J.view.ru(at);ct.Cs&&(ct=await A_(W.localStore,J.query,!1).then((({documents:R})=>J.view.ru(R,ct))));const St=lt&&lt.targetChanges.get(J.targetId),dt=lt&&lt.targetMismatches.get(J.targetId)!=null,tt=J.view.applyChanges(ct,W.isPrimaryClient,St,dt);return O_(W,J.targetId,tt.au),tt.snapshot})(r,b,x,G);const h=await A_(r.localStore,e,!0),d=new Hb(e,h.Qs),y=d.ru(h.documents),v=lu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);O_(r,i,_.au);const S=new Gb(e,i,d);return r.Tu.set(e,S),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function Zb(r,e,i){const s=bt(r),u=s.Tu.get(e),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter((d=>!Sc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await od(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&jd(s.remoteStore,u.targetId),fd(s,u.targetId)})).catch(Vr)):(fd(s,u.targetId),await od(s.localStore,u.targetId,!0))}async function Jb(r,e){const i=bt(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),jd(i.remoteStore,s.targetId))}async function $b(r,e,i){const s=s2(r);try{const u=await(function(d,y){const v=bt(d),_=se.now(),S=y.reduce(((G,$)=>G.add($.key)),Lt());let b,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=Yi(),W=Lt();return v.Ns.getEntries(G,S).next((J=>{$=J,$.forEach(((at,lt)=>{lt.isValidDocument()||(W=W.add(at))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,$))).next((J=>{b=J;const at=[];for(const lt of y){const ct=cA(lt,b.get(lt.key).overlayedDocument);ct!=null&&at.push(new As(lt.key,ct,bv(ct.value.mapValue),Gi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,at,y)})).next((J=>{x=J;const at=J.applyToLocalDocumentSet(b,W);return v.documentOverlayCache.saveOverlays(G,J.batchId,at)}))})).then((()=>({batchId:x.batchId,changes:Uv(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(Ut)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,u.batchId,i),await ou(s,u.changes),await Dc(s.remoteStore)}catch(u){const h=Hd(u,"Failed to persist write");i.reject(h)}}async function y1(r,e){const i=bt(r);try{const s=await ub(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(Ft(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Ft(d.hu,14607):u.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await ou(i,s,e)}catch(s){await Vr(s)}}function M_(r,e,i){const s=bt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=bt(d);v.onlineState=y;let _=!1;v.queries.forEach(((S,b)=>{for(const x of b.Sa)x.va(y)&&(_=!0)})),_&&Gd(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Wb(r,e,i){const s=bt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),h=u&&u.key;if(h){let d=new ce(pt.comparator);d=d.insert(h,Je.newNoDocument(h,Tt.min()));const y=Lt().add(h),v=new Cc(Tt.min(),new Map,new ce(Ut),d,y);await y1(s,v),s.du=s.du.remove(h),s.Au.delete(e),Fd(s)}else await od(s.localStore,e,!1).then((()=>fd(s,e,i))).catch(Vr)}async function t2(r,e){const i=bt(r),s=e.batch.batchId;try{const u=await lb(i.localStore,e);v1(i,s,null),_1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ou(i,u)}catch(u){await Vr(u)}}async function e2(r,e,i){const s=bt(r);try{const u=await(function(d,y){const v=bt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(Ft(b!==null,37113),S=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(s.localStore,e);v1(s,e,i),_1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ou(s,u)}catch(u){await Vr(u)}}function _1(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function v1(r,e,i){const s=bt(r);let u=s.Vu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function fd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||E1(r,s)}))}function E1(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(jd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Fd(r))}function O_(r,e,i){for(const s of i)s instanceof m1?(r.Ru.addReference(s.key,e),n2(r,s)):s instanceof g1?(ut(Qd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||E1(r,s.key)):_t(19791,{wu:s})}function n2(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ut(Qd,"New document in limbo: "+i),r.Eu.add(s),Fd(r))}function Fd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new pt(ae.fromString(e)),s=r.fu.next();r.Au.set(s,new Qb(i)),r.du=r.du.insert(i,s),u1(r.remoteStore,new wa(vi(Iv(i.path)),s,"TargetPurposeLimboResolution",vc.ce))}}async function ou(r,e,i){const s=bt(r),u=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){u.push(_);const S=Ud.As(v.targetId,_);h.push(S)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,_){const S=bt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(x=>Z.forEach(x.Es,(G=>S.persistence.referenceDelegate.addReference(b,x.targetId,G))).next((()=>Z.forEach(x.ds,(G=>S.persistence.referenceDelegate.removeReference(b,x.targetId,G)))))))))}catch(b){if(!Ir(b))throw b;ut(Ld,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const G=S.Ms.get(x),$=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion($);S.Ms=S.Ms.insert(x,W)}}})(s.localStore,h))}async function i2(r,e){const i=bt(r);if(!i.currentUser.isEqual(e)){ut(Qd,"User change. New user:",e.toKey());const s=await a1(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new st(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ou(i,s.Ls)}}function a2(r,e){const i=bt(r),s=i.Au.get(e);if(s&&s.hu)return Lt().add(s.key);{let u=Lt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function T1(r){const e=bt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=y1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wb.bind(null,e),e.Pu.H_=qb.bind(null,e.eventManager),e.Pu.yu=Pb.bind(null,e.eventManager),e}function s2(r){const e=bt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e2.bind(null,e),e}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return rb(this.persistence,new ib,e.initialUser,this.serializer)}Cu(e){return new i1(zd.mi,this.serializer)}Du(e){return new db}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class r2 extends pc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof mc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new i1((s=>mc.mi(s,i)),this.serializer)}}class dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>M_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await zb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Lb})()}createDatastore(e){const i=wc(e.databaseInfo.databaseId),s=(function(h){return new _b(h)})(e.databaseInfo);return(function(h,d,y,v){return new Sb(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,h,d,y){return new bb(s,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>M_(this.syncEngine,i,0)),(function(){return C_.v()?new C_:new mb})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,S){const b=new Fb(u,h,d,y,v,_);return S&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=bt(i);ut(Es,"RemoteStore shutting down."),s.Ea.add(5),await uu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dd.provider={build:()=>new dd};class l2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const ja="FirestoreClient";class u2{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ze.UNAUTHENTICATED,this.clientId=bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{ut(ja,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(ja,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Hd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ff(r,e){r.asyncQueue.verifyOperationInProgress(),ut(ja,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await a1(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function x_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await o2(r);ut(ja,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>N_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>N_(e.remoteStore,u))),r._onlineComponents=e}async function o2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(ja,"Using user provided OfflineComponentProvider");try{await Ff(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Tr("Error using user provided cache. Falling back to memory cache: "+i),await Ff(r,new pc)}}else ut(ja,"Using default OfflineComponentProvider"),await Ff(r,new r2(void 0));return r._offlineComponents}async function S1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(ja,"Using user provided OnlineComponentProvider"),await x_(r,r._uninitializedComponentsProvider._online)):(ut(ja,"Using default OnlineComponentProvider"),await x_(r,new dd))),r._onlineComponents}function c2(r){return S1(r).then((e=>e.syncEngine))}async function h2(r){const e=await S1(r),i=e.eventManager;return i.onListen=Yb.bind(null,e.syncEngine),i.onUnlisten=Zb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Kb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Jb.bind(null,e.syncEngine),i}function f2(r,e,i={}){const s=new Ia;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const S=new l2({next:x=>{S.Nu(),d.enqueueAndForget((()=>Bb(h,b))),x.fromCache&&v.source==="server"?_.reject(new st(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),b=new kb(y,S,{includeMetadataChanges:!0,qa:!0});return jb(h,b)})(await h2(r),r.asyncQueue,e,i,s))),s.promise}function A1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const z_=new Map;const b1="firestore.googleapis.com",U_=!0;class L_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b1,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qA)throw new st(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dS;switch(s.type){case"firstParty":return new yS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=z_.get(i);s&&(ut("ComponentProvider","Removing Datastore"),z_.delete(i),s.terminate())})(this),Promise.resolve()}}function d2(r,e,i,s={}){r=sc(r,Vc);const u=Td(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(q0(`https://${y}`),G0("Firestore",!0)),h.host!==b1&&h.host!==y&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:s};if(!nc(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=Ze.MOCK_USER;else{_=P0(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new st(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(b)}r._authCredentials=new mS(new fv(_,S))}}class Ba{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ba(this.firestore,e,this._query)}}class je{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new je(this.firestore,e,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(su(i,je._jsonSchema))return new je(e,s||null,new pt(ae.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:Ve("string",je._jsonSchemaVersion),referencePath:Ve("string")};class Ma extends Ba{constructor(e,i,s){super(e,i,Iv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new pt(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function md(r,e,...i){if(r=Er(r),dv("collection","path",e),r instanceof Vc){const s=ae.fromString(e,...i);return Zy(s),new Ma(r,null,s)}{if(!(r instanceof je||r instanceof Ma))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(e,...i));return Zy(s),new Ma(r.firestore,null,s)}}function m2(r,e,...i){if(r=Er(r),arguments.length===1&&(e=bd.newId()),dv("doc","path",e),r instanceof Vc){const s=ae.fromString(e,...i);return Xy(s),new je(r,null,new pt(s))}{if(!(r instanceof je||r instanceof Ma))throw new st(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(e,...i));return Xy(s),new je(r.firestore,r instanceof Ma?r.converter:null,new pt(s))}}const j_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r1(this,"async_queue_retry"),this._c=()=>{const s=Qf();s&&ut(j_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Qf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ia;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ir(e))throw e;ut(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",q_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=kd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&_t(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function q_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Yd extends Vc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function g2(r,e){const i=typeof r=="object"?r:tS(),s=typeof r=="string"?r:lc,u=XT(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=j0("firestore");h&&d2(u,...h)}return u}function R1(r){if(r._terminated)throw new st(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||p2(r),r._firestoreClient}function p2(r){const e=r._freezeSettings(),i=(function(u,h,d,y){return new zS(u,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,A1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new u2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ye.fromBase64String(e))}catch(i){throw new st(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ve("string",zn._jsonSchemaVersion),bytes:Ve("string")};class Kd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class C1{constructor(e){this._methodName=e}}class Ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(su(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:Ve("string",Ti._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class Si{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Si(e.vectorValues);throw new st(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Ve("string",Si._jsonSchemaVersion),vectorValues:Ve("object")};const y2=/^__.*__$/;class _2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,i,this.fieldTransforms):new ru(e,this.data,i,this.fieldTransforms)}}function w1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class Xd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w1(this.Ac)&&y2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||wc(e)}Cc(e,i,s,u=!1){return new Xd({Ac:e,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N1(r){const e=r._freezeSettings(),i=wc(r._databaseId);return new v2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function E2(r,e,i,s,u,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,u);I1("Data must be an object, but it was:",d,s);const y=D1(s,d);let v,_;if(h.merge)v=new Kn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const b of h.mergeFields){const x=S2(e,b,i);if(!d.contains(x))throw new st(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);b2(S,x)||S.push(x)}v=new Kn(S),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new _2(new xn(y),v,_)}function T2(r,e,i,s=!1){return Zd(i,r.Cc(s?4:3,e))}function Zd(r,e){if(V1(r=Er(r)))return I1("Unsupported field value:",e,r),D1(r,e);if(r instanceof C1)return(function(s,u){if(!w1(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const h=[];let d=0;for(const y of s){let v=Zd(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,u){if((s=Er(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=se.fromDate(s);return{timestampValue:dc(u.serializer,h)}}if(s instanceof se){const h=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dc(u.serializer,h)}}if(s instanceof Ti)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:Xv(u.serializer,s._byteString)};if(s instanceof je){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Od(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Si)return(function(d,y){return{mapValue:{fields:{[Sv]:{stringValue:Av},[uc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Vd(y.serializer,_)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${_c(s)}`)})(r,e)}function D1(r,e){const i={};return pv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(r,((s,u)=>{const h=Zd(u,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function V1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ti||r instanceof zn||r instanceof je||r instanceof C1||r instanceof Si)}function I1(r,e,i){if(!V1(i)||!mv(i)){const s=_c(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function S2(r,e,i){if((e=Er(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return M1(r,e);throw yc("Field path arguments must be of type string or ",r,!1,void 0,i)}const A2=new RegExp("[~\\*/\\[\\]]");function M1(r,e,i){if(e.search(A2)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Kd(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function yc(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new st(X.INVALID_ARGUMENT,y+r+v)}function b2(r,e){return r.some((i=>i.isEqual(e)))}class O1{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ic("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class R2 extends O1{data(){return super.data()}}function Ic(r,e){return typeof e=="string"?M1(r,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}function C2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jd{}class $d extends Jd{}function P_(r,e,...i){let s=[];e instanceof Jd&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof Wd)).length,y=h.filter((v=>v instanceof Mc)).length;if(d>1||d>0&&y>0)throw new st(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const u of s)r=u._apply(r);return r}class Mc extends $d{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Mc(e,i,s)}_apply(e){const i=this._parse(e);return x1(e._query,i),new Ba(e.firestore,e.converter,ad(e._query,i))}_parse(e){const i=N1(e.firestore);return(function(h,d,y,v,_,S,b){let x;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new st(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){G_(b,S);const $=[];for(const W of b)$.push(H_(v,h,W));x={arrayValue:{values:$}}}else x=H_(v,h,b)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||G_(b,S),x=T2(y,d,b,S==="in"||S==="not-in");return De.create(_,S,x)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Bl(r,e,i){const s=e,u=Ic("where",r);return Mc._create(u,s,i)}class Wd extends Jd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Wd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,h){let d=u;const y=h.getFlattenedFilters();for(const v of y)x1(d,v),d=ad(d,v)})(e._query,i),new Ba(e.firestore,e.converter,ad(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tm extends $d{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new tm(e,i)}_apply(e){const i=(function(u,h,d){if(u.startAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new st(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(h,d)})(e._query,this._field,this._direction);return new Ba(e.firestore,e.converter,(function(u,h){const d=u.explicitOrderBy.concat([h]);return new Mr(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)})(e._query,i))}}function Qo(r,e="asc"){const i=e,s=Ic("orderBy",r);return tm._create(s,i)}class em extends $d{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new em(e,i,s)}_apply(e){return new Ba(e.firestore,e.converter,cc(e._query,this._limit,this._limitType))}}function k_(r){return bS("limit",r),em._create("limit",r,"F")}function H_(r,e,i){if(typeof(i=Er(i))=="string"){if(i==="")throw new st(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mv(e)&&i.indexOf("/")!==-1)throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ae.fromString(i));if(!pt.isDocumentKey(s))throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a_(r,new pt(s))}if(i instanceof je)return a_(r,i._key);throw new st(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_c(i)}.`)}function G_(r,e){if(!Array.isArray(r)||r.length===0)throw new st(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x1(r,e){const i=(function(u,h){for(const d of u)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class w2{convertValue(e,i="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ts(e,((u,h)=>{s[u]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[uc].arrayValue?.values?.map((s=>_e(s.doubleValue)));return new Si(i)}convertGeoPoint(e){return new Ti(_e(e.latitude),_e(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Tc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const i=xa(e);return new se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ae.fromString(e);Ft(e1(s),9688,{name:e});const u=new tu(s.get(1),s.get(3)),h=new pt(s.popFirst(5));return u.isEqual(i)||Fi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function N2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Fo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _r extends O1{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Ic("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_r._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_r._jsonSchemaVersion="firestore/documentSnapshot/1.0",_r._jsonSchema={type:Ve("string",_r._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Wo extends _r{data(e={}){return super.data(e)}}class vr{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Fo(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Wo(this._firestore,this._userDataWriter,s.key,s,new Fo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Wo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Fo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Wo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Fo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:D2(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}vr._jsonSchemaVersion="firestore/querySnapshot/1.0",vr._jsonSchema={type:Ve("string",vr._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class V2 extends w2{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,i)}}function Q_(r){r=sc(r,Ba);const e=sc(r.firestore,Yd),i=R1(e),s=new V2(e);return C2(r._query),f2(i,r._query).then((u=>new vr(e,s,r,u)))}function I2(r,e){const i=sc(r.firestore,Yd),s=m2(r),u=N2(r.converter,e);return M2(i,[E2(N1(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,Gi.exists(!1))]).then((()=>s))}function M2(r,e){return(function(s,u){const h=new Ia;return s.asyncQueue.enqueueAndForget((async()=>$b(await c2(s),u,h))),h.promise})(R1(r),e)}(function(e,i=!0){(function(u){Dr=u})(WT),ac(new Zl("firestore",((s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new Yd(new gS(s.getProvider("auth-internal")),new _S(d,s.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(_.options.projectId,S)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),pr(Qy,Fy,e),pr(Qy,Fy,"esm2020")})();const tc={apiKey:"AIzaSyBbfaesl7YSpCzPy87M9LeYnGiGM7EAdUM",authDomain:"iris-test-99.firebaseapp.com",projectId:"iris-test-99",storageBucket:"iris-test-99.firebasestorage.app",messagingSenderId:"393060186716",appId:"1:393060186716:web:37aeff91b3221155444499"},wr=()=>!!(tc.apiKey&&tc.projectId&&tc.appId),O2=nv(tc),gd=g2(O2),pd="leaderboard",Gl=10,F_=r=>{const e=r.data(),i=e.selectedTables||[2,3,4,5,6,7,8,9],s=e.poolType||vd(i);return{id:r.id,name:e.name,score:e.score,timeUsed:e.timeUsed,difficulty:e.difficulty,questionMode:e.questionMode,selectedTables:i,poolType:s,timestamp:e.timestamp?.toDate()||new Date}},x2=async r=>{if(!wr())return console.warn("Firebase "),null;try{const e=r.poolType||vd(r.selectedTables);return(await I2(md(gd,pd),{...r,poolType:e,timestamp:se.now()})).id}catch(e){throw console.error(":",e),e}},z1=async(r,e,i="all")=>{if(!wr())return console.warn("Firebase "),[];try{const s=P_(md(gd,pd),Bl("difficulty","==",r),Bl("questionMode","==",e),Bl("poolType","==",i),Qo("score","desc"),Qo("timeUsed","asc"),k_(Gl)),h=(await Q_(s)).docs.map(F_);if(h.length<Gl){const d=P_(md(gd,pd),Bl("difficulty","==",r),Bl("questionMode","==",e),Qo("score","desc"),Qo("timeUsed","asc"),k_(Gl*2));return(await Q_(d)).docs.map(F_).filter(S=>S.poolType===i).sort((S,b)=>b.score!==S.score?b.score-S.score:S.timeUsed-b.timeUsed).slice(0,Gl)}return h}catch(s){throw console.error(":",s),s}},z2=async(r,e,i,s,u="all")=>{if(!wr())return!1;try{const h=await z1(r,e,u);if(h.length<Gl)return!0;const d=h[h.length-1];return i>d.score||i===d.score&&s<d.timeUsed}catch(h){return console.error(" TOP10 :",h),!1}},Yo=2,ql=20,U2=({score:r,timeUsed:e,difficulty:i,questionMode:s,selectedTables:u,onSubmitted:h,onSkip:d})=>{const[y,v]=ft.useState(""),[_,S]=ft.useState(!1),[b,x]=ft.useState(null),G=lt=>{const ct=lt.target.value.slice(0,ql);v(ct),x(null)},$=()=>{const lt=y.trim();return lt.length<Yo?(x(` ${Yo} `),!1):lt.length>ql?(x(` ${ql} `),!1):!0},W=async lt=>{if(lt.preventDefault(),!!$()){S(!0),x(null);try{await x2({name:y.trim(),score:r,timeUsed:e,difficulty:i,questionMode:s,selectedTables:u}),h(y.trim())}catch(ct){x(""),console.error(ct)}finally{S(!1)}}},J=s==="basic"?"":"",at=u.length===8?"":u.join(", ");return D.jsx("div",{className:"submit-score-overlay",children:D.jsxs("div",{className:"submit-score-modal",children:[D.jsxs("div",{className:"submit-score-header",children:[D.jsx("div",{className:"congrats-emoji",children:""}),D.jsx("h2",{children:"100% "}),D.jsxs("p",{className:"submit-score-info",children:["",i," | ",J,D.jsx("br",{}),"",at,D.jsx("br",{}),"",r,"  | ",e," "]})]}),D.jsxs("form",{onSubmit:W,className:"submit-score-form",children:[D.jsx("label",{htmlFor:"player-name",children:""}),D.jsx("input",{id:"player-name",type:"text",value:y,onChange:G,placeholder:`${Yo}-${ql} `,disabled:_,autoFocus:!0,autoComplete:"off"}),D.jsxs("div",{className:"name-length",children:[y.length,"/",ql]}),b&&D.jsx("div",{className:"submit-error",children:b}),D.jsxs("div",{className:"submit-actions",children:[D.jsx("button",{type:"button",className:"skip-btn",onClick:d,disabled:_,children:""}),D.jsx("button",{type:"submit",className:"submit-btn",disabled:_||y.trim().length<Yo,children:_?"...":""})]})]})]})})},L2=["","",""],j2=[{value:"basic",label:""},{value:"narrative",label:""}],B2=[{value:"all",label:""},{value:"partial",label:""}],U1=({initialDifficulty:r="",initialMode:e="basic",initialPoolType:i="all",highlightName:s,onClose:u})=>{const[h,d]=ft.useState(r),[y,v]=ft.useState(e),[_,S]=ft.useState(i),[b,x]=ft.useState([]),[G,$]=ft.useState(!0),[W,J]=ft.useState(null),at=ft.useCallback(async()=>{if(!wr()){J(""),$(!1);return}$(!0),J(null);try{const tt=await z1(h,y,_);x(tt)}catch(tt){J(""),console.error(tt)}finally{$(!1)}},[h,y,_]);ft.useEffect(()=>{at()},[h,y,_,at]);const lt=tt=>{const R=Math.floor(tt/60),A=tt%60;return R>0?`${R}:${A.toString().padStart(2,"0")}`:`${A}`},ct=tt=>{const R=tt.getMonth()+1,A=tt.getDate(),C=tt.getHours().toString().padStart(2,"0"),O=tt.getMinutes().toString().padStart(2,"0");return`${R}/${A} ${C}:${O}`},St=tt=>{switch(tt){case 1:return"";case 2:return"";case 3:return"";default:return`${tt}`}},dt=tt=>!tt||tt.length===0?"-":tt.length===8?"":tt.join(", ");return D.jsx("div",{className:"leaderboard-overlay",children:D.jsxs("div",{className:"leaderboard-modal",children:[D.jsx("button",{className:"leaderboard-close",onClick:u,children:""}),D.jsx("h2",{className:"leaderboard-title",children:""}),D.jsxs("div",{className:"leaderboard-filters",children:[D.jsxs("div",{className:"filter-group",children:[D.jsx("label",{children:""}),D.jsx("div",{className:"filter-buttons",children:L2.map(tt=>D.jsx("button",{className:`filter-btn ${h===tt?"active":""}`,onClick:()=>d(tt),children:tt},tt))})]}),D.jsxs("div",{className:"filter-group",children:[D.jsx("label",{children:""}),D.jsx("div",{className:"filter-buttons",children:j2.map(tt=>D.jsx("button",{className:`filter-btn ${y===tt.value?"active":""}`,onClick:()=>v(tt.value),children:tt.label},tt.value))})]}),D.jsxs("div",{className:"filter-group",children:[D.jsx("label",{children:""}),D.jsx("div",{className:"filter-buttons",children:B2.map(tt=>D.jsx("button",{className:`filter-btn ${_===tt.value?"active":""}`,onClick:()=>S(tt.value),children:tt.label},tt.value))})]})]}),D.jsxs("div",{className:"leaderboard-content",children:[G&&D.jsx("div",{className:"leaderboard-loading",children:"..."}),W&&D.jsx("div",{className:"leaderboard-error",children:W}),!G&&!W&&b.length===0&&D.jsxs("div",{className:"leaderboard-empty",children:["",D.jsx("br",{}),""]}),!G&&!W&&b.length>0&&D.jsxs("table",{className:"leaderboard-table",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{className:"col-rank",children:""}),D.jsx("th",{className:"col-name",children:""}),D.jsx("th",{className:"col-score",children:""}),D.jsx("th",{className:"col-tables",children:""}),D.jsx("th",{className:"col-time",children:""}),D.jsx("th",{className:"col-date",children:""})]})}),D.jsx("tbody",{children:b.map((tt,R)=>D.jsxs("tr",{className:s&&tt.name===s?"highlight":"",children:[D.jsx("td",{className:"col-rank",children:St(R+1)}),D.jsx("td",{className:"col-name",children:tt.name}),D.jsx("td",{className:"col-score",children:tt.score}),D.jsx("td",{className:"col-tables",children:dt(tt.selectedTables)}),D.jsx("td",{className:"col-time",children:lt(tt.timeUsed)}),D.jsx("td",{className:"col-date",children:ct(tt.timestamp)})]},tt.id))})]})]})]})})},q2=({score:r,attempts:e,timeUsed:i,difficulty:s,questionMode:u,selectedTables:h,onRestart:d})=>{const y=e>0?Math.round(r/e*1e3)/10:0,v=r===e&&e>0,[_,S]=ft.useState(!1),[b,x]=ft.useState(!1),[G,$]=ft.useState(null),[W,J]=ft.useState(!1),[at,lt]=ft.useState(!1),ct=vd(h);ft.useEffect(()=>{(async()=>{if(!v||!wr()){lt(!1);return}J(!0);try{const C=await z2(s,u,r,i,ct);lt(C),C&&S(!0)}catch(C){console.error(" TOP10 :",C),lt(!1)}finally{J(!1)}})()},[v,s,u,r,i,ct]);const St=A=>{$(A),S(!1),x(!0)},dt=()=>{S(!1)},tt=u==="basic"?"":"",R=h.length===8?"":h.join(", ");return D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"game-over",children:[D.jsx("h1",{children:""}),D.jsxs("div",{className:"game-info",children:[D.jsx("span",{className:"info-badge",children:s}),D.jsx("span",{className:"info-badge",children:tt}),D.jsxs("span",{className:"info-badge",children:[": ",R]})]}),D.jsxs("div",{className:"final-score",children:[D.jsx("div",{className:"score-label",children:""}),D.jsx("div",{className:"score-value",children:r})]}),D.jsxs("div",{className:"accuracy",children:[D.jsx("div",{className:"accuracy-label",children:""}),D.jsxs("div",{className:`accuracy-value ${v?"perfect":""}`,children:[y.toFixed(1),"%",v&&" "]}),D.jsxs("div",{className:"accuracy-detail",children:["(",r," / ",e," )"]})]}),D.jsxs("div",{className:"time-used",children:[D.jsx("span",{className:"time-label",children:""}),D.jsxs("span",{className:"time-value",children:[i," "]})]}),W&&D.jsx("div",{className:"checking-status",children:"..."}),v&&at&&!_&&!G&&D.jsx("button",{className:"submit-score-button",onClick:()=>S(!0),children:" "}),G&&D.jsx("div",{className:"submitted-message",children:" "}),D.jsxs("div",{className:"action-buttons",children:[D.jsx("button",{className:"restart-button",onClick:d,children:""}),wr()&&D.jsx("button",{className:"leaderboard-button",onClick:()=>x(!0),children:" "})]})]}),_&&D.jsx(U2,{score:r,timeUsed:i,difficulty:s,questionMode:u,selectedTables:h,onSubmitted:St,onSkip:dt}),b&&D.jsx(U1,{initialDifficulty:s,initialMode:u,initialPoolType:ct,highlightName:G||void 0,onClose:()=>x(!1)})]})},P2=["1","2","3","4","5","6","7","8","9"],k2=({question:r,sequence:e,input:i,error:s,canSubmit:u,onDigit:h,onBackspace:d,onSubmit:y})=>(ft.useEffect(()=>{const v=_=>{_.key>="0"&&_.key<="9"?(_.preventDefault(),h(_.key)):_.key==="Backspace"?(_.preventDefault(),d()):_.key==="Enter"&&u&&(_.preventDefault(),y())};return window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}},[h,d,y,u]),D.jsx("div",{className:"penalty-modal-overlay",role:"dialog","aria-modal":"true",children:D.jsxs("div",{className:"penalty-modal",children:[D.jsx("h3",{children:""}),D.jsxs("div",{className:"penalty-equation",children:[r.num1,"  ",r.num2," = ",r.answer]}),D.jsxs("div",{className:"penalty-instruction",children:["",e.join(" ")," Enter  "]}),D.jsx("div",{className:"penalty-boxes",children:e.map((v,_)=>{const S=_<i.length;return D.jsx("div",{className:`penalty-box ${S?"filled":""}`,children:S?i[_]:""},`penalty-box-${_}`)})}),s&&D.jsx("div",{className:"penalty-error",children:s}),D.jsx("div",{className:"penalty-keyboard",children:D.jsxs("div",{className:"penalty-keyboard-grid",children:[P2.map(v=>D.jsx("button",{type:"button",className:"penalty-key",onClick:()=>h(v),children:v},v)),D.jsx("button",{type:"button",className:"penalty-key action backspace",onClick:d,children:" "}),D.jsx("button",{type:"button",className:"penalty-key zero",onClick:()=>h("0"),children:"0"}),D.jsx("button",{type:"button",className:"penalty-key action submit",onClick:y,disabled:!u,children:" "})]})})]})})),yd=[{id:1,template:"{num1}{num2}",unit:"",category:""},{id:2,template:"{num1}{num2}",unit:"",category:""},{id:3,template:"{num1}{num2}",unit:"",category:""},{id:4,template:"{num1}{num2}",unit:"",category:""},{id:5,template:"{num1}{num2}",unit:"",category:""},{id:6,template:"{num1}{num2}",unit:"",category:""},{id:7,template:"{num1}{num2}",unit:"",category:""},{id:8,template:"{num1}{num2}",unit:"",category:""},{id:9,template:"{num1}{num2}",unit:"",category:""},{id:10,template:"{num1}{num2}",unit:"",category:""},{id:11,template:"{num1}{num2}",unit:"",category:""},{id:12,template:"{num1}{num2}",unit:"",category:""},{id:13,template:"{num1}{num2}",unit:"",category:""},{id:14,template:"{num1}{num2}",unit:"",category:""},{id:15,template:"{num1}{num2}",unit:"",category:""},{id:16,template:"{num1}{num2}",unit:"",category:""},{id:17,template:"{num1}{num2}",unit:"",category:""},{id:18,template:"{num1}{num2}",unit:"",category:""},{id:19,template:"{num1}{num2}",unit:"",category:""},{id:20,template:"{num1}{num2}",unit:"",category:""},{id:21,template:"{num1}{num2}",unit:"",category:""},{id:22,template:"{num1}{num2}",unit:"",category:""},{id:23,template:"{num1}{num2}",unit:"",category:""},{id:24,template:"{num1}{num2}",unit:"",category:""},{id:25,template:"{num1}{num2}",unit:"",category:""},{id:26,template:"{num1}{num2}",unit:"",category:""},{id:27,template:"{num1}{num2}",unit:"",category:""},{id:28,template:"{num1}{num2}",unit:"",category:""},{id:29,template:"{num1}{num2}{num2}{num1}{num2}=",unit:"",category:""},{id:30,template:"{num1}{num2}",unit:"",category:""},{id:31,template:"{num1}{num2}",unit:"",category:""},{id:32,template:"{num1}{num2}",unit:"",category:""},{id:33,template:"{num1}{num2}",unit:"",category:""},{id:34,template:"{num1}{num2}",unit:"",category:""},{id:35,template:"{num1}{num2}",unit:"",category:""},{id:36,template:"{num1}{num2}",unit:"",category:""},{id:37,template:"{num1}{num2}",unit:"",category:""},{id:38,template:"{num1}{num2}",unit:"",category:""},{id:39,template:"{num1}{num2}",unit:"",category:""},{id:40,template:"{num1}{num2}",unit:"",category:""},{id:41,template:"{num1}{num2}",unit:"",category:""},{id:42,template:"{num1}{num2}",unit:"",category:""},{id:43,template:"{num1}{num2}",unit:"",category:""},{id:44,template:"{num1}{num2}",unit:"",category:""},{id:45,template:"{num1}{num2}",unit:"",category:""},{id:46,template:"{num1}{num2}",unit:"",category:""},{id:47,template:"{num1}{num2}",unit:"",category:""},{id:48,template:"{num1}{num2}",unit:"",category:""},{id:49,template:"{num1}{num2}",unit:"",category:""},{id:50,template:"{num1}{num2}",unit:"",category:""},{id:51,template:"{num1}{num2}",unit:"",category:""},{id:52,template:"{num1}{num2}",unit:"",category:""},{id:53,template:"{num1}{num2}",unit:"",category:""},{id:54,template:"{num1}{num2}",unit:"",category:""},{id:55,template:"{num1}{num2}",unit:"",category:""},{id:56,template:"{num1}{num2}",unit:"",category:""},{id:57,template:"{num1}{num2}",unit:"",category:""},{id:58,template:"{num1}{num2}",unit:"",category:""},{id:59,template:"{num1}{num2}",unit:"",category:""},{id:60,template:"{num1}{num2}",unit:"",category:""},{id:61,template:"{num1}{num2}",unit:"",category:""},{id:62,template:"{num1}{num2}",unit:"",category:""},{id:63,template:"{num1}{num2}",unit:"",category:""},{id:64,template:"{num1}{num2}",unit:"",category:""},{id:65,template:"{num1}{num2}",unit:"",category:""},{id:66,template:"{num1}{num2}",unit:"",category:""},{id:67,template:"{num1}{num2}",unit:"",category:""},{id:68,template:"{num1}{num2}",unit:"",category:""},{id:69,template:"{num1}{num2}",unit:"",category:""},{id:70,template:"{num1}{num2}",unit:"",category:""},{id:71,template:"{num1}{num2}",unit:"",category:""},{id:72,template:"{num1}{num2}",unit:"",category:""},{id:73,template:"{num1}{num2}",unit:"",category:""},{id:74,template:"{num1}{num2}",unit:"",category:""},{id:75,template:"{num1}{num2}",unit:"",category:""},{id:76,template:"{num1}{num2}",unit:"",category:""},{id:77,template:"{num1}{num2}",unit:"",category:""},{id:78,template:"{num1}{num2}",unit:"",category:""},{id:79,template:"{num1}{num2}",unit:"",category:""},{id:80,template:"{num1}{num2}",unit:"",category:""},{id:81,template:"{num1}{num2}",unit:"",category:""},{id:82,template:"{num1}{num2}",unit:"",category:""},{id:83,template:"{num1}{num2}",unit:"",category:""},{id:84,template:"{num1}{num2}",unit:"",category:""},{id:85,template:"{num1}{num2}",unit:"",category:""},{id:86,template:"{num1}{num2}",unit:"",category:""},{id:87,template:"{num1}{num2}",unit:"",category:""},{id:88,template:"{num1}{num2}",unit:"",category:""},{id:89,template:"{num1}{num2}",unit:"",category:""},{id:90,template:"{num1}{num2}",unit:"",category:""},{id:91,template:"{num1}{num2}",unit:"",category:""},{id:92,template:"{num1}{num2}",unit:"",category:""},{id:93,template:"{num1}{num2}",unit:"",category:""},{id:94,template:"{num1}{num2}",unit:"",category:""},{id:95,template:"{num1}{num2}",unit:"",category:""},{id:96,template:"{num1}{num2}",unit:"",category:""},{id:97,template:"{num1}{num2}",unit:"",category:""},{id:98,template:"{num1}{num2}",unit:"",category:""},{id:99,template:"{num1}{num2}",unit:"",category:""},{id:100,template:"{num1}{num2}",unit:"",category:""},{id:101,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:102,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:103,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:104,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:105,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:106,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:107,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:108,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:109,template:"{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:2},{id:110,template:"{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:2},{id:111,template:"{num1}{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:3},{id:112,template:"{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:2},{id:113,template:"{num1}{num1}{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:4},{id:114,template:"{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:2},{id:115,template:"{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:2},{id:116,template:"{num1}{num1}{num2}",unit:"",category:""},{id:117,template:"{num1}{num2}",unit:"",category:""},{id:118,template:"{num1}{num2}",unit:"",category:""},{id:119,template:"{num1}{num2}",unit:"",category:""},{id:120,template:"{num1}{num2}",unit:"",category:""},{id:121,template:"{num1}{smaller}{num1}{larger}",unit:"",category:"",type:"comparison_less"},{id:122,template:"{num1}{smaller}{num1}{larger}",unit:"",category:"",type:"comparison_less"},{id:123,template:"{num1}{smaller}{num1}{larger}",unit:"",category:"",type:"comparison_less"},{id:124,template:"{num1}{smaller}{num1}{larger}",unit:"",category:"",type:"comparison_less"},{id:125,template:"{num1}{smaller}{num1}{larger}",unit:"",category:"",type:"comparison_less"},{id:126,template:"{num1}{num1}{num1}{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:5},{id:127,template:"{num1}{num1}{num1}{num1}{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:6},{id:128,template:"{num1}{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:3},{id:129,template:"{num1}{num1}{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:4},{id:130,template:"{num1}{num1}{num1}{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:5},{id:131,template:"{num1}2",unit:"",category:"",type:"double"},{id:132,template:"{num1}2",unit:"",category:"",type:"double"},{id:133,template:"{num1}",unit:"",category:"",type:"double"},{id:134,template:"{num1}",unit:"",category:"",type:"double"},{id:135,template:"{num1}",unit:"",category:"",type:"double"},{id:136,template:"{num1}{num2}",unit:"",category:""},{id:137,template:"{num1}{num2}",unit:"",category:""},{id:138,template:"{num1}{num2}",unit:"",category:""},{id:139,template:"{num1}{num2}",unit:"",category:""},{id:140,template:"{num1}{num2}",unit:"",category:""},{id:141,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:142,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:143,template:"{num1}{larger}{num1}{smaller}",unit:"",category:"",type:"comparison"},{id:144,template:"{num1}{smaller}{num1}{larger}",unit:"",category:"",type:"comparison_less"},{id:145,template:"{num1}{smaller}{num1}{larger}",unit:"",category:"",type:"comparison_less"},{id:146,template:"{num1}",unit:"",category:"",type:"combination",fixedNum2:2},{id:147,template:"{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:2},{id:148,template:"{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:2},{id:149,template:"{num1}{num1}{num1}",unit:"",category:"",type:"combination",fixedNum2:3},{id:150,template:"{num1}{num2}",unit:"",category:""}];[...new Set(yd.map(r=>r.category))];const H2=r=>{const e=r?.length?yd.filter(i=>r.includes(i.category)):yd;return e[Math.floor(Math.random()*e.length)]},G2=(r=[...Xn])=>{const e=r.length?r:[...Xn],i=e[Math.floor(Math.random()*e.length)],s=Math.floor(Math.random()*8)+2;return{num1:i,num2:s,answer:i*s}},Q2=(r=[...Xn],e)=>{const i=r.length?r:[...Xn],s=i[Math.floor(Math.random()*i.length)],u=H2(e),h=u.type||"standard";let d,y;if(h==="comparison"||h==="comparison_less"){d=Math.floor(Math.random()*8)+2;const _=9-d,S=Math.floor(Math.random()*(_-1))+2,b=S+d;y=u.template.replace(/{num1}/g,String(s)).replace(/{larger}/g,String(b)).replace(/{smaller}/g,String(S))}else h==="double"?(d=2,y=u.template.replace(/{num1}/g,String(s))):h==="combination"?(d=u.fixedNum2||2,y=u.template.replace(/{num1}/g,String(s))):(d=Math.floor(Math.random()*8)+2,y=u.template.replace(/{num1}/g,String(s)).replace(/{num2}/g,String(d)));const v=s*d;return{num1:s,num2:d,answer:v,narrative:y,unit:u.unit,templateId:u.id}},F2=(r,e)=>{const i=parseInt(e,10);return!isNaN(i)&&i===r.answer},Y2=(r,e)=>{if(e.length<3)return!1;const i=parseInt(e[0],10),s=parseInt(e[1],10),u=parseInt(e.slice(2),10);return i*s===r.answer&&u===r.answer},L1="fontSize",K2=()=>{try{const r=localStorage.getItem(L1);if(r==="normal"||r==="large"||r==="extra-large")return r}catch{}return"normal"};function X2(){const[r,e]=ft.useState(null),[i,s]=ft.useState(0),[u,h]=ft.useState(0),[d,y]=ft.useState(0),[v,_]=ft.useState(null),[S,b]=ft.useState(!1),[x,G]=ft.useState(!1),[$,W]=ft.useState(""),[J,at]=ft.useState(0),[lt,ct]=ft.useState(()=>[...Xn]),[St,dt]=ft.useState(null),[tt,R]=ft.useState(""),[A,C]=ft.useState("basic"),[O,V]=ft.useState(!1),[U,w]=ft.useState(K2),Yt=ft.useRef(null),ee=ft.useRef(null),H=!!St,nt=Et=>{ct(Vt=>Vt.includes(Et)?Vt.filter(nn=>nn!==Et):[...Vt,Et].sort((nn,$e)=>nn-$e))},mt=()=>{ct([...Xn])},jt=ft.useCallback(Et=>{w(Et);try{localStorage.setItem(L1,Et)}catch{}},[]);ft.useEffect(()=>{const Et=document.documentElement;Et.classList.remove("font-normal","font-large","font-extra-large"),Et.classList.add(`font-${U}`)},[U]);const Dt=ft.useCallback(()=>{Yt.current&&(clearTimeout(Yt.current),Yt.current=null)},[]),M=ft.useCallback(()=>{r&&(ee.current=Date.now()+r.questionSpeed,at(r.questionSpeed))},[r]),F=ft.useCallback(function Et(){if(_(A==="narrative"?Q2(lt):G2(lt)),W(""),!r||!S){Dt(),ee.current=null,at(0);return}M(),Dt(),Yt.current=window.setTimeout(()=>{h(Vt=>Vt+1),Et()},r.questionSpeed)},[r,S,M,Dt,lt,A]),it=ft.useCallback(Et=>{const Vt=`${Et.num1}${Et.num2}${Et.answer}`.split("");dt({question:Et,sequence:Vt,input:"",isSequenceComplete:!1}),R(""),W(""),Dt(),ee.current=null,at(0)},[Dt]),rt=ft.useCallback(()=>{dt(null),R(""),F()},[F]),vt=ft.useCallback(Et=>{/^[0-9]$/.test(Et)&&dt(Vt=>{if(!Vt||Vt.isSequenceComplete)return Vt;const nn=Vt.sequence[Vt.input.length];if(Et!==nn)return R(""),Vt;const $e=Vt.input+Et;R("");const qa=$e.length===Vt.sequence.length;return{...Vt,input:$e,isSequenceComplete:qa}})},[]),Rt=ft.useCallback(()=>{dt(Et=>{if(!Et||Et.input.length===0)return Et;const Vt=Et.input.slice(0,-1);return{...Et,input:Vt,isSequenceComplete:Vt.length===Et.sequence.length}}),R("")},[]),Ot=ft.useCallback(()=>{if(St){if(!St.isSequenceComplete){R("");return}rt()}},[rt,St]);ft.useEffect(()=>{if(!S||d<=0)return;const Et=setInterval(()=>{y(Vt=>Vt<=1?(b(!1),G(!0),0):Vt-1)},1e3);return()=>clearInterval(Et)},[S,d]),ft.useEffect(()=>{if(!S||!r){Dt(),ee.current=null,at(0);return}return F(),()=>{Dt()}},[S,r,F,Dt]),ft.useEffect(()=>{if(!S||!r)return;const Et=window.setInterval(()=>{if(!ee.current)return;const Vt=Math.max(0,ee.current-Date.now());at(Vt)},100);return()=>{clearInterval(Et)}},[S,r]);const de=Et=>{lt.length!==0&&(e(Et),s(0),h(0),y(Et.timeLimit),b(!0),G(!1),W(""),at(Et.questionSpeed),dt(null),R(""))},ie=()=>{if(!v||!$||H)return;if(h(Vt=>Vt+1),A==="narrative"&&Y_(v)?Y2(v,$):F2(v,$)){s(Vt=>Vt+1),F();return}it(v)},bi=()=>{e(null),s(0),h(0),y(0),_(null),b(!1),G(!1),W(""),at(0),ee.current=null,Dt(),dt(null),R("")};if(x&&r){const Et=r.timeLimit-d,Vt=K_.some(nn=>nn.name===r.name)?r.name:"";return D.jsx(q2,{score:i,attempts:u,timeUsed:Et,difficulty:Vt,questionMode:A,selectedTables:lt,onRestart:bi})}return!S||!v||!r?D.jsxs(D.Fragment,{children:[D.jsx(R0,{onSelectDifficulty:de,selectedTables:lt,onToggleTable:nt,onResetTables:mt,questionMode:A,onSelectMode:C,onShowLeaderboard:()=>V(!0),fontSize:U,onFontSizeChange:jt}),O&&D.jsx(U1,{onClose:()=>V(!1)})]}):D.jsxs(D.Fragment,{children:[D.jsx(w0,{question:v,userInput:$,score:i,timeRemaining:d,onInputChange:W,onSubmit:ie,questionCountdownMs:J,questionIntervalMs:r.questionSpeed,isPenaltyActive:H,questionMode:A}),St&&D.jsx(k2,{question:St.question,sequence:St.sequence,input:St.input,error:tt,canSubmit:St.isSequenceComplete,onDigit:vt,onBackspace:Rt,onSubmit:Ot})]})}A0.createRoot(document.getElementById("root")).render(D.jsx(ft.StrictMode,{children:D.jsx(X2,{})}));
