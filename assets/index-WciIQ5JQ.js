(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Df={exports:{}},Ll={};var gy;function uT(){if(gy)return Ll;gy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var py;function oT(){return py||(py=1,Df.exports=uT()),Df.exports}var M=oT(),Vf={exports:{}},At={};var yy;function cT(){if(yy)return At;yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function Q(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,$={};function ut(I,Y,at){this.props=I,this.context=Y,this.refs=$,this.updater=at||W}ut.prototype.isReactComponent={},ut.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},ut.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function nt(){}nt.prototype=ut.prototype;function it(I,Y,at){this.props=I,this.context=Y,this.refs=$,this.updater=at||W}var gt=it.prototype=new nt;gt.constructor=it,J(gt,ut.prototype),gt.isPureReactComponent=!0;var Rt=Array.isArray;function Ct(){}var w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(I,Y,at){var rt=at.ref;return{$$typeof:r,type:I,key:Y,ref:rt!==void 0?rt:null,props:at}}function O(I,Y){return N(I.type,Y,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function U(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(at){return Y[at]})}var R=/\/+/g;function te(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):Y.toString(36)}function he(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ct,Ct):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,Y,at,rt,Et){var bt=typeof I;(bt==="undefined"||bt==="boolean")&&(I=null);var Ot=!1;if(I===null)Ot=!0;else switch(bt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(I.$$typeof){case r:case e:Ot=!0;break;case A:return Ot=I._init,H(Ot(I._payload),Y,at,rt,Et)}}if(Ot)return Et=Et(I),Ot=rt===""?"."+te(I,0):rt,Rt(Et)?(at="",Ot!=null&&(at=Ot.replace(R,"$&/")+"/"),H(Et,Y,at,"",function(Ze){return Ze})):Et!=null&&(D(Et)&&(Et=O(Et,at+(Et.key==null||I&&I.key===Et.key?"":(""+Et.key).replace(R,"$&/")+"/")+Ot)),Y.push(Et)),1;Ot=0;var pt=rt===""?".":rt+":";if(Rt(I))for(var ft=0;ft<I.length;ft++)rt=I[ft],bt=pt+te(rt,ft),Ot+=H(rt,Y,at,bt,Et);else if(ft=Q(I),typeof ft=="function")for(I=ft.call(I),ft=0;!(rt=I.next()).done;)rt=rt.value,bt=pt+te(rt,ft++),Ot+=H(rt,Y,at,bt,Et);else if(bt==="object"){if(typeof I.then=="function")return H(he(I),Y,at,rt,Et);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function tt(I,Y,at){if(I==null)return I;var rt=[],Et=0;return H(I,rt,"","",function(bt){return Y.call(at,bt,Et++)}),rt}function ht(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(at){(I._status===0||I._status===-1)&&(I._status=1,I._result=at)},function(at){(I._status===0||I._status===-1)&&(I._status=2,I._result=at)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var Vt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ht={map:tt,forEach:function(I,Y,at){tt(I,function(){Y.apply(this,arguments)},at)},count:function(I){var Y=0;return tt(I,function(){Y++}),Y},toArray:function(I){return tt(I,function(Y){return Y})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return At.Activity=b,At.Children=Ht,At.Component=ut,At.Fragment=i,At.Profiler=u,At.PureComponent=it,At.StrictMode=s,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,At.__COMPILER_RUNTIME={__proto__:null,c:function(I){return w.H.useMemoCache(I)}},At.cache=function(I){return function(){return I.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(I,Y,at){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var rt=J({},I.props),Et=I.key;if(Y!=null)for(bt in Y.key!==void 0&&(Et=""+Y.key),Y)!S.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(rt[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)rt.children=at;else if(1<bt){for(var Ot=Array(bt),pt=0;pt<bt;pt++)Ot[pt]=arguments[pt+2];rt.children=Ot}return N(I.type,Et,rt)},At.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},At.createElement=function(I,Y,at){var rt,Et={},bt=null;if(Y!=null)for(rt in Y.key!==void 0&&(bt=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(Et[rt]=Y[rt]);var Ot=arguments.length-2;if(Ot===1)Et.children=at;else if(1<Ot){for(var pt=Array(Ot),ft=0;ft<Ot;ft++)pt[ft]=arguments[ft+2];Et.children=pt}if(I&&I.defaultProps)for(rt in Ot=I.defaultProps,Ot)Et[rt]===void 0&&(Et[rt]=Ot[rt]);return N(I,bt,Et)},At.createRef=function(){return{current:null}},At.forwardRef=function(I){return{$$typeof:y,render:I}},At.isValidElement=D,At.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:ht}},At.memo=function(I,Y){return{$$typeof:_,type:I,compare:Y===void 0?null:Y}},At.startTransition=function(I){var Y=w.T,at={};w.T=at;try{var rt=I(),Et=w.S;Et!==null&&Et(at,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Ct,Vt)}catch(bt){Vt(bt)}finally{Y!==null&&at.types!==null&&(Y.types=at.types),w.T=Y}},At.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},At.use=function(I){return w.H.use(I)},At.useActionState=function(I,Y,at){return w.H.useActionState(I,Y,at)},At.useCallback=function(I,Y){return w.H.useCallback(I,Y)},At.useContext=function(I){return w.H.useContext(I)},At.useDebugValue=function(){},At.useDeferredValue=function(I,Y){return w.H.useDeferredValue(I,Y)},At.useEffect=function(I,Y){return w.H.useEffect(I,Y)},At.useEffectEvent=function(I){return w.H.useEffectEvent(I)},At.useId=function(){return w.H.useId()},At.useImperativeHandle=function(I,Y,at){return w.H.useImperativeHandle(I,Y,at)},At.useInsertionEffect=function(I,Y){return w.H.useInsertionEffect(I,Y)},At.useLayoutEffect=function(I,Y){return w.H.useLayoutEffect(I,Y)},At.useMemo=function(I,Y){return w.H.useMemo(I,Y)},At.useOptimistic=function(I,Y){return w.H.useOptimistic(I,Y)},At.useReducer=function(I,Y,at){return w.H.useReducer(I,Y,at)},At.useRef=function(I){return w.H.useRef(I)},At.useState=function(I){return w.H.useState(I)},At.useSyncExternalStore=function(I,Y,at){return w.H.useSyncExternalStore(I,Y,at)},At.useTransition=function(){return w.H.useTransition()},At.version="19.2.0",At}var _y;function fd(){return _y||(_y=1,Vf.exports=cT()),Vf.exports}var yt=fd(),If={exports:{}},jl={},Mf={exports:{}},Of={};var vy;function hT(){return vy||(vy=1,(function(r){function e(H,tt){var ht=H.length;H.push(tt);t:for(;0<ht;){var Vt=ht-1>>>1,Ht=H[Vt];if(0<u(Ht,tt))H[Vt]=tt,H[ht]=Ht,ht=Vt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],ht=H.pop();if(ht!==tt){H[0]=ht;t:for(var Vt=0,Ht=H.length,I=Ht>>>1;Vt<I;){var Y=2*(Vt+1)-1,at=H[Y],rt=Y+1,Et=H[rt];if(0>u(at,ht))rt<Ht&&0>u(Et,at)?(H[Vt]=Et,H[rt]=ht,Vt=rt):(H[Vt]=at,H[Y]=ht,Vt=Y);else if(rt<Ht&&0>u(Et,ht))H[Vt]=Et,H[rt]=ht,Vt=rt;else break t}}return tt}function u(H,tt){var ht=H.sortIndex-tt.sortIndex;return ht!==0?ht:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,b=null,x=3,Q=!1,W=!1,J=!1,$=!1,ut=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function gt(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=H)s(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function Rt(H){if(J=!1,gt(H),!W)if(i(v)!==null)W=!0,Ct||(Ct=!0,U());else{var tt=i(_);tt!==null&&he(Rt,tt.startTime-H)}}var Ct=!1,w=-1,S=5,N=-1;function O(){return $?!0:!(r.unstable_now()-N<S)}function D(){if($=!1,Ct){var H=r.unstable_now();N=H;var tt=!0;try{t:{W=!1,J&&(J=!1,nt(w),w=-1),Q=!0;var ht=x;try{e:{for(gt(H),b=i(v);b!==null&&!(b.expirationTime>H&&O());){var Vt=b.callback;if(typeof Vt=="function"){b.callback=null,x=b.priorityLevel;var Ht=Vt(b.expirationTime<=H);if(H=r.unstable_now(),typeof Ht=="function"){b.callback=Ht,gt(H),tt=!0;break e}b===i(v)&&s(v),gt(H)}else s(v);b=i(v)}if(b!==null)tt=!0;else{var I=i(_);I!==null&&he(Rt,I.startTime-H),tt=!1}}break t}finally{b=null,x=ht,Q=!1}tt=void 0}}finally{tt?U():Ct=!1}}}var U;if(typeof it=="function")U=function(){it(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=D,U=function(){te.postMessage(null)}}else U=function(){ut(D,0)};function he(H,tt){w=ut(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(H){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var ht=x;x=tt;try{return H()}finally{x=ht}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=x;x=H;try{return tt()}finally{x=ht}},r.unstable_scheduleCallback=function(H,tt,ht){var Vt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Vt+ht:Vt):ht=Vt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,H={id:A++,callback:tt,priorityLevel:H,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>Vt?(H.sortIndex=ht,e(_,H),i(v)===null&&H===i(_)&&(J?(nt(w),w=-1):J=!0,he(Rt,ht-Vt))):(H.sortIndex=Ht,e(v,H),W||Q||(W=!0,Ct||(Ct=!0,U()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var tt=x;return function(){var ht=x;x=tt;try{return H.apply(this,arguments)}finally{x=ht}}}})(Of)),Of}var Ey;function fT(){return Ey||(Ey=1,Mf.exports=hT()),Mf.exports}var xf={exports:{}},Fe={};var Ty;function dT(){if(Ty)return Fe;Ty=1;var r=fd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Fe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:Q}):A==="script"&&s.d.X(v,{crossOrigin:b,integrity:x,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Fe.requestFormReset=function(v){s.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.0",Fe}var Ay;function mT(){if(Ay)return xf.exports;Ay=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xf.exports=dT(),xf.exports}var Sy;function gT(){if(Sy)return jl;Sy=1;var r=fT(),e=fd(),i=mT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ut:return"Profiler";case $:return"StrictMode";case Rt:return"Suspense";case Ct:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case it:return t.displayName||"Context";case nt:return(t._context.displayName||"Context")+".Consumer";case gt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:te(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return te(t(n))}catch{}}return null}var he=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Vt=[],Ht=-1;function I(t){return{current:t}}function Y(t){0>Ht||(t.current=Vt[Ht],Vt[Ht]=null,Ht--)}function at(t,n){Ht++,Vt[Ht]=t.current,t.current=n}var rt=I(null),Et=I(null),bt=I(null),Ot=I(null);function pt(t,n){switch(at(bt,n),at(Et,t),at(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?jp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=jp(n),t=Bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(rt),at(rt,t)}function ft(){Y(rt),Y(Et),Y(bt)}function Ze(t){t.memoizedState!==null&&at(Ot,t);var n=rt.current,a=Bp(n,t.type);n!==a&&(at(Et,t),at(rt,a))}function On(t){Et.current===t&&(Y(rt),Y(Et)),Ot.current===t&&(Y(Ot),Ol._currentValue=ht)}var Fi,Ss;function Xn(t){if(Fi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Fi=n&&n[1]||"",Ss=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+t+Ss}var Or=!1;function Ba(t,n){if(!t||Or)return"";Or=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(k){var q=k}Reflect.construct(t,[],X)}else{try{X.call()}catch(k){q=k}t.call(X.prototype)}}else{try{throw Error()}catch(k){q=k}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(k){if(k&&q&&typeof k.stack=="string")return[k.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),B=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Or=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xn(a):""}function xr(t,n){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Ba(t.type,!1);case 11:return Ba(t.type.render,!1);case 1:return Ba(t.type,!0);case 31:return Xn("Activity");default:return""}}function zr(t){try{var n="",a=null;do n+=xr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,Yi=r.unstable_cancelCallback,Vc=r.unstable_shouldYield,uu=r.unstable_requestPaint,Je=r.unstable_now,qa=r.unstable_getCurrentPriorityLevel,Ur=r.unstable_ImmediatePriority,Lr=r.unstable_UserBlockingPriority,Xi=r.unstable_NormalPriority,Ic=r.unstable_LowPriority,ou=r.unstable_IdlePriority,cu=r.log,hu=r.unstable_setDisableYieldValue,xn=null,Le=null;function _n(t){if(typeof cu=="function"&&hu(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(xn,t)}catch{}}var fe=Math.clz32?Math.clz32:du,fu=Math.log,bs=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/bs|0)|0}var Kn=256,Pa=262144,_e=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Zn(l):(g&=E,g!==0?c=Zn(g):a||(a=E&~t,a!==0&&(c=Zn(a))))):(E=l&~f,E!==0?c=Zn(E):g!==0?c=Zn(g):a||(a=l&~t,a!==0&&(c=Zn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function $n(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ka(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-fe(a),X=1<<G;E[G]=0,C[G]=-1;var q=B[G];if(q!==null)for(B[G]=null,G=0;G<q.length;G++){var k=q[G];k!==null&&(k.lane&=-536870913)}a&=~X}l!==0&&Ha(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ha(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Br(t,n){var a=n&-n;return a=(a&42)!==0?1:Ga(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ga(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:uy(t.type))}function Un(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var Ln=Math.random().toString(36).slice(2),ve="__reactFiber$"+Ln,Me="__reactProps$"+Ln,Wn="__reactContainer$"+Ln,Rs="__reactEvents$"+Ln,xc="__reactListeners$"+Ln,pu="__reactHandles$"+Ln,yu="__reactResources$"+Ln,ti="__reactMarker$"+Ln;function Cs(t){delete t[ve],delete t[Me],delete t[Rs],delete t[xc],delete t[pu]}function ei(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Fp(t);t!==null;){if(a=t[ve])return a;t=Fp(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[ve]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function on(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ni(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(t){t[ti]=!0}var qr=new Set,Pr={};function ii(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(Pr[t]=n,t=0;t<n.length;t++)qr.add(n[t])}var kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Gr={};function _u(t){return ye.call(Gr,t)?!0:ye.call(Hr,t)?!1:kr.test(t)?Gr[t]=!0:(Hr[t]=!0,!1)}function ws(t,n,a){if(_u(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=Ki(t)?"checked":"value";t._valueTracker=Qr(t,n,""+t[n])}}function Qa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ki(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fa=/[\n"\\]/g;function tn(t){return t.replace(Fa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ns(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Fr(t,g,Oe(n)):a!=null?Fr(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function vu(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Yt(t)}function Fr(t,n,a){n==="number"&&si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Zi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Eu(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Ji(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(he(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Yt(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Tu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Xr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Yr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Yr(t,f,n[f])}function Ds(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$i=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(t){return $i.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jn(){}var Kr=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,ri=null;function Ya(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ns(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Me]||null;if(!c)throw Error(s(90));Ns(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qa(l)}break t;case"textarea":Eu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Zi(t,!!a.multiple,n,!1)}}}var Is=!1;function ta(t,n,a){if(Is)return t(n,a);Is=!0;try{var l=t(n);return l}finally{if(Is=!1,(Wi!==null||ri!==null)&&(po(),Wi&&(n=Wi,t=ri,ri=Wi=null,Ya(n),t)))for(n=0;n<t.length;n++)Ya(t[n])}}function Bn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=!1;if(Tn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Xa=!1}var li=null,Zr=null,Ka=null;function Jr(){if(Ka)return Ka;var t,n=Zr,a=n.length,l,c="value"in li?li.value:li.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ka=c.slice(t,1<l?1-l:void 0)}function Za(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function qn(){return!1}function je(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Si:qn,this.isPropagationStopped=qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=je(bi),ea=b({},bi,{view:0,detail:0}),$r=je(ea),na,Ms,oi,Os=b({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(na=t.screenX-oi.screenX,Ms=t.screenY-oi.screenY):Ms=na=0,oi=t),na)},movementY:function(t){return"movementY"in t?t.movementY:Ms}}),Wr=je(Os),Ja=b({},Os,{dataTransfer:0}),Su=je(Ja),bu=b({},ea,{relatedTarget:0}),$a=je(bu),tl=b({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=je(tl),xs=b({},bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=je(xs),wu=b({},bi,{data:0}),ci=je(wu),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vu[t])?!!n[t]:!1}function ia(){return Iu}var $e=b({},ea,{key:function(t){if(t.key){var n=Nu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(t){return t.type==="keypress"?Za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=je($e),Ou=b({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=je(Ou),o=b({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),m=je(o),p=b({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(p),L=b({},Os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=je(L),et=b({},bi,{newState:0,oldState:0}),wt=je(et),de=[9,13,27,32],Gt=Tn&&"CompositionEvent"in window,re=null;Tn&&"documentMode"in document&&(re=document.documentMode);var An=Tn&&"TextEvent"in window&&!re,hi=Tn&&(!Gt||re&&8<re&&11>=re),Pn=" ",kn=!1;function Wa(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function ME(t,n){switch(t){case"compositionend":return zs(n);case"keypress":return n.which!==32?null:(kn=!0,Pn);case"textInput":return t=n.data,t===Pn&&kn?null:t;default:return null}}function OE(t,n){if(Us)return t==="compositionend"||!Gt&&Wa(t,n)?(t=Jr(),Ka=Zr=li=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var xE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xE[t.type]:n==="textarea"}function Zd(t,n,a,l){Wi?ri?ri.push(l):ri=[l]:Wi=l,n=So(n,"onChange"),0<n.length&&(a=new ui("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var el=null,nl=null;function zE(t){Mp(t,0)}function xu(t){var n=on(t);if(Qa(n))return t}function Jd(t,n){if(t==="change")return n}var $d=!1;if(Tn){var zc;if(Tn){var Uc="oninput"in document;if(!Uc){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Uc=typeof Wd.oninput=="function"}zc=Uc}else zc=!1;$d=zc&&(!document.documentMode||9<document.documentMode)}function tm(){el&&(el.detachEvent("onpropertychange",em),nl=el=null)}function em(t){if(t.propertyName==="value"&&xu(nl)){var n=[];Zd(n,nl,t,En(t)),ta(zE,n)}}function UE(t,n,a){t==="focusin"?(tm(),el=n,nl=a,el.attachEvent("onpropertychange",em)):t==="focusout"&&tm()}function LE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(nl)}function jE(t,n){if(t==="click")return xu(n)}function BE(t,n){if(t==="input"||t==="change")return xu(n)}function qE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:qE;function il(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ye.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function im(t,n){var a=nm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=nm(a)}}function am(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?am(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=si(t.document)}return n}function Lc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var PE=Tn&&"documentMode"in document&&11>=document.documentMode,Ls=null,jc=null,al=null,Bc=!1;function rm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bc||Ls==null||Ls!==si(l)||(l=Ls,"selectionStart"in l&&Lc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=So(jc,"onSelect"),0<l.length&&(n=new ui("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ls)))}function ts(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var js={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},qc={},lm={};Tn&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function es(t){if(qc[t])return qc[t];if(!js[t])return t;var n=js[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in lm)return qc[t]=n[a];return t}var um=es("animationend"),om=es("animationiteration"),cm=es("animationstart"),kE=es("transitionrun"),HE=es("transitionstart"),GE=es("transitioncancel"),hm=es("transitionend"),fm=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function Hn(t,n){fm.set(t,n),ii(n,[t])}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Bs=0,kc=0;function Uu(){for(var t=Bs,n=kc=Bs=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&dm(a,c,f)}}function Lu(t,n,a,l){Sn[Bs++]=t,Sn[Bs++]=n,Sn[Bs++]=a,Sn[Bs++]=l,kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hc(t,n,a,l){return Lu(t,n,a,l),ju(t)}function ns(t,n){return Lu(t,null,null,n),ju(t)}function dm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-fe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function ju(t){if(50<Cl)throw Cl=0,$h=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qs={};function QE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new QE(t,n,a,l)}function Gc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function mm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bu(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Gc(t)&&(g=1);else if(typeof t=="string")g=Z0(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case N:return t=fn(31,a,n,c),t.elementType=N,t.lanes=f,t;case J:return is(a.children,c,f,n);case $:g=8,c|=24;break;case ut:return t=fn(12,a,n,c|2),t.elementType=ut,t.lanes=f,t;case Rt:return t=fn(13,a,n,c),t.elementType=Rt,t.lanes=f,t;case Ct:return t=fn(19,a,n,c),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case it:g=10;break t;case nt:g=9;break t;case gt:g=11;break t;case w:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function is(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Qc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function gm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Fc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var pm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=pm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:zr(n)},pm.set(t,n),n)}return{value:t,source:n,stack:zr(n)}}var Ps=[],ks=0,qu=null,sl=0,Rn=[],Cn=0,aa=null,fi=1,di="";function wi(t,n){Ps[ks++]=sl,Ps[ks++]=qu,qu=t,sl=n}function ym(t,n,a){Rn[Cn++]=fi,Rn[Cn++]=di,Rn[Cn++]=aa,aa=t;var l=fi;t=di;var c=32-fe(l)-1;l&=~(1<<c),a+=1;var f=32-fe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,fi=1<<32-fe(n)+c|a<<c|l,di=f+t}else fi=1<<f|a<<c|l,di=t}function Yc(t){t.return!==null&&(wi(t,1),ym(t,1,0))}function Xc(t){for(;t===qu;)qu=Ps[--ks],Ps[ks]=null,sl=Ps[--ks],Ps[ks]=null;for(;t===aa;)aa=Rn[--Cn],Rn[Cn]=null,di=Rn[--Cn],Rn[Cn]=null,fi=Rn[--Cn],Rn[Cn]=null}function _m(t,n){Rn[Cn++]=fi,Rn[Cn++]=di,Rn[Cn++]=aa,fi=n.id,di=n.overflow,aa=t}var Be=null,ae=null,jt=!1,sa=null,wn=!1,Kc=Error(s(519));function ra(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(bn(n,t)),Kc}function vm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[Me]=l,a){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Mt(Nl[a],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),vu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),Ji(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Up(n.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ra(t,!0)}function Em(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Be=Be.return}}function Hs(t){if(t!==Be)return!1;if(!jt)return Em(t),jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||mf(t.type,t.memoizedProps)),a=!a),a&&ae&&ra(t),Em(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=Qp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ae=Qp(t)}else n===27?(n=ae,Ea(t.type)?(t=vf,vf=null,ae=t):ae=n):ae=Be?Dn(t.stateNode.nextSibling):null;return!0}function as(){ae=Be=null,jt=!1}function Zc(){var t=sa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),sa=null),t}function rl(t){sa===null?sa=[t]:sa.push(t)}var Jc=I(null),ss=null,Ni=null;function la(t,n,a){at(Jc,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=Jc.current,Y(Jc)}function $c(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Wc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),$c(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),$c(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Gs(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Wc(n,t,a,l),n.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){ss=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Tm(ss,t)}function ku(t,n){return ss===null&&rs(t),Tm(t,n)}function Tm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return a}var FE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},YE=r.unstable_scheduleCallback,XE=r.unstable_NormalPriority,Ae={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new FE,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&YE(XE,function(){t.controller.abort()})}var ul=null,eh=0,Qs=0,Fs=null;function KE(t,n){if(ul===null){var a=ul=[];eh=0,Qs=sf(),Fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return eh++,n.then(Am,Am),n}function Am(){if(--eh===0&&ul!==null){Fs!==null&&(Fs.status="fulfilled");var t=ul;ul=null,Qs=0,Fs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ZE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Sm=H.S;H.S=function(t,n){rp=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&KE(t,n),Sm!==null&&Sm(t,n)};var ls=I(null);function nh(){var t=ls.current;return t!==null?t:ee.pooledCache}function Hu(t,n){n===null?at(ls,ls.current):at(ls,n.pool)}function bm(){var t=nh();return t===null?null:{parent:Ae._currentValue,pool:t}}var Ys=Error(s(460)),ih=Error(s(474)),Gu=Error(s(542)),Qu={then:function(){}};function Rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(jn,jn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t;default:if(typeof n.status=="string")n.then(jn,jn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t}throw os=n,Ys}}function us(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(os=a,Ys):a}}var os=null;function wm(){if(os===null)throw Error(s(459));var t=os;return os=null,t}function Nm(t){if(t===Ys||t===Gu)throw Error(s(483))}var Xs=null,ol=0;function Fu(t){var n=ol;return ol+=1,Xs===null&&(Xs=[]),Cm(Xs,t,n)}function cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Yu(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dm(t){function n(z,V){if(t){var j=z.deletions;j===null?(z.deletions=[V],z.flags|=16):j.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)n(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function c(z,V){return z=Ci(z,V),z.index=0,z.sibling=null,z}function f(z,V,j){return z.index=j,t?(j=z.alternate,j!==null?(j=j.index,j<V?(z.flags|=67108866,V):j):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,V,j,F){return V===null||V.tag!==6?(V=Qc(j,z.mode,F),V.return=z,V):(V=c(V,j),V.return=z,V)}function C(z,V,j,F){var dt=j.type;return dt===J?G(z,V,j.props.children,F,j.key):V!==null&&(V.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&us(dt)===V.type)?(V=c(V,j.props),cl(V,j),V.return=z,V):(V=Bu(j.type,j.key,j.props,null,z.mode,F),cl(V,j),V.return=z,V)}function B(z,V,j,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Fc(j,z.mode,F),V.return=z,V):(V=c(V,j.children||[]),V.return=z,V)}function G(z,V,j,F,dt){return V===null||V.tag!==7?(V=is(j,z.mode,F,dt),V.return=z,V):(V=c(V,j),V.return=z,V)}function X(z,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qc(""+V,z.mode,j),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Q:return j=Bu(V.type,V.key,V.props,null,z.mode,j),cl(j,V),j.return=z,j;case W:return V=Fc(V,z.mode,j),V.return=z,V;case S:return V=us(V),X(z,V,j)}if(he(V)||U(V))return V=is(V,z.mode,j,null),V.return=z,V;if(typeof V.then=="function")return X(z,Fu(V),j);if(V.$$typeof===it)return X(z,ku(z,V),j);Yu(z,V)}return null}function q(z,V,j,F){var dt=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return dt!==null?null:E(z,V,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return j.key===dt?C(z,V,j,F):null;case W:return j.key===dt?B(z,V,j,F):null;case S:return j=us(j),q(z,V,j,F)}if(he(j)||U(j))return dt!==null?null:G(z,V,j,F,null);if(typeof j.then=="function")return q(z,V,Fu(j),F);if(j.$$typeof===it)return q(z,V,ku(z,j),F);Yu(z,j)}return null}function k(z,V,j,F,dt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return z=z.get(j)||null,E(V,z,""+F,dt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Q:return z=z.get(F.key===null?j:F.key)||null,C(V,z,F,dt);case W:return z=z.get(F.key===null?j:F.key)||null,B(V,z,F,dt);case S:return F=us(F),k(z,V,j,F,dt)}if(he(F)||U(F))return z=z.get(j)||null,G(V,z,F,dt,null);if(typeof F.then=="function")return k(z,V,j,Fu(F),dt);if(F.$$typeof===it)return k(z,V,j,ku(V,F),dt);Yu(V,F)}return null}function ot(z,V,j,F){for(var dt=null,Pt=null,ct=V,Dt=V=0,zt=null;ct!==null&&Dt<j.length;Dt++){ct.index>Dt?(zt=ct,ct=null):zt=ct.sibling;var kt=q(z,ct,j[Dt],F);if(kt===null){ct===null&&(ct=zt);break}t&&ct&&kt.alternate===null&&n(z,ct),V=f(kt,V,Dt),Pt===null?dt=kt:Pt.sibling=kt,Pt=kt,ct=zt}if(Dt===j.length)return a(z,ct),jt&&wi(z,Dt),dt;if(ct===null){for(;Dt<j.length;Dt++)ct=X(z,j[Dt],F),ct!==null&&(V=f(ct,V,Dt),Pt===null?dt=ct:Pt.sibling=ct,Pt=ct);return jt&&wi(z,Dt),dt}for(ct=l(ct);Dt<j.length;Dt++)zt=k(ct,z,Dt,j[Dt],F),zt!==null&&(t&&zt.alternate!==null&&ct.delete(zt.key===null?Dt:zt.key),V=f(zt,V,Dt),Pt===null?dt=zt:Pt.sibling=zt,Pt=zt);return t&&ct.forEach(function(Ra){return n(z,Ra)}),jt&&wi(z,Dt),dt}function _t(z,V,j,F){if(j==null)throw Error(s(151));for(var dt=null,Pt=null,ct=V,Dt=V=0,zt=null,kt=j.next();ct!==null&&!kt.done;Dt++,kt=j.next()){ct.index>Dt?(zt=ct,ct=null):zt=ct.sibling;var Ra=q(z,ct,kt.value,F);if(Ra===null){ct===null&&(ct=zt);break}t&&ct&&Ra.alternate===null&&n(z,ct),V=f(Ra,V,Dt),Pt===null?dt=Ra:Pt.sibling=Ra,Pt=Ra,ct=zt}if(kt.done)return a(z,ct),jt&&wi(z,Dt),dt;if(ct===null){for(;!kt.done;Dt++,kt=j.next())kt=X(z,kt.value,F),kt!==null&&(V=f(kt,V,Dt),Pt===null?dt=kt:Pt.sibling=kt,Pt=kt);return jt&&wi(z,Dt),dt}for(ct=l(ct);!kt.done;Dt++,kt=j.next())kt=k(ct,z,Dt,kt.value,F),kt!==null&&(t&&kt.alternate!==null&&ct.delete(kt.key===null?Dt:kt.key),V=f(kt,V,Dt),Pt===null?dt=kt:Pt.sibling=kt,Pt=kt);return t&&ct.forEach(function(lT){return n(z,lT)}),jt&&wi(z,Dt),dt}function Wt(z,V,j,F){if(typeof j=="object"&&j!==null&&j.type===J&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:t:{for(var dt=j.key;V!==null;){if(V.key===dt){if(dt=j.type,dt===J){if(V.tag===7){a(z,V.sibling),F=c(V,j.props.children),F.return=z,z=F;break t}}else if(V.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&us(dt)===V.type){a(z,V.sibling),F=c(V,j.props),cl(F,j),F.return=z,z=F;break t}a(z,V);break}else n(z,V);V=V.sibling}j.type===J?(F=is(j.props.children,z.mode,F,j.key),F.return=z,z=F):(F=Bu(j.type,j.key,j.props,null,z.mode,F),cl(F,j),F.return=z,z=F)}return g(z);case W:t:{for(dt=j.key;V!==null;){if(V.key===dt)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(z,V.sibling),F=c(V,j.children||[]),F.return=z,z=F;break t}else{a(z,V);break}else n(z,V);V=V.sibling}F=Fc(j,z.mode,F),F.return=z,z=F}return g(z);case S:return j=us(j),Wt(z,V,j,F)}if(he(j))return ot(z,V,j,F);if(U(j)){if(dt=U(j),typeof dt!="function")throw Error(s(150));return j=dt.call(j),_t(z,V,j,F)}if(typeof j.then=="function")return Wt(z,V,Fu(j),F);if(j.$$typeof===it)return Wt(z,V,ku(z,j),F);Yu(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(z,V.sibling),F=c(V,j),F.return=z,z=F):(a(z,V),F=Qc(j,z.mode,F),F.return=z,z=F),g(z)):a(z,V)}return function(z,V,j,F){try{ol=0;var dt=Wt(z,V,j,F);return Xs=null,dt}catch(ct){if(ct===Ys||ct===Gu)throw ct;var Pt=fn(29,ct,null,z.mode);return Pt.lanes=F,Pt.return=z,Pt}finally{}}}var cs=Dm(!0),Vm=Dm(!1),ua=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ca(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=ju(t),dm(t,null,a),n}return Lu(t,l,n,a),ju(t)}function hl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,jr(t,a)}}function rh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var lh=!1;function fl(){if(lh){var t=Fs;if(t!==null)throw t}}function dl(t,n,a,l){lh=!1;var c=t.updateQueue;ua=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,B=C.next;C.next=null,g===null?f=B:g.next=B,g=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=C))}if(f!==null){var X=c.baseState;g=0,G=B=C=null,E=f;do{var q=E.lane&-536870913,k=q!==E.lane;if(k?(xt&q)===q:(l&q)===q){q!==0&&q===Qs&&(lh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,_t=E;q=n;var Wt=a;switch(_t.tag){case 1:if(ot=_t.payload,typeof ot=="function"){X=ot.call(Wt,X,q);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=_t.payload,q=typeof ot=="function"?ot.call(Wt,X,q):ot,q==null)break t;X=b({},X,q);break t;case 2:ua=!0}}q=E.callback,q!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[q]:k.push(q))}else k={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=k,C=X):G=G.next=k,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(C=X),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ga|=g,t.lanes=g,t.memoizedState=X}}function Im(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Mm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Im(a[t],n)}var Ks=I(null),Xu=I(0);function Om(t,n){t=ji,at(Xu,t),at(Ks,n),ji=t|n.baseLanes}function uh(){at(Xu,ji),at(Ks,Ks.current)}function oh(){ji=Xu.current,Y(Ks),Y(Xu)}var dn=I(null),Nn=null;function ha(t){var n=t.alternate;at(me,me.current&1),at(dn,t),Nn===null&&(n===null||Ks.current!==null||n.memoizedState!==null)&&(Nn=t)}function ch(t){at(me,me.current),at(dn,t),Nn===null&&(Nn=t)}function xm(t){t.tag===22?(at(me,me.current),at(dn,t),Nn===null&&(Nn=t)):fa()}function fa(){at(me,me.current),at(dn,dn.current)}function mn(t){Y(dn),Nn===t&&(Nn=null),Y(me)}var me=I(0);function Ku(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||yf(a)||_f(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=0,Nt=null,Jt=null,Se=null,Zu=!1,Zs=!1,hs=!1,Ju=0,ml=0,Js=null,JE=0;function oe(){throw Error(s(321))}function hh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function fh(t,n,a,l,c,f){return Vi=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?yg:wh,hs=!1,f=a(l,c),hs=!1,Zs&&(f=Um(n,a,l,c)),zm(t),f}function zm(t){H.H=yl;var n=Jt!==null&&Jt.next!==null;if(Vi=0,Se=Jt=Nt=null,Zu=!1,ml=0,Js=null,n)throw Error(s(300));t===null||be||(t=t.dependencies,t!==null&&Pu(t)&&(be=!0))}function Um(t,n,a,l){Nt=t;var c=0;do{if(Zs&&(Js=null),ml=0,Zs=!1,25<=c)throw Error(s(301));if(c+=1,Se=Jt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=_g,f=n(a,l)}while(Zs);return f}function $E(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Nt.flags|=1024),n}function dh(){var t=Ju!==0;return Ju=0,t}function mh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function gh(t){if(Zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zu=!1}Vi=0,Se=Jt=Nt=null,Zs=!1,ml=Ju=0,Js=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Nt.memoizedState=Se=t:Se=Se.next=t,Se}function ge(){if(Jt===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var n=Se===null?Nt.memoizedState:Se.next;if(n!==null)Se=n,Jt=t;else{if(t===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Se===null?Nt.memoizedState=Se=t:Se=Se.next=t}return Se}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,Js===null&&(Js=[]),t=Cm(Js,t,n),n=Nt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?yg:wh),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===it)return qe(t)}throw Error(s(438,String(t)))}function ph(t){var n=null,a=Nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=$u(),Nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function to(t){var n=ge();return yh(n,Jt,t)}function yh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,C=null,B=n,G=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(xt&X)===X:(Vi&X)===X){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Qs&&(G=!0);else if((Vi&q)===q){B=B.next,q===Qs&&(G=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,Nt.lanes|=q,ga|=q;X=B.action,hs&&a(f,X),f=B.hasEagerState?B.eagerState:a(f,X)}else q={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=q,g=f):C=C.next=q,Nt.lanes|=X,ga|=X;B=B.next}while(B!==null&&B!==n);if(C===null?g=f:C.next=E,!hn(f,t.memoizedState)&&(be=!0,G&&(a=Fs,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Lm(t,n,a){var l=Nt,c=ge(),f=jt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!hn((Jt||c).memoizedState,a);if(g&&(c.memoizedState=a,be=!0),c=c.queue,Th(qm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,$s(9,{destroy:void 0},Bm.bind(null,l,c,a,n),null),ee===null)throw Error(s(349));f||(Vi&127)!==0||jm(l,n,a)}return a}function jm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Nt.updateQueue,n===null?(n=$u(),Nt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Bm(t,n,a,l){n.value=a,n.getSnapshot=l,Pm(n)&&km(t)}function qm(t,n,a){return a(function(){Pm(n)&&km(t)})}function Pm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function km(t){var n=ns(t,2);n!==null&&ln(n,t,2)}function vh(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),hs){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function Hm(t,n,a,l){return t.baseState=a,yh(t,Jt,typeof l=="function"?l:Ii)}function WE(t,n,a,l,c){if(io(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Gm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Gm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=a(c,l),C=H.S;C!==null&&C(g,E),Qm(t,n,E)}catch(B){Eh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=a(c,l),Qm(t,n,f)}catch(B){Eh(t,n,B)}}function Qm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fm(t,n,l)},function(l){return Eh(t,n,l)}):Fm(t,n,a)}function Fm(t,n,a){n.status="fulfilled",n.value=a,Ym(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Gm(t,a)))}function Eh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ym(n),n=n.next;while(n!==l)}t.action=null}function Ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xm(t,n){return n}function Km(t,n){if(jt){var a=ee.formState;if(a!==null){t:{var l=Nt;if(jt){if(ae){e:{for(var c=ae,f=wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=Dn(c.nextSibling),l=c.data==="F!";break t}}ra(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},a.queue=l,a=mg.bind(null,Nt,l),l.dispatch=a,l=vh(!1),f=Ch.bind(null,Nt,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=WE.bind(null,Nt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Zm(t){var n=ge();return Jm(n,Jt,t)}function Jm(t,n,a){if(n=yh(t,n,Xm)[0],t=to(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(g){throw g===Ys?Gu:g}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Nt.flags|=2048,$s(9,{destroy:void 0},t0.bind(null,c,a),null)),[l,f,t]}function t0(t,n){t.action=n}function $m(t){var n=ge(),a=Jt;if(a!==null)return Jm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function $s(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=$u(),Nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Wm(){return ge().memoizedState}function eo(t,n,a,l){var c=We();Nt.flags|=t,c.memoizedState=$s(1|n,{destroy:void 0},a,l===void 0?null:l)}function no(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Jt!==null&&l!==null&&hh(l,Jt.memoizedState.deps)?c.memoizedState=$s(n,f,a,l):(Nt.flags|=t,c.memoizedState=$s(1|n,f,a,l))}function tg(t,n){eo(8390656,8,t,n)}function Th(t,n){no(2048,8,t,n)}function e0(t){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=$u(),Nt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function eg(t){var n=ge().memoizedState;return e0({ref:n,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ng(t,n){return no(4,2,t,n)}function ig(t,n){return no(4,4,t,n)}function ag(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,no(4,4,ag.bind(null,n,t),a)}function Ah(){}function rg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&hh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function lg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&hh(n,l[1]))return l[0];if(l=t(),hs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function Sh(t,n,a){return a===void 0||(Vi&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=up(),Nt.lanes|=t,ga|=t,a)}function ug(t,n,a,l){return hn(a,n)?a:Ks.current!==null?(t=Sh(t,a,l),hn(t,n)||(be=!0),t):(Vi&42)===0||(Vi&1073741824)!==0&&(xt&261930)===0?(be=!0,t.memoizedState=a):(t=up(),Nt.lanes|=t,ga|=t,n)}function og(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Ch(t,!1,n,a);try{var C=c(),B=H.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=ZE(C,l);pl(t,n,G,yn(t))}else pl(t,n,l,yn(t))}catch(X){pl(t,n,{then:function(){},status:"rejected",reason:X},yn())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function n0(){}function bh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=cg(t).queue;og(t,c,n,ht,a===null?n0:function(){return hg(t),a(l)})}function cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function hg(t){var n=cg(t);n.next===null&&(n=t.alternate.memoizedState),pl(t,n.next.queue,{},yn())}function Rh(){return qe(Ol)}function fg(){return ge().memoizedState}function dg(){return ge().memoizedState}function i0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=oa(a);var l=ca(n,t,a);l!==null&&(ln(l,n,a),hl(l,n,a)),n={cache:th()},t.payload=n;return}n=n.return}}function a0(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},io(t)?gg(n,a):(a=Hc(t,n,a,l),a!==null&&(ln(a,t,l),pg(a,n,l)))}function mg(t,n,a){var l=yn();pl(t,n,a,l)}function pl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(io(t))gg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Lu(t,n,c,0),ee===null&&Uu(),!1}catch{}finally{}if(a=Hc(t,n,c,l),a!==null)return ln(a,t,l),pg(a,n,l),!0}return!1}function Ch(t,n,a,l){if(l={lane:2,revertLane:sf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},io(t)){if(n)throw Error(s(479))}else n=Hc(t,a,l,2),n!==null&&ln(n,t,2)}function io(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function gg(t,n){Zs=Zu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function pg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,jr(t,a)}}var yl={readContext:qe,use:Wu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};yl.useEffectEvent=oe;var yg={readContext:qe,use:Wu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:tg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,eo(4194308,4,ag.bind(null,n,t),a)},useLayoutEffect:function(t,n){return eo(4194308,4,t,n)},useInsertionEffect:function(t,n){eo(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(hs){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var c=a(n);if(hs){_n(!0);try{a(n)}finally{_n(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=a0.bind(null,Nt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=vh(t);var n=t.queue,a=mg.bind(null,Nt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ah,useDeferredValue:function(t,n){var a=We();return Sh(a,t,n)},useTransition:function(){var t=vh(!1);return t=og.bind(null,Nt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Nt,c=We();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ee===null)throw Error(s(349));(xt&127)!==0||jm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,tg(qm.bind(null,l,f,t),[t]),l.flags|=2048,$s(9,{destroy:void 0},Bm.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=ee.identifierPrefix;if(jt){var a=di,l=fi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=JE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rh,useFormState:Km,useActionState:Km,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ch.bind(null,Nt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ph,useCacheRefresh:function(){return We().memoizedState=i0.bind(null,Nt)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},wh={readContext:qe,use:Wu,useCallback:rg,useContext:qe,useEffect:Th,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:to,useRef:Wm,useState:function(){return to(Ii)},useDebugValue:Ah,useDeferredValue:function(t,n){var a=ge();return ug(a,Jt.memoizedState,t,n)},useTransition:function(){var t=to(Ii)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:Rh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t,n){var a=ge();return Hm(a,Jt,t,n)},useMemoCache:ph,useCacheRefresh:dg};wh.useEffectEvent=eg;var _g={readContext:qe,use:Wu,useCallback:rg,useContext:qe,useEffect:Th,useImperativeHandle:sg,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:_h,useRef:Wm,useState:function(){return _h(Ii)},useDebugValue:Ah,useDeferredValue:function(t,n){var a=ge();return Jt===null?Sh(a,t,n):ug(a,Jt.memoizedState,t,n)},useTransition:function(){var t=_h(Ii)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:Lm,useId:fg,useHostTransitionStatus:Rh,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=ge();return Jt!==null?Hm(a,Jt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ph,useCacheRefresh:dg};_g.useEffectEvent=eg;function Nh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Dh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=oa(l);c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(ln(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=oa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ca(t,c,l),n!==null&&(ln(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=oa(a);l.tag=2,n!=null&&(l.callback=n),n=ca(t,l,a),n!==null&&(ln(n,t,a),hl(n,t,a))}};function vg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(c,f):!0}function Eg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Dh.enqueueReplaceState(n,n.state,null)}function fs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Tg(t){zu(t)}function Ag(t){console.error(t)}function Sg(t){zu(t)}function ao(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,a){return a=oa(a),a.tag=3,a.payload={element:null},a.callback=function(){ao(t,n)},a}function Rg(t){return t=oa(t),t.tag=3,t}function Cg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){bg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){bg(n,a,l),typeof c!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function s0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Gs(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?yo():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Qu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ef(t,l,c)),!1;case 22:return a.flags|=65536,l===Qu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ef(t,l,c)),!1}throw Error(s(435,a.tag))}return ef(t,l,c),yo(),!1}if(jt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Kc&&(t=Error(s(422),{cause:l}),rl(bn(t,a)))):(l!==Kc&&(n=Error(s(423),{cause:l}),rl(bn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,a),c=Vh(t.stateNode,l,c),rh(t,c),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),Rl===null?Rl=[f]:Rl.push(f),ce!==4&&(ce=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Vh(a.stateNode,l,t),rh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(pa===null||!pa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Rg(c),Cg(c,t,a,l),rh(a,c),!1}a=a.return}while(a!==null);return!1}var Ih=Error(s(461)),be=!1;function Pe(t,n,a,l){n.child=t===null?Vm(n,null,a,l):cs(n,t.child,a,l)}function wg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return rs(n),l=fh(t,n,a,g,f,c),E=dh(),t!==null&&!be?(mh(t,n,c),Mi(t,n,c)):(jt&&E&&Yc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Ng(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Gc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Dg(t,n,f,l,c)):(t=Bu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(g,l)&&t.ref===n.ref)return Mi(t,n,c)}return n.flags|=1,t=Ci(f,l),t.ref=n.ref,t.return=n,n.child=t}function Dg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(be=!1,n.pendingProps=l=f,Bh(t,c))(t.flags&131072)!==0&&(be=!0);else return n.lanes=t.lanes,Mi(t,n,c)}return Mh(t,n,a,l,c)}function Vg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ig(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?Om(n,f):uh(),xm(n);else return l=n.lanes=536870912,Ig(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Hu(n,f.cachePool),Om(n,f),fa(),n.memoizedState=null):(t!==null&&Hu(n,null),uh(),fa());return Pe(t,n,c,a),n.child}function _l(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ig(t,n,a,l,c){var f=nh();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Hu(n,null),uh(),xm(n),t!==null&&Gs(t,n,l,!0),n.childLanes=c,null}function so(t,n){return n=lo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Mg(t,n,a){return cs(n,t.child,null,a),t=so(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function r0(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(jt){if(l.mode==="hidden")return t=so(n,l),n.lanes=536870912,_l(null,t);if(ch(n),(t=ae)?(t=Gp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,Be=n,ae=null)):t=null,t===null)throw ra(n);return n.lanes=536870912,null}return so(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ch(n),c)if(n.flags&256)n.flags&=-257,n=Mg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(be||Gs(t,n,a,!1),c=(a&t.childLanes)!==0,be||c){if(l=ee,l!==null&&(g=Br(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ns(t,g),ln(l,t,g),Ih;yo(),n=Mg(t,n,a)}else t=f.treeContext,ae=Dn(g.nextSibling),Be=n,jt=!0,sa=null,wn=!1,t!==null&&_m(n,t),n=so(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ro(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Mh(t,n,a,l,c){return rs(n),a=fh(t,n,a,l,void 0,c),l=dh(),t!==null&&!be?(mh(t,n,c),Mi(t,n,c)):(jt&&l&&Yc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function Og(t,n,a,l,c,f){return rs(n),n.updateQueue=null,a=Um(n,l,a,c),zm(t),l=dh(),t!==null&&!be?(mh(t,n,f),Mi(t,n,f)):(jt&&l&&Yc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function xg(t,n,a,l,c){if(rs(n),n.stateNode===null){var f=qs,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):qs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Nh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Dh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=fs(a,E);f.props=C;var B=f.context,G=a.contextType;g=qs,typeof G=="object"&&G!==null&&(g=qe(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Eg(n,f,l,g),ua=!1;var q=n.memoizedState;f.state=q,dl(n,l,f,c),fl(),B=n.memoizedState,E||q!==B||ua?(typeof X=="function"&&(Nh(n,a,X,l),B=n.memoizedState),(C=ua||vg(n,a,C,l,q,B,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sh(t,n),g=n.memoizedProps,G=fs(a,g),f.props=G,X=n.pendingProps,q=f.context,B=a.contextType,C=qs,typeof B=="object"&&B!==null&&(C=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||q!==C)&&Eg(n,f,l,C),ua=!1,q=n.memoizedState,f.state=q,dl(n,l,f,c),fl();var k=n.memoizedState;g!==X||q!==k||ua||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(Nh(n,a,E,l),k=n.memoizedState),(G=ua||vg(n,a,G,l,q,k,C)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ro(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=cs(n,t.child,null,c),n.child=cs(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Mi(t,n,c),t}function zg(t,n,a,l){return as(),n.flags|=256,Pe(t,n,a,l),n.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(t){return{baseLanes:t,cachePool:bm()}}function zh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function Ug(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?ha(n):fa(),(t=ae)?(t=Gp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:aa!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=gm(t),a.return=n,n.child=a,Be=n,ae=null)):t=null,t===null)throw ra(n);return _f(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(fa(),c=n.mode,E=lo({mode:"hidden",children:E},c),l=is(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=xh(a),l.childLanes=zh(t,g,a),n.memoizedState=Oh,_l(null,l)):(ha(n),Uh(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ha(n),n.flags&=-257,n=Lh(t,n,a)):n.memoizedState!==null?(fa(),n.child=t.child,n.flags|=128,n=null):(fa(),E=l.fallback,c=n.mode,l=lo({mode:"visible",children:l.children},c),E=is(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,cs(n,t.child,null,a),l=n.child,l.memoizedState=xh(a),l.childLanes=zh(t,g,a),n.memoizedState=Oh,n=_l(null,l));else if(ha(n),_f(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,rl({value:l,source:null,stack:null}),n=Lh(t,n,a)}else if(be||Gs(t,n,a,!1),g=(a&t.childLanes)!==0,be||g){if(g=ee,g!==null&&(l=Br(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,ns(t,l),ln(g,t,l),Ih;yf(E)||yo(),n=Lh(t,n,a)}else yf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ae=Dn(E.nextSibling),Be=n,jt=!0,sa=null,wn=!1,t!==null&&_m(n,t),n=Uh(n,l.children),n.flags|=4096);return n}return c?(fa(),E=l.fallback,c=n.mode,C=t.child,B=C.sibling,l=Ci(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=Ci(B,E):(E=is(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,_l(null,l),l=n.child,E=t.child.memoizedState,E===null?E=xh(a):(c=E.cachePool,c!==null?(C=Ae._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=bm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=zh(t,g,a),n.memoizedState=Oh,_l(t.child,l)):(ha(n),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Uh(t,n){return n=lo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lo(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Lh(t,n,a){return cs(n,t.child,null,a),t=Uh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$c(t.return,n,a)}function jh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function jg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,at(me,g),Pe(t,n,l,a),l=jt?sl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,a,n);else if(t.tag===19)Lg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Ku(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),jh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ku(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}jh(n,!0,a,null,f,l);break;case"together":jh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Mi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ga|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Gs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ci(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function l0(t,n,a){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),la(n,Ae,t.memoizedState.cache),as();break;case 27:case 5:Ze(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:la(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ch(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ha(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ug(t,n,a):(ha(n),t=Mi(t,n,a),t!==null?t.sibling:null);ha(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Gs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return jg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),at(me,me.current),l)break;return null;case 22:return n.lanes=0,Vg(t,n,a,n.pendingProps);case 24:la(n,Ae,t.memoizedState.cache)}return Mi(t,n,a)}function Bg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)be=!0;else{if(!Bh(t,a)&&(n.flags&128)===0)return be=!1,l0(t,n,a);be=(t.flags&131072)!==0}else be=!1,jt&&(n.flags&1048576)!==0&&ym(n,sl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=us(n.elementType),n.type=t,typeof t=="function")Gc(t)?(l=fs(t,l),n.tag=1,n=xg(null,n,t,l,a)):(n.tag=0,n=Mh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===gt){n.tag=11,n=wg(null,n,t,l,a);break t}else if(c===w){n.tag=14,n=Ng(null,n,t,l,a);break t}}throw n=te(t)||t,Error(s(306,n,""))}}return n;case 0:return Mh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=fs(l,n.pendingProps),xg(t,n,l,c,a);case 3:t:{if(pt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,sh(t,n),dl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,la(n,Ae,l),l!==f.cache&&Wc(n,[Ae],a,!0),fl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=zg(t,n,l,a);break t}else if(l!==c){c=bn(Error(s(424)),n),rl(c),n=zg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=Dn(t.firstChild),Be=n,jt=!0,sa=null,wn=!0,a=Vm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(as(),l===c){n=Mi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return ro(t,n),t===null?(a=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,t=n.pendingProps,l=bo(bt.current).createElement(a),l[ve]=n,l[Me]=t,ke(l,a,t),Ee(l),n.stateNode=l):n.memoizedState=Zp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ze(n),t===null&&jt&&(l=n.stateNode=Yp(n.type,n.pendingProps,bt.current),Be=n,wn=!0,c=ae,Ea(n.type)?(vf=c,ae=Dn(l.firstChild)):ae=c),Pe(t,n,n.pendingProps.children,a),ro(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((c=l=ae)&&(l=L0(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,Be=n,ae=Dn(l.firstChild),wn=!1,c=!0):c=!1),c||ra(n)),Ze(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,mf(c,f)?l=null:g!==null&&mf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=fh(t,n,$E,null,null,a),Ol._currentValue=c),ro(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&jt&&((t=a=ae)&&(a=j0(a,n.pendingProps,wn),a!==null?(n.stateNode=a,Be=n,ae=null,t=!0):t=!1),t||ra(n)),null;case 13:return Ug(t,n,a);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=cs(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return wg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,la(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,rs(n),c=qe(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Ng(t,n,n.type,n.pendingProps,a);case 15:return Dg(t,n,n.type,n.pendingProps,a);case 19:return jg(t,n,a);case 31:return r0(t,n,a);case 22:return Vg(t,n,a,n.pendingProps);case 24:return rs(n),l=qe(Ae),t===null?(c=nh(),c===null&&(c=ee,f=th(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ah(n),la(n,Ae,c)):((t.lanes&a)!==0&&(sh(t,n),dl(n,null,null,a),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),la(n,Ae,l)):(l=f.cache,la(n,Ae,l),l!==c.cache&&Wc(n,[Ae],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Oi(t){t.flags|=4}function qh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(fp())t.flags|=8192;else throw os=Qu,ih}else t.flags&=-16777217}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ey(n))if(fp())t.flags|=8192;else throw os=Qu,ih}function uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mu():536870912,t.lanes|=n,nr|=n)}function vl(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function u0(t,n,a){var l=n.pendingProps;switch(Xc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Ae),ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Hs(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zc())),se(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Oi(n),f!==null?(se(n),qg(n,f)):(se(n),qh(n,c,null,l,a))):f?f!==t.memoizedState?(Oi(n),se(n),qg(n,f)):(se(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Oi(n),se(n),qh(n,c,t,l,a)),null;case 27:if(On(n),a=bt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}t=rt.current,Hs(n)?vm(n):(t=Yp(c,l,a),n.stateNode=t,Oi(n))}return se(n),null;case 5:if(On(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}if(f=rt.current,Hs(n))vm(n);else{var g=bo(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ve]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(ke(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Oi(n)}}return se(n),qh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=bt.current,Hs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Up(t.nodeValue,a)),t||ra(n,!0)}else t=bo(t).createTextNode(l),t[ve]=n,n.stateNode=t}return se(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Hs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=n}else as(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),t=!1}else a=Zc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Hs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else as(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=Zc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),uo(n,n.updateQueue),se(n),null);case 4:return ft(),t===null&&of(n.stateNode.containerInfo),se(n),null;case 10:return Di(n.type),se(n),null;case 19:if(Y(me),l=n.memoizedState,l===null)return se(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)vl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ku(t),f!==null){for(n.flags|=128,vl(l,!1),t=f.updateQueue,n.updateQueue=t,uo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)mm(a,t),a=a.sibling;return at(me,me.current&1|2),jt&&wi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Je()>mo&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Ku(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,uo(n,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!jt)return se(n),null}else 2*Je()-l.renderingStartTime>mo&&a!==536870912&&(n.flags|=128,c=!0,vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,a=me.current,at(me,c?a&1|2:a&1),jt&&wi(n,l.treeForkCount),t):(se(n),null);case 22:case 23:return mn(n),oh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&uo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Ae),se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function o0(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Ae),ft(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return On(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(s(340));as()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));as()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(me),null;case 4:return ft(),null;case 10:return Di(n.type),null;case 22:case 23:return mn(n),oh(),t!==null&&Y(ls),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Ae),null;case 25:return null;default:return null}}function Pg(t,n){switch(Xc(n),n.tag){case 3:Di(Ae),ft();break;case 26:case 27:case 5:On(n);break;case 4:ft();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(me);break;case 10:Di(n.type);break;case 22:case 23:mn(n),oh(),t!==null&&Y(ls);break;case 24:Di(Ae)}}function El(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function da(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=a,B=E;try{B()}catch(G){Kt(c,C,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function kg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Mm(n,a)}catch(l){Kt(t,t.return,l)}}}function Hg(t,n,a){a.props=fs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Tl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function mi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function Gg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function Ph(t,n,a){try{var l=t.stateNode;I0(l,t.type,a,n),l[Me]=n}catch(c){Kt(t,t.return,c)}}function Qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ea(t.type)||t.tag===4}function kh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Hh(t,n,a),t=t.sibling;t!==null;)Hh(t,n,a),t=t.sibling}function oo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Ea(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(oo(t,n,a),t=t.sibling;t!==null;)oo(t,n,a),t=t.sibling}function Fg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,a),n[ve]=t,n[Me]=a}catch(f){Kt(t,t.return,f)}}var xi=!1,Re=!1,Gh=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function c0(t,n){if(t=t.containerInfo,ff=Io,t=sm(t),Lc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,B=0,G=0,X=t,q=null;e:for(;;){for(var k;X!==a||c!==0&&X.nodeType!==3||(E=g+c),X!==f||l!==0&&X.nodeType!==3||(C=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(k=X.firstChild)!==null;)q=X,X=k;for(;;){if(X===t)break e;if(q===a&&++B===c&&(E=g),q===f&&++G===l&&(C=g),(k=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=k}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:t,selectionRange:a},Io=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ot=fs(a.type,c);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Kt(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)pf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}}function Xg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(t,a),l&4&&El(5,a);break;case 1:if(Ui(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Kt(a,a.return,g)}else{var c=fs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(a,a.return,g)}}l&64&&kg(a),l&512&&Tl(a,a.return);break;case 3:if(Ui(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Mm(t,n)}catch(g){Kt(a,a.return,g)}}break;case 27:n===null&&l&4&&Fg(a);case 26:case 5:Ui(t,a),n===null&&l&4&&Gg(a),l&512&&Tl(a,a.return);break;case 12:Ui(t,a);break;case 31:Ui(t,a),l&4&&Jg(t,a);break;case 13:Ui(t,a),l&4&&$g(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=v0.bind(null,a),B0(t,a))));break;case 22:if(l=a.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||Re,c=xi;var f=Re;xi=l,(Re=n)&&!f?Li(t,a,(a.subtreeFlags&8772)!==0):Ui(t,a),xi=c,Re=f}break;case 30:break;default:Ui(t,a)}}function Kg(t){var n=t.alternate;n!==null&&(t.alternate=null,Kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Cs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,nn=!1;function zi(t,n,a){for(a=a.child;a!==null;)Zg(t,n,a),a=a.sibling}function Zg(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Re||mi(a,n),zi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||mi(a,n);var l=le,c=nn;Ea(a.type)&&(le=a.stateNode,nn=!1),zi(t,n,a),Vl(a.stateNode),le=l,nn=c;break;case 5:Re||mi(a,n);case 6:if(l=le,c=nn,le=null,zi(t,n,a),le=l,nn=c,le!==null)if(nn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:le!==null&&(nn?(t=le,kp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),cr(t)):kp(le,a.stateNode));break;case 4:l=le,c=nn,le=a.stateNode.containerInfo,nn=!0,zi(t,n,a),le=l,nn=c;break;case 0:case 11:case 14:case 15:da(2,a,n),Re||da(4,a,n),zi(t,n,a);break;case 1:Re||(mi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hg(a,n,l)),zi(t,n,a);break;case 21:zi(t,n,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,zi(t,n,a),Re=l;break;default:zi(t,n,a)}}function Jg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cr(t)}catch(a){Kt(n,n.return,a)}}}function $g(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cr(t)}catch(a){Kt(n,n.return,a)}}function h0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Yg),n;default:throw Error(s(435,t.tag))}}function co(t,n){var a=h0(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=E0.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ea(E.type)){le=E.stateNode,nn=!1;break t}break;case 5:le=E.stateNode,nn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(le===null)throw Error(s(160));Zg(f,g,c),le=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wg(n,t),n=n.sibling}var Gn=null;function Wg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(da(3,t,t.return),El(3,t),da(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(Re||a===null||mi(a,a.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Gn;if(an(n,t),sn(t),l&512&&(Re||a===null||mi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ti]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,a),f[ve]=t,Ee(f),l=f;break t;case"link":var g=Wp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Wp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,Ee(f),l=f}t.stateNode=l}else ty(c,t.type,t.stateNode);else t.stateNode=$p(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ty(c,t.type,t.stateNode):$p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(Re||a===null||mi(a,a.return)),a!==null&&l&4&&Ph(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(Re||a===null||mi(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(ot){Kt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Gh=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ot){Kt(t,t.return,ot)}}break;case 3:if(wo=null,c=Gn,Gn=Ro(n.containerInfo),an(n,t),Gn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(n.containerInfo)}catch(ot){Kt(t,t.return,ot)}Gh&&(Gh=!1,tp(t));break;case 4:l=Gn,Gn=Ro(t.stateNode.containerInfo),an(n,t),sn(t),Gn=l;break;case 12:an(n,t),sn(t);break;case 31:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,co(t,l)));break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fo=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,co(t,l)));break;case 22:c=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=xi,G=Re;if(xi=B||c,Re=G||C,an(n,t),Re=G,xi=B,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||C||xi||Re||ds(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ot){Kt(C,C.return,ot)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(ot){Kt(C,C.return,ot)}}}else if(n.tag===18){if(a===null){C=n;try{var k=C.stateNode;c?Hp(k,!0):Hp(C.stateNode,!1)}catch(ot){Kt(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,co(t,a))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,co(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Qg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=kh(t);oo(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=kh(t);oo(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,B=kh(t);Hh(t,B,C);break;default:throw Error(s(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ui(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xg(t,n.alternate,n),n=n.sibling}function ds(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:da(4,n,n.return),ds(n);break;case 1:mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Hg(n,n.return,a),ds(n);break;case 27:Vl(n.stateNode);case 26:case 5:mi(n,n.return),ds(n);break;case 22:n.memoizedState===null&&ds(n);break;case 30:ds(n);break;default:ds(n)}t=t.sibling}}function Li(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Li(c,f,a),El(4,f);break;case 1:if(Li(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Kt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Im(C[c],E)}catch(B){Kt(l,l.return,B)}}a&&g&64&&kg(f),Tl(f,f.return);break;case 27:Fg(f);case 26:case 5:Li(c,f,a),a&&l===null&&g&4&&Gg(f),Tl(f,f.return);break;case 12:Li(c,f,a);break;case 31:Li(c,f,a),a&&g&4&&Jg(c,f);break;case 13:Li(c,f,a),a&&g&4&&$g(c,f);break;case 22:f.memoizedState===null&&Li(c,f,a),Tl(f,f.return);break;case 30:break;default:Li(c,f,a)}n=n.sibling}}function Qh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Fh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function Qn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(t,n,a,l),n=n.sibling}function ep(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,a,l),c&2048&&El(9,n);break;case 1:Qn(t,n,a,l);break;case 3:Qn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){Qn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Kt(n,n.return,C)}}else Qn(t,n,a,l);break;case 31:Qn(t,n,a,l);break;case 13:Qn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,a,l):Al(t,n):f._visibility&2?Qn(t,n,a,l):(f._visibility|=2,Ws(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Qh(g,n);break;case 24:Qn(t,n,a,l),c&2048&&Fh(n.alternate,n);break;default:Qn(t,n,a,l)}}function Ws(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:Ws(f,g,E,C,c),El(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ws(f,g,E,C,c):Al(f,g):(G._visibility|=2,Ws(f,g,E,C,c)),c&&B&2048&&Qh(g.alternate,g);break;case 24:Ws(f,g,E,C,c),c&&B&2048&&Fh(g.alternate,g);break;default:Ws(f,g,E,C,c)}n=n.sibling}}function Al(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Al(a,l),c&2048&&Qh(l.alternate,l);break;case 24:Al(a,l),c&2048&&Fh(l.alternate,l);break;default:Al(a,l)}n=n.sibling}}var Sl=8192;function tr(t,n,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)np(t,n,a),t=t.sibling}function np(t,n,a){switch(t.tag){case 26:tr(t,n,a),t.flags&Sl&&t.memoizedState!==null&&J0(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:tr(t,n,a);break;case 3:case 4:var l=Gn;Gn=Ro(t.stateNode.containerInfo),tr(t,n,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,tr(t,n,a),Sl=l):tr(t,n,a));break;default:tr(t,n,a)}}function ip(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,sp(l,t)}ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&da(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ho(t)):bl(t);break;default:bl(t)}}function ho(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,sp(l,t)}ip(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:da(8,n,n.return),ho(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ho(n));break;default:ho(n)}t=t.sibling}}function sp(t,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(Kg(l),l===a){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var f0={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},d0=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,It=null,xt=0,Xt=0,gn=null,ma=!1,er=!1,Yh=!1,ji=0,ce=0,ga=0,ms=0,Xh=0,pn=0,nr=0,Rl=null,rn=null,Kh=!1,fo=0,rp=0,mo=1/0,go=null,pa=null,Ve=0,ya=null,ir=null,Bi=0,Zh=0,Jh=null,lp=null,Cl=0,$h=null;function yn(){return(Qt&2)!==0&&xt!==0?xt&-xt:H.T!==null?sf():gu()}function up(){if(pn===0)if((xt&536870912)===0||jt){var t=Pa;Pa<<=1,(Pa&3932160)===0&&(Pa=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function ln(t,n,a){(t===ee&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(ar(t,0),_a(t,xt,pn,!1)),ka(t,a),((Qt&2)===0||t!==ee)&&(t===ee&&((Qt&2)===0&&(ms|=a),ce===4&&_a(t,xt,pn,!1)),gi(t))}function op(t,n,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),c=l?p0(t,n):tf(t,n,!0),f=l;do{if(c===0){er&&!l&&_a(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!m0(a)){c=tf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Rl;var C=E.current.memoizedState.isDehydrated;if(C&&(ar(E,g).flags|=256),g=tf(E,g,!1),g!==2){if(Yh&&!C){E.errorRecoveryDisabledLanes|=f,ms|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ar(t,0),_a(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:_a(l,n,pn,!ma);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=fo+300-Je(),10<c)){if(_a(l,n,pn,!ma),Jn(l,0,!0)!==0)break t;Bi=n,l.timeoutHandle=qp(cp.bind(null,l,a,rn,go,Kh,n,pn,ms,nr,ma,f,"Throttled",-0,0),c);break t}cp(l,a,rn,go,Kh,n,pn,ms,nr,ma,f,null,-0,0)}}break}while(!0);gi(t)}function cp(t,n,a,l,c,f,g,E,C,B,G,X,q,k){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},np(n,f,X);var ot=(f&62914560)===f?fo-Je():(f&4194048)===f?rp-Je():0;if(ot=$0(X,ot),ot!==null){Bi=f,t.cancelPendingCommit=ot(_p.bind(null,t,n,f,a,l,c,g,E,C,G,X,null,q,k)),_a(t,f,g,!B);return}}_p(t,n,f,a,l,c,g,E,C)}function m0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _a(t,n,a,l){n&=~Xh,n&=~ms,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-fe(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Ha(t,a,n)}function po(){return(Qt&6)===0?(wl(0),!1):!0}function Wh(){if(It!==null){if(Xt===0)var t=It.return;else t=It,Ni=ss=null,gh(t),Xs=null,ol=0,t=It;for(;t!==null;)Pg(t.alternate,t),t=t.return;It=null}}function ar(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,x0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bi=0,Wh(),ee=t,It=a=Ci(t.current,null),xt=n,Xt=0,gn=null,ma=!1,er=zn(t,n),Yh=!1,nr=pn=Xh=ms=ga=ce=0,rn=Rl=null,Kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-fe(l),f=1<<c;n|=t[c],l&=~f}return ji=n,Uu(),a}function hp(t,n){Nt=null,H.H=yl,n===Ys||n===Gu?(n=wm(),Xt=3):n===ih?(n=wm(),Xt=4):Xt=n===Ih?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,It===null&&(ce=1,ao(t,bn(n,t.current)))}function fp(){var t=dn.current;return t===null?!0:(xt&4194048)===xt?Nn===null:(xt&62914560)===xt||(xt&536870912)!==0?t===Nn:!1}function dp(){var t=H.H;return H.H=yl,t===null?yl:t}function mp(){var t=H.A;return H.A=f0,t}function yo(){ce=4,ma||(xt&4194048)!==xt&&dn.current!==null||(er=!0),(ga&134217727)===0&&(ms&134217727)===0||ee===null||_a(ee,xt,pn,!1)}function tf(t,n,a){var l=Qt;Qt|=2;var c=dp(),f=mp();(ee!==t||xt!==n)&&(go=null,ar(t,n)),n=!1;var g=ce;t:do try{if(Xt!==0&&It!==null){var E=It,C=gn;switch(Xt){case 8:Wh(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Xt;if(Xt=0,gn=null,sr(t,E,C,B),a&&er){g=0;break t}break;default:B=Xt,Xt=0,gn=null,sr(t,E,C,B)}}g0(),g=ce;break}catch(G){hp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ni=ss=null,Qt=l,H.H=c,H.A=f,It===null&&(ee=null,xt=0,Uu()),g}function g0(){for(;It!==null;)gp(It)}function p0(t,n){var a=Qt;Qt|=2;var l=dp(),c=mp();ee!==t||xt!==n?(go=null,mo=Je()+500,ar(t,n)):er=zn(t,n);t:do try{if(Xt!==0&&It!==null){n=It;var f=gn;e:switch(Xt){case 1:Xt=0,gn=null,sr(t,n,f,1);break;case 2:case 9:if(Rm(f)){Xt=0,gn=null,pp(n);break}n=function(){Xt!==2&&Xt!==9||ee!==t||(Xt=7),gi(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Rm(f)?(Xt=0,gn=null,pp(n)):(Xt=0,gn=null,sr(t,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?ey(g):E.stateNode.complete){Xt=0,gn=null;var C=E.sibling;if(C!==null)It=C;else{var B=E.return;B!==null?(It=B,_o(B)):It=null}break e}}Xt=0,gn=null,sr(t,n,f,5);break;case 6:Xt=0,gn=null,sr(t,n,f,6);break;case 8:Wh(),ce=6;break t;default:throw Error(s(462))}}y0();break}catch(G){hp(t,G)}while(!0);return Ni=ss=null,H.H=l,H.A=c,Qt=a,It!==null?0:(ee=null,xt=0,Uu(),ce)}function y0(){for(;It!==null&&!Vc();)gp(It)}function gp(t){var n=Bg(t.alternate,t,ji);t.memoizedProps=t.pendingProps,n===null?_o(t):It=n}function pp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Og(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Og(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:gh(n);default:Pg(a,n),n=It=mm(n,ji),n=Bg(a,n,ji)}t.memoizedProps=t.pendingProps,n===null?_o(t):It=n}function sr(t,n,a,l){Ni=ss=null,gh(n),Xs=null,ol=0;var c=n.return;try{if(s0(t,c,n,a,xt)){ce=1,ao(t,bn(a,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;ce=1,ao(t,bn(a,t.current)),It=null;return}n.flags&32768?(jt||l===1?t=!0:er||(xt&536870912)!==0?t=!1:(ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yp(n,t)):_o(n)}function _o(t){var n=t;do{if((n.flags&32768)!==0){yp(n,ma);return}t=n.return;var a=u0(n.alternate,n,ji);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);ce===0&&(ce=5)}function yp(t,n){do{var a=o0(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);ce=6,It=null}function _p(t,n,a,l,c,f,g,E,C){t.cancelPendingCommit=null;do vo();while(Ve!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=kc,Oc(t,a,f,g,E,C),t===ee&&(It=ee=null,xt=0),ir=n,ya=t,Bi=a,Zh=f,Jh=c,lp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T0(Xi,function(){return Sp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,g=Qt,Qt|=4;try{c0(t,n,a)}finally{Qt=g,tt.p=c,H.T=l}}Ve=1,vp(),Ep(),Tp()}}function vp(){if(Ve===1){Ve=0;var t=ya,n=ir,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Qt;Qt|=4;try{Wg(n,t);var f=df,g=sm(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&am(E.ownerDocument.documentElement,E)){if(C!==null&&Lc(E)){var B=C.start,G=C.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var k=q.getSelection(),ot=E.textContent.length,_t=Math.min(C.start,ot),Wt=C.end===void 0?_t:Math.min(C.end,ot);!k.extend&&_t>Wt&&(g=Wt,Wt=_t,_t=g);var z=im(E,_t),V=im(E,Wt);if(z&&V&&(k.rangeCount!==1||k.anchorNode!==z.node||k.anchorOffset!==z.offset||k.focusNode!==V.node||k.focusOffset!==V.offset)){var j=X.createRange();j.setStart(z.node,z.offset),k.removeAllRanges(),_t>Wt?(k.addRange(j),k.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),k.addRange(j))}}}}for(X=[],k=E;k=k.parentNode;)k.nodeType===1&&X.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var F=X[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Io=!!ff,df=ff=null}finally{Qt=c,tt.p=l,H.T=a}}t.current=n,Ve=2}}function Ep(){if(Ve===2){Ve=0;var t=ya,n=ir,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Qt;Qt|=4;try{Xg(t,n.alternate,n)}finally{Qt=c,tt.p=l,H.T=a}}Ve=3}}function Tp(){if(Ve===4||Ve===3){Ve=0,uu();var t=ya,n=ir,a=Bi,l=lp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,ir=ya=null,Ap(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(pa=null),Ai(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Bi&3)!==0&&vo(),gi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===$h?Cl++:(Cl=0,$h=t):Cl=0,wl(0)}}function Ap(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function vo(){return vp(),Ep(),Tp(),Sp()}function Sp(){if(Ve!==5)return!1;var t=ya,n=Zh;Zh=0;var a=Ai(Bi),l=H.T,c=tt.p;try{tt.p=32>a?32:a,H.T=null,a=Jh,Jh=null;var f=ya,g=Bi;if(Ve=0,ir=ya=null,Bi=0,(Qt&6)!==0)throw Error(s(331));var E=Qt;if(Qt|=4,ap(f.current),ep(f,f.current,g,a),Qt=E,wl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{tt.p=c,H.T=l,Ap(t,n)}}function bp(t,n,a){n=bn(a,n),n=Vh(t.stateNode,n,2),t=ca(t,n,2),t!==null&&(ka(t,2),gi(t))}function Kt(t,n,a){if(t.tag===3)bp(t,t,a);else for(;n!==null;){if(n.tag===3){bp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pa===null||!pa.has(l))){t=bn(a,t),a=Rg(2),l=ca(n,a,2),l!==null&&(Cg(a,l,n,t),ka(l,2),gi(l));break}}n=n.return}}function ef(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new d0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Yh=!0,c.add(a),t=_0.bind(null,t,n,a),n.then(t,t))}function _0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ee===t&&(xt&a)===a&&(ce===4||ce===3&&(xt&62914560)===xt&&300>Je()-fo?(Qt&2)===0&&ar(t,0):Xh|=a,nr===xt&&(nr=0)),gi(t)}function Rp(t,n){n===0&&(n=mu()),t=ns(t,n),t!==null&&(ka(t,n),gi(t))}function v0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Rp(t,a)}function E0(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Rp(t,a)}function T0(t,n){return De(t,n)}var Eo=null,rr=null,nf=!1,To=!1,af=!1,va=0;function gi(t){t!==rr&&t.next===null&&(rr===null?Eo=rr=t:rr=rr.next=t),To=!0,nf||(nf=!0,S0())}function wl(t,n){if(!af&&To){af=!0;do for(var a=!1,l=Eo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-fe(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Dp(l,f))}else f=xt,f=Jn(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(a=!0,Dp(l,f));l=l.next}while(a);af=!1}}function A0(){Cp()}function Cp(){To=nf=!1;var t=0;va!==0&&O0()&&(t=va);for(var n=Je(),a=null,l=Eo;l!==null;){var c=l.next,f=wp(l,n);f===0?(l.next=null,a===null?Eo=c:a.next=c,c===null&&(rr=a)):(a=l,(t!==0||(f&3)!==0)&&(To=!0)),l=c}Ve!==0&&Ve!==5||wl(t),va!==0&&(va=0)}function wp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,C=c[g];C===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Mc(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=ee,a=xt,a=Jn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Yi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Yi(l),Ai(a)){case 2:case 8:a=Lr;break;case 32:a=Xi;break;case 268435456:a=ou;break;default:a=Xi}return l=Np.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Yi(l),t.callbackPriority=2,t.callbackNode=null,2}function Np(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vo()&&t.callbackNode!==a)return null;var l=xt;return l=Jn(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(op(t,l,n),wp(t,Je()),t.callbackNode!=null&&t.callbackNode===a?Np.bind(null,t):null)}function Dp(t,n){if(vo())return null;op(t,n,!0)}function S0(){z0(function(){(Qt&6)!==0?De(Ur,A0):Cp()})}function sf(){if(va===0){var t=Qs;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),va=t}return va}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vs(""+t)}function Ip(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function b0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Vp((c[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?Vp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ui("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var C=g?Ip(c,g):new FormData(c);bh(a,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Ip(c,g):new FormData(c),bh(a,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var rf=0;rf<Pc.length;rf++){var lf=Pc[rf],R0=lf.toLowerCase(),C0=lf[0].toUpperCase()+lf.slice(1);Hn(R0,"on"+C0)}Hn(um,"onAnimationEnd"),Hn(om,"onAnimationIteration"),Hn(cm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(kE,"onTransitionRun"),Hn(HE,"onTransitionStart"),Hn(GE,"onTransitionCancel"),Hn(hm,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Mp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){zu(G)}c.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,B=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){zu(G)}c.currentTarget=null,f=C}}}}function Mt(t,n){var a=n[Rs];a===void 0&&(a=n[Rs]=new Set);var l=t+"__bubble";a.has(l)||(Op(n,t,2,!1),a.add(l))}function uf(t,n,a){var l=0;n&&(l|=4),Op(a,t,l,n)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[Ao]){t[Ao]=!0,qr.forEach(function(a){a!=="selectionchange"&&(w0.has(a)||uf(a,!1,t),uf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ao]||(n[Ao]=!0,uf("selectionchange",!1,n))}}function Op(t,n,a,l){switch(uy(n)){case 2:var c=eT;break;case 8:c=nT;break;default:c=bf}a=c.bind(null,n,a,t),c=void 0,!Xa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function cf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ei(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ta(function(){var B=f,G=En(a),X=[];t:{var q=fm.get(t);if(q!==void 0){var k=ui,ot=t;switch(t){case"keypress":if(Za(a)===0)break t;case"keydown":case"keyup":k=Mu;break;case"focusin":ot="focus",k=$a;break;case"focusout":ot="blur",k=$a;break;case"beforeblur":case"afterblur":k=$a;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case um:case om:case cm:k=Ru;break;case hm:k=T;break;case"scroll":case"scrollend":k=$r;break;case"wheel":k=P;break;case"copy":case"cut":case"paste":k=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ri;break;case"toggle":case"beforetoggle":k=wt}var _t=(n&4)!==0,Wt=!_t&&(t==="scroll"||t==="scrollend"),z=_t?q!==null?q+"Capture":null:q;_t=[];for(var V=B,j;V!==null;){var F=V;if(j=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||j===null||z===null||(F=Bn(V,z),F!=null&&_t.push(Dl(V,F,j))),Wt)break;V=V.return}0<_t.length&&(q=new k(q,ot,null,a,G),X.push({event:q,listeners:_t}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",q&&a!==Kr&&(ot=a.relatedTarget||a.fromElement)&&(ei(ot)||ot[Wn]))break t;if((k||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,k?(ot=a.relatedTarget||a.toElement,k=B,ot=ot?ei(ot):null,ot!==null&&(Wt=h(ot),_t=ot.tag,ot!==Wt||_t!==5&&_t!==27&&_t!==6)&&(ot=null)):(k=null,ot=B),k!==ot)){if(_t=Wr,F="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Ri,F="onPointerLeave",z="onPointerEnter",V="pointer"),Wt=k==null?q:on(k),j=ot==null?q:on(ot),q=new _t(F,V+"leave",k,a,G),q.target=Wt,q.relatedTarget=j,F=null,ei(G)===B&&(_t=new _t(z,V+"enter",ot,a,G),_t.target=j,_t.relatedTarget=Wt,F=_t),Wt=F,k&&ot)e:{for(_t=N0,z=k,V=ot,j=0,F=z;F;F=_t(F))j++;F=0;for(var dt=V;dt;dt=_t(dt))F++;for(;0<j-F;)z=_t(z),j--;for(;0<F-j;)V=_t(V),F--;for(;j--;){if(z===V||V!==null&&z===V.alternate){_t=z;break e}z=_t(z),V=_t(V)}_t=null}else _t=null;k!==null&&xp(X,q,k,_t,!1),ot!==null&&Wt!==null&&xp(X,Wt,ot,_t,!0)}}t:{if(q=B?on(B):window,k=q.nodeName&&q.nodeName.toLowerCase(),k==="select"||k==="input"&&q.type==="file")var Pt=Jd;else if(Kd(q))if($d)Pt=BE;else{Pt=LE;var ct=UE}else k=q.nodeName,!k||k.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ds(B.elementType)&&(Pt=Jd):Pt=jE;if(Pt&&(Pt=Pt(t,B))){Zd(X,Pt,a,G);break t}ct&&ct(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Fr(q,"number",q.value)}switch(ct=B?on(B):window,t){case"focusin":(Kd(ct)||ct.contentEditable==="true")&&(Ls=ct,jc=B,al=null);break;case"focusout":al=jc=Ls=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,rm(X,a,G);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":rm(X,a,G)}var Dt;if(Gt)t:{switch(t){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Us?Wa(t,a)&&(zt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(zt="onCompositionStart");zt&&(hi&&a.locale!=="ko"&&(Us||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Us&&(Dt=Jr()):(li=G,Zr="value"in li?li.value:li.textContent,Us=!0)),ct=So(B,zt),0<ct.length&&(zt=new ci(zt,t,null,a,G),X.push({event:zt,listeners:ct}),Dt?zt.data=Dt:(Dt=zs(a),Dt!==null&&(zt.data=Dt)))),(Dt=An?ME(t,a):OE(t,a))&&(zt=So(B,"onBeforeInput"),0<zt.length&&(ct=new ci("onBeforeInput","beforeinput",null,a,G),X.push({event:ct,listeners:zt}),ct.data=Dt)),b0(X,t,B,a,G)}Mp(X,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function So(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=Bn(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function N0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,c?(B=Bn(a,f),B!=null&&g.unshift(Dl(a,B,C))):c||(B=Bn(a,f),B!=null&&g.push(Dl(a,B,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var D0=/\r\n?/g,V0=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(D0,`
`).replace(V0,"")}function Up(t,n){return n=zp(n),zp(t)===n}function $t(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Xr(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Vs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(t,n,"name",c.name,c,null),$t(t,n,"formEncType",c.formEncType,c,null),$t(t,n,"formMethod",c.formMethod,c,null),$t(t,n,"formTarget",c.formTarget,c,null)):($t(t,n,"encType",c.encType,c,null),$t(t,n,"method",c.method,c,null),$t(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Vs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jn);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Vs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),ws(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ws(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Au.get(a)||a,ws(t,a,l))}}function hf(t,n,a,l,c,f){switch(a){case"style":Xr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ws(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,f,g,a,null)}}c&&$t(t,n,"srcSet",a.srcSet,a,null),l&&$t(t,n,"src",a.src,a,null);return;case"input":Mt("invalid",t);var E=f=g=c=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:$t(t,n,l,G,a,null)}}vu(t,f,E,C,B,g,c,!1);return;case"select":Mt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:$t(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Zi(t,!!l,n,!1):a!=null&&Zi(t,!!l,a,!0);return;case"textarea":Mt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(t,n,g,E,a,null)}Ji(t,l,c,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,C,l,a,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Mt(Nl[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,B,l,a,null)}return;default:if(Ds(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&hf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&$t(t,n,E,l,a,null))}function I0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,B=null,G=null;for(k in a){var X=a[k];if(a.hasOwnProperty(k)&&X!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(k)||$t(t,n,k,null,l,X)}}for(var q in l){var k=l[q];if(X=a[q],l.hasOwnProperty(q)&&(k!=null||X!=null))switch(q){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":G=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==X&&$t(t,n,q,k,l,X)}}Ns(t,g,E,C,B,G,f,c);return;case"select":k=g=E=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":k=C;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=a[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&$t(t,n,c,f,l,C)}n=E,a=g,l=k,q!=null?Zi(t,!!a,q,!1):!!l!=!!a&&(n!=null?Zi(t,!!a,n,!0):Zi(t,!!a,a?[]:"",!1));return;case"textarea":k=q=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&$t(t,n,g,c,l,f)}Eu(t,q,k);return;case"option":for(var ot in a)if(q=a[ot],a.hasOwnProperty(ot)&&q!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:$t(t,n,ot,null,l,q)}for(C in l)if(q=l[C],k=a[C],l.hasOwnProperty(C)&&q!==k&&(q!=null||k!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(t,n,C,q,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)q=a[_t],a.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&$t(t,n,_t,null,l,q);for(B in l)if(q=l[B],k=a[B],l.hasOwnProperty(B)&&q!==k&&(q!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:$t(t,n,B,q,l,k)}return;default:if(Ds(n)){for(var Wt in a)q=a[Wt],a.hasOwnProperty(Wt)&&q!==void 0&&!l.hasOwnProperty(Wt)&&hf(t,n,Wt,void 0,l,q);for(G in l)q=l[G],k=a[G],!l.hasOwnProperty(G)||q===k||q===void 0&&k===void 0||hf(t,n,G,q,l,k);return}}for(var z in a)q=a[z],a.hasOwnProperty(z)&&q!=null&&!l.hasOwnProperty(z)&&$t(t,n,z,null,l,q);for(X in l)q=l[X],k=a[X],!l.hasOwnProperty(X)||q===k||q==null&&k==null||$t(t,n,X,q,l,k)}function Lp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M0(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Lp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>E)break;var G=C.transferSize,X=C.initiatorType;G&&Lp(X)&&(C=C.responseEnd,g+=G*(C<E?1:(E-B)/(C-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ff=null,df=null;function bo(t){return t.nodeType===9?t:t.ownerDocument}function jp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function O0(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,x0=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(U0)}:qp;function U0(t){setTimeout(function(){throw t})}function Ea(t){return t==="head"}function kp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),cr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Vl(t.ownerDocument.body);a=c}while(a);cr(n)}function Hp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pf(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function L0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function j0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function Gp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function yf(t){return t.data==="$?"||t.data==="$~"}function _f(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function B0(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var vf=null;function Qp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Yp(t,n,a){switch(n=bo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Cs(t)}var Vn=new Map,Xp=new Set;function Ro(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=tt.d;tt.d={f:q0,r:P0,D:k0,C:H0,L:G0,m:Q0,X:Y0,S:F0,M:X0};function q0(){var t=qi.f(),n=po();return t||n}function P0(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?hg(n):qi.r(t)}var lr=typeof document>"u"?null:document;function Kp(t,n,a){var l=lr;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Xp.has(c)||(Xp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),Ee(n),l.head.appendChild(n)))}}function k0(t){qi.D(t),Kp("dns-prefetch",t,null)}function H0(t,n){qi.C(t,n),Kp("preconnect",t,n)}function G0(t,n,a){qi.L(t,n,a);var l=lr;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(n){case"style":f=ur(t);break;case"script":f=or(t)}Vn.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),ke(n,"link",t),Ee(n),l.head.appendChild(n)))}}function Q0(t,n){qi.m(t,n);var a=lr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=or(t)}if(!Vn.has(f)&&(t=b({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),ke(l,"link",t),Ee(l),a.head.appendChild(l)}}}function F0(t,n,a){qi.S(t,n,a);var l=lr;if(l&&t){var c=ni(l).hoistableStyles,f=ur(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Il(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&Ef(t,a);var C=g=l.createElement("link");Ee(C),ke(C,"link",t),C._p=new Promise(function(B,G){C.onload=B,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Co(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function Y0(t,n){qi.X(t,n);var a=lr;if(a&&t){var l=ni(a).hoistableScripts,c=or(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=b({src:t,async:!0},n),(n=Vn.get(c))&&Tf(t,n),f=a.createElement("script"),Ee(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function X0(t,n){qi.M(t,n);var a=lr;if(a&&t){var l=ni(a).hoistableScripts,c=or(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&Tf(t,n),f=a.createElement("script"),Ee(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Zp(t,n,a,l){var c=(c=bt.current)?Ro(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ur(a.href),a=ni(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ur(a.href);var f=ni(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Il(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||K0(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=or(a),a=ni(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ur(t){return'href="'+tn(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Jp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function K0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),Ee(n),t.head.appendChild(n))}function or(t){return'[src="'+tn(t)+'"]'}function Ml(t){return"script[async]"+t}function $p(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,Ee(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ee(l),ke(l,"style",c),Co(l,a.precedence,t),n.instance=l;case"stylesheet":c=ur(a.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=Jp(a),(c=Vn.get(c))&&Ef(l,c),f=(t.ownerDocument||t).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),ke(f,"link",l),n.state.loading|=4,Co(f,a.precedence,t),n.instance=f;case"script":return f=or(a.src),(c=t.querySelector(Ml(f)))?(n.instance=c,Ee(c),c):(l=a,(c=Vn.get(f))&&(l=b({},a),Tf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ee(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Co(l,a.precedence,t));return n.instance}function Co(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wo=null;function Wp(t,n,a){if(wo===null){var l=new Map,c=wo=new Map;c.set(a,l)}else c=wo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ti]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ty(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Z0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function J0(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=ur(l.href),f=n.querySelector(Il(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=No.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,l=Jp(l),(c=Vn.get(c))&&Ef(l,c),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),ke(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=No.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Af=0;function $0(t,n){return t.stylesheets&&t.count===0&&Vo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Vo(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Af===0&&(Af=62500*M0());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vo(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Af?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function No(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Do=null;function Vo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Do=new Map,n.forEach(W0,t),Do=null,No.call(t))}function W0(t,n){if(!(n.state.loading&4)){var a=Do.get(t);if(a)var l=a.get(null);else{a=new Map,Do.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=No.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:it,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function tT(t,n,a,l,c,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ny(t,n,a,l,c,f,g,E,C,B,G,X){return t=new tT(t,n,a,g,C,B,G,X,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ah(f),t}function iy(t){return t?(t=qs,t):qs}function ay(t,n,a,l,c,f){c=iy(c),l.context===null?l.context=c:l.pendingContext=c,l=oa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ca(t,l,n),a!==null&&(ln(a,t,n),hl(a,t,n))}function sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Sf(t,n){sy(t,n),(t=t.alternate)&&sy(t,n)}function ry(t){if(t.tag===13||t.tag===31){var n=ns(t,67108864);n!==null&&ln(n,t,67108864),Sf(t,67108864)}}function ly(t){if(t.tag===13||t.tag===31){var n=yn();n=Ga(n);var a=ns(t,n);a!==null&&ln(a,t,n),Sf(t,n)}}var Io=!0;function eT(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,bf(t,n,a,l)}finally{tt.p=f,H.T=c}}function nT(t,n,a,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,bf(t,n,a,l)}finally{tt.p=f,H.T=c}}function bf(t,n,a,l){if(Io){var c=Rf(l);if(c===null)cf(t,n,l,Mo,a),oy(t,l);else if(aT(c,t,n,a,l))l.stopPropagation();else if(oy(t,l),n&4&&-1<iT.indexOf(t)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Zn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-fe(g);E.entanglements[1]|=C,g&=~C}gi(f),(Qt&6)===0&&(mo=Je()+500,wl(0))}}break;case 31:case 13:E=ns(f,2),E!==null&&ln(E,f,2),po(),Sf(f,2)}if(f=Rf(l),f===null&&cf(t,n,l,Mo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else cf(t,n,l,null,a)}}function Rf(t){return t=En(t),Cf(t)}var Mo=null;function Cf(t){if(Mo=null,t=ei(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mo=t,null}function uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case Ur:return 2;case Lr:return 8;case Xi:case Ic:return 32;case ou:return 268435456;default:return 32}default:return 32}}var wf=!1,Ta=null,Aa=null,Sa=null,xl=new Map,zl=new Map,ba=[],iT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(t,n){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&ry(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function aT(t,n,a,l,c){switch(n){case"focusin":return Ta=Ul(Ta,t,n,a,l,c),!0;case"dragenter":return Aa=Ul(Aa,t,n,a,l,c),!0;case"mouseover":return Sa=Ul(Sa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Ul(xl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Ul(zl.get(f)||null,t,n,a,l,c)),!0}return!1}function cy(t){var n=ei(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Un(t.priority,function(){ly(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Un(t.priority,function(){ly(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Rf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Kr=l,a.target.dispatchEvent(l),Kr=null}else return n=vn(a),n!==null&&ry(n),t.blockedOn=a,!1;n.shift()}return!0}function hy(t,n,a){Oo(t)&&a.delete(n)}function sT(){wf=!1,Ta!==null&&Oo(Ta)&&(Ta=null),Aa!==null&&Oo(Aa)&&(Aa=null),Sa!==null&&Oo(Sa)&&(Sa=null),xl.forEach(hy),zl.forEach(hy)}function xo(t,n){t.blockedOn===n&&(t.blockedOn=null,wf||(wf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sT)))}var zo=null;function fy(t){zo!==t&&(zo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zo===t&&(zo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Cf(l||a)===null)continue;break}var f=vn(a);f!==null&&(t.splice(n,3),n-=3,bh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function cr(t){function n(C){return xo(C,t)}Ta!==null&&xo(Ta,t),Aa!==null&&xo(Aa,t),Sa!==null&&xo(Sa,t),xl.forEach(n),zl.forEach(n);for(var a=0;a<ba.length;a++){var l=ba[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ba.length&&(a=ba[0],a.blockedOn===null);)cy(a),a.blockedOn===null&&ba.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Me]||null;if(typeof f=="function")g||fy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Me]||null)E=g.formAction;else if(Cf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),fy(a)}}}function dy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Nf(t){this._internalRoot=t}Uo.prototype.render=Nf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=yn();ay(a,l,t,n,null,null)},Uo.prototype.unmount=Nf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ay(t.current,2,null,t,null,null),po(),n[Wn]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var n=gu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ba.length&&n!==0&&n<ba[a].priority;a++);ba.splice(a,0,t),a===0&&cy(t)}};var my=e.version;if(my!=="19.2.0")throw Error(s(527,my,"19.2.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var rT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lo.isDisabled&&Lo.supportsFiber)try{xn=Lo.inject(rT),Le=Lo}catch{}}return jl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=Tg,f=Ag,g=Sg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ny(t,1,!1,null,null,a,l,null,c,f,g,dy),t[Wn]=n.current,of(t),new Nf(n)},jl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=Tg,g=Ag,E=Sg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=ny(t,1,!0,n,a??null,l,c,C,f,g,E,dy),n.context=iy(null),a=n.current,l=yn(),l=Ga(l),c=oa(l),c.callback=null,ca(a,c,l),a=l,n.current.lanes=a,ka(n,a),gi(n),t[Wn]=n.current,of(t),new Uo(n)},jl.version="19.2.0",jl}var by;function pT(){if(by)return If.exports;by=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),If.exports=gT(),If.exports}var yT=pT();const Pi=[2,3,4,5,6,7,8,9],j_=r=>"narrative"in r,B_=[{name:"",timeLimit:120,questionSpeed:15e3},{name:"",timeLimit:90,questionSpeed:1e4},{name:"",timeLimit:60,questionSpeed:5e3}],Ry=" ()",_T=({onSelectDifficulty:r,selectedTables:e,onToggleTable:i,onResetTables:s,questionMode:u,onSelectMode:h,onShowLeaderboard:d})=>{const[y,v]=yt.useState("60"),[_,A]=yt.useState("5"),[b,x]=yt.useState(""),[Q,W]=yt.useState(!1),J=e.length>0;yt.useEffect(()=>{J&&b===Ry&&x("")},[J,b]);const $=it=>{J&&r(it)},ut=it=>{it.preventDefault();const gt=Number(y),Rt=Number(_);if(!Number.isFinite(gt)||gt<=0){x(" ()");return}if(!Number.isFinite(Rt)||Rt<=0){x(" ()");return}if(Rt>gt){x("");return}if(!J){x(Ry);return}x(""),r({name:"",timeLimit:Math.floor(gt),questionSpeed:Math.floor(Rt*1e3)})},nt=it=>{switch(it){case"":return"easy";case"":return"normal";case"":return"hard";default:return""}};return M.jsxs("div",{className:"difficulty-selector",children:[M.jsxs("header",{className:"hero",children:[M.jsxs("h1",{className:"hero-title",children:[M.jsx("span",{className:"hero-icon",children:""}),"99 "]}),M.jsx("p",{className:"hero-subtitle",children:""}),d&&M.jsx("button",{type:"button",className:"hero-leaderboard-btn",onClick:d,children:" "})]}),M.jsxs("section",{className:"step-section",children:[M.jsxs("div",{className:"step-header",children:[M.jsx("span",{className:"step-number",children:"1"}),M.jsx("h2",{className:"step-title",children:""})]}),M.jsxs("div",{className:"mode-buttons",children:[M.jsxs("button",{type:"button",className:`mode-card ${u==="basic"?"active":""}`,onClick:()=>h("basic"),children:[M.jsx("div",{className:"mode-icon",children:""}),M.jsxs("div",{className:"mode-content",children:[M.jsx("span",{className:"mode-name",children:""}),M.jsx("span",{className:"mode-desc",children:""})]})]}),M.jsxs("button",{type:"button",className:`mode-card ${u==="narrative"?"active":""}`,onClick:()=>h("narrative"),children:[M.jsx("div",{className:"mode-icon",children:""}),M.jsxs("div",{className:"mode-content",children:[M.jsx("span",{className:"mode-name",children:""}),M.jsx("span",{className:"mode-desc",children:""})]})]})]})]}),M.jsxs("section",{className:"step-section",children:[M.jsxs("div",{className:"step-header",children:[M.jsx("span",{className:"step-number",children:"2"}),M.jsx("h2",{className:"step-title",children:""}),M.jsxs("span",{className:"step-hint",children:[" ",e.length,"/",Pi.length," "]})]}),M.jsx("div",{className:"table-grid",children:Pi.map(it=>{const gt=e.includes(it);return M.jsxs("button",{type:"button",className:`table-chip ${gt?"checked":""}`,onClick:()=>i(it),children:[it," "]},it)})}),M.jsxs("div",{className:"table-actions",children:[!J&&M.jsx("div",{className:"table-error",children:""}),J&&e.length!==Pi.length&&M.jsx("button",{type:"button",className:"table-reset",onClick:s,children:""})]})]}),M.jsxs("section",{className:"step-section",children:[M.jsxs("div",{className:"step-header",children:[M.jsx("span",{className:"step-number",children:"3"}),M.jsx("h2",{className:"step-title",children:""})]}),M.jsx("div",{className:"difficulty-grid",children:B_.map(it=>M.jsxs("button",{onClick:()=>$(it),className:`difficulty-card ${nt(it.name)}`,disabled:!J,children:[M.jsx("div",{className:"difficulty-name",children:it.name}),M.jsxs("div",{className:"difficulty-stats",children:[M.jsxs("div",{className:"stat",children:[M.jsx("span",{className:"stat-icon",children:""}),M.jsxs("span",{children:[it.timeLimit," "]})]}),M.jsxs("div",{className:"stat",children:[M.jsx("span",{className:"stat-icon",children:""}),M.jsxs("span",{children:[it.questionSpeed/1e3," /"]})]})]})]},it.name))})]}),M.jsxs("section",{className:"advanced-section",children:[M.jsxs("button",{type:"button",className:"advanced-toggle",onClick:()=>W(!Q),children:[M.jsx("span",{children:""}),M.jsx("span",{className:`toggle-arrow ${Q?"open":""}`,children:""})]}),Q&&M.jsx("div",{className:"advanced-content",children:M.jsxs("form",{onSubmit:ut,className:"custom-form",children:[M.jsxs("div",{className:"form-row",children:[M.jsxs("label",{className:"form-field",children:[M.jsx("span",{className:"field-label",children:""}),M.jsxs("div",{className:"input-group",children:[M.jsx("input",{type:"number",min:5,value:y,onChange:it=>v(it.target.value),required:!0}),M.jsx("span",{className:"input-suffix",children:""})]})]}),M.jsxs("label",{className:"form-field",children:[M.jsx("span",{className:"field-label",children:""}),M.jsxs("div",{className:"input-group",children:[M.jsx("input",{type:"number",min:1,value:_,onChange:it=>A(it.target.value),required:!0}),M.jsx("span",{className:"input-suffix",children:""})]})]})]}),b&&M.jsx("div",{className:"custom-error",children:b}),M.jsx("button",{type:"submit",className:"custom-submit",disabled:!J,children:""})]})})]})]})},vT=({onNumberClick:r,onBackspace:e,onSubmit:i,disabled:s})=>{const u=["1","2","3","4","5","6","7","8","9"];return M.jsx("div",{className:"virtual-keyboard",children:M.jsxs("div",{className:"keyboard-grid",children:[u.map(h=>M.jsx("button",{className:"keyboard-button",onClick:()=>r(h),disabled:s,children:h},h)),M.jsx("button",{className:"keyboard-button backspace action",onClick:e,disabled:s,children:" "}),M.jsx("button",{className:"keyboard-button zero",onClick:()=>r("0"),disabled:s,children:"0"}),M.jsx("button",{className:"keyboard-button submit action",onClick:i,disabled:s,children:" "})]})})},ET=({question:r,userInput:e,score:i,timeRemaining:s,onInputChange:u,onSubmit:h,questionCountdownMs:d,questionIntervalMs:y,isPenaltyActive:v,questionMode:_})=>{const A=yt.useCallback(J=>{v||(J.key>="0"&&J.key<="9"?u(e+J.key):J.key==="Backspace"?u(e.slice(0,-1)):J.key==="Enter"&&h())},[e,u,h,v]);yt.useEffect(()=>{if(!v)return window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A)}},[A,v]);const b=J=>{u(e+J)},x=()=>{u(e.slice(0,-1))},Q=Math.max(0,Math.ceil(d/1e3)),W=y?Math.min(100,Math.max(0,d/y*100)):0;return M.jsxs("div",{className:"game",children:[M.jsxs("div",{className:"game-header",children:[M.jsxs("div",{className:"score",children:[": ",i]}),M.jsxs("div",{className:"timer",children:[": ",s,""]})]}),M.jsxs("div",{className:"question-display",children:[_==="narrative"&&j_(r)?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"narrative-question",children:r.narrative}),M.jsx("div",{className:"narrative-hint",children:""}),M.jsxs("div",{className:"narrative-formula-boxes",children:[M.jsx("div",{className:`formula-box ${e.length>=1?"filled":""}`,children:e[0]||""}),M.jsx("span",{className:"formula-operator",children:""}),M.jsx("div",{className:`formula-box ${e.length>=2?"filled":""}`,children:e[1]||""}),M.jsx("span",{className:"formula-operator",children:"="}),M.jsx("div",{className:`formula-box answer-box ${e.length>=3?"filled":""}`,children:e.slice(2)||""}),M.jsx("span",{className:"answer-unit",children:r.unit})]})]}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"question",children:[r.num1,"  ",r.num2," = ?"]}),M.jsx("div",{className:"answer-input",children:e||"_"})]}),M.jsxs("div",{className:"question-progress",children:[M.jsxs("div",{className:"progress-label",children:[" ",Q," "]}),M.jsx("div",{className:"progress-bar",role:"progressbar","aria-valuenow":W,"aria-valuemin":0,"aria-valuemax":100,children:M.jsx("div",{className:"progress-fill",style:{width:`${W}%`}})})]})]}),M.jsx(vT,{onNumberClick:b,onBackspace:x,onSubmit:h,disabled:v}),M.jsx("div",{className:"hint",children:" Enter "})]})},TT=()=>{};var Cy={};const q_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},AT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=h>>2,b=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(x=64)),s.push(i[A],i[b],i[x],i[Q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(q_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):AT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const b=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||y==null||_==null||b==null)throw new ST;const x=h<<2|y>>4;if(s.push(x),_!==64){const Q=y<<4&240|_>>2;if(s.push(Q),b!==64){const W=_<<6&192|b;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ST extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bT=function(r){const e=q_(r);return P_.encodeByteArray(e,!0)},$o=function(r){return bT(r).replace(/\./g,"")},RT=function(r){try{return P_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wT=()=>CT().__FIREBASE_DEFAULTS__,NT=()=>{if(typeof process>"u"||typeof Cy>"u")return;const r=Cy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&RT(r[1]);return e&&JSON.parse(e)},dd=()=>{try{return TT()||wT()||NT()||DT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},VT=r=>dd()?.emulatorHosts?.[r],IT=r=>{const e=VT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},k_=()=>dd()?.config;class MT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function md(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OT(r){return(await fetch(r,{credentials:"include"})).ok}function xT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$o(JSON.stringify(i)),$o(JSON.stringify(d)),""].join(".")}const Hl={};function zT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function UT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let wy=!1;function LT(r,e){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||Hl[r]===e||Hl[r]||wy)return;Hl[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",h=zT().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,Q){x.setAttribute("width","24"),x.setAttribute("id",Q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{wy=!0,d()},x}function A(x,Q){x.setAttribute("id",Q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=UT(s),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),J=i("learnmore"),$=document.getElementById(J)||document.createElement("a"),ut=i("preprendIcon"),nt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const it=x.element;y(it),A($,J);const gt=_();v(nt,ut),it.append(nt,W,$,gt),document.body.appendChild(it)}h?(W.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function jT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BT(){const r=dd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}const HT="FirebaseError";class wr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=HT,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H_.prototype.create)}}class H_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?GT(h,s):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new wr(u,y,s)}}function GT(r,e){return r.replace(QT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const QT=/\{\$([^}]+)}/g;function Wo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(Ny(h)&&Ny(d)){if(!Wo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Ny(r){return r!==null&&typeof r=="object"}function vr(r){return r&&r._delegate?r._delegate:r}class Xl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gs="[DEFAULT]";class FT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new MT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XT(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const h=this.instances.get(s);return h&&e(h,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YT(r){return r===gs?void 0:r}function XT(r){return r.instantiationMode==="EAGER"}class KT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new FT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const ZT={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},JT=qt.INFO,$T={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},WT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=$T[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class G_{constructor(e){this.name=e,this._logLevel=JT,this._logHandler=WT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const t1=(r,e)=>e.some(i=>r instanceof i);let Dy,Vy;function e1(){return Dy||(Dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,Gf=new WeakMap,F_=new WeakMap,zf=new WeakMap,gd=new WeakMap;function i1(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(wa(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Q_.set(i,r)}).catch(()=>{}),gd.set(e,r),e}function a1(r){if(Gf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Gf.set(r,e)}let Qf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Gf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||F_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function s1(r){Qf=r(Qf)}function r1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Uf(this),e,...i);return F_.set(s,e.sort?e.sort():[e]),wa(s)}:n1().includes(r)?function(...e){return r.apply(Uf(this),e),wa(Q_.get(this))}:function(...e){return wa(r.apply(Uf(this),e))}}function l1(r){return typeof r=="function"?r1(r):(r instanceof IDBTransaction&&a1(r),t1(r,e1())?new Proxy(r,Qf):r)}function wa(r){if(r instanceof IDBRequest)return i1(r);if(zf.has(r))return zf.get(r);const e=l1(r);return e!==r&&(zf.set(r,e),gd.set(e,r)),e}const Uf=r=>gd.get(r);function u1(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),y=wa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(wa(d.result),v.oldVersion,v.newVersion,wa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const o1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],Lf=new Map;function Iy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=c1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||o1.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return Lf.set(e,h),h}s1(r=>({...r,get:(e,i,s)=>Iy(e,i)||r.get(e,i,s),has:(e,i)=>!!Iy(e,i)||r.has(e,i)}));class h1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(f1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function f1(r){return r.getComponent()?.type==="VERSION"}const Ff="@firebase/app",My="0.14.6";const Hi=new G_("@firebase/app"),d1="@firebase/app-compat",m1="@firebase/analytics-compat",g1="@firebase/analytics",p1="@firebase/app-check-compat",y1="@firebase/app-check",_1="@firebase/auth",v1="@firebase/auth-compat",E1="@firebase/database",T1="@firebase/data-connect",A1="@firebase/database-compat",S1="@firebase/functions",b1="@firebase/functions-compat",R1="@firebase/installations",C1="@firebase/installations-compat",w1="@firebase/messaging",N1="@firebase/messaging-compat",D1="@firebase/performance",V1="@firebase/performance-compat",I1="@firebase/remote-config",M1="@firebase/remote-config-compat",O1="@firebase/storage",x1="@firebase/storage-compat",z1="@firebase/firestore",U1="@firebase/ai",L1="@firebase/firestore-compat",j1="firebase",B1="12.6.0";const Yf="[DEFAULT]",q1={[Ff]:"fire-core",[d1]:"fire-core-compat",[g1]:"fire-analytics",[m1]:"fire-analytics-compat",[y1]:"fire-app-check",[p1]:"fire-app-check-compat",[_1]:"fire-auth",[v1]:"fire-auth-compat",[E1]:"fire-rtdb",[T1]:"fire-data-connect",[A1]:"fire-rtdb-compat",[S1]:"fire-fn",[b1]:"fire-fn-compat",[R1]:"fire-iid",[C1]:"fire-iid-compat",[w1]:"fire-fcm",[N1]:"fire-fcm-compat",[D1]:"fire-perf",[V1]:"fire-perf-compat",[I1]:"fire-rc",[M1]:"fire-rc-compat",[O1]:"fire-gcs",[x1]:"fire-gcs-compat",[z1]:"fire-fst",[L1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};const tc=new Map,P1=new Map,Xf=new Map;function Oy(r,e){try{r.container.addComponent(e)}catch(i){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ec(r){const e=r.name;if(Xf.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,r);for(const i of tc.values())Oy(i,r);for(const i of P1.values())Oy(i,r);return!0}function k1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function H1(r){return r==null?!1:r.settings!==void 0}const G1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new H_("app","Firebase",G1);class Q1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}const F1=B1;function Y_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Yf,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw Na.create("bad-app-name",{appName:String(u)});if(i||(i=k_()),!i)throw Na.create("no-options");const h=tc.get(u);if(h){if(Wo(i,h.options)&&Wo(s,h.config))return h;throw Na.create("duplicate-app",{appName:u})}const d=new KT(u);for(const v of Xf.values())d.addComponent(v);const y=new Q1(i,s,d);return tc.set(u,y),y}function Y1(r=Yf){const e=tc.get(r);if(!e&&r===Yf&&k_())return Y_();if(!e)throw Na.create("no-app",{appName:r});return e}function gr(r,e,i){let s=q1[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}ec(new Xl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const X1="firebase-heartbeat-database",K1=1,Kl="firebase-heartbeat-store";let jf=null;function X_(){return jf||(jf=u1(X1,K1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Na.create("idb-open",{originalErrorMessage:r.message})})),jf}async function Z1(r){try{const i=(await X_()).transaction(Kl),s=await i.objectStore(Kl).get(K_(r));return await i.done,s}catch(e){if(e instanceof wr)Hi.warn(e.message);else{const i=Na.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(i.message)}}}async function xy(r,e){try{const s=(await X_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,K_(r)),await s.done}catch(i){if(i instanceof wr)Hi.warn(i.message);else{const s=Na.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(s.message)}}}function K_(r){return`${r.name}!${r.options.appId}`}const J1=1024,$1=30;class W1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new eA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>$1){const u=nA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zy(),{heartbeatsToSend:i,unsentEntries:s}=tA(this._heartbeatsCache.heartbeats),u=$o(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Hi.warn(e),""}}}function zy(){return new Date().toISOString().substring(0,10)}function tA(r,e=J1){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Uy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Uy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class eA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Z1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uy(r){return $o(JSON.stringify({version:2,heartbeats:r})).length}function nA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function iA(r){ec(new Xl("platform-logger",e=>new h1(e),"PRIVATE")),ec(new Xl("heartbeat",e=>new W1(e),"PRIVATE")),gr(Ff,My,r),gr(Ff,My,"esm2020"),gr("fire-js","")}iA("");var aA="firebase",sA="12.6.0";gr(aA,sA,"app");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Da,Z_;(function(){var r;function e(w,S){function N(){}N.prototype=S.prototype,w.F=S.prototype,w.prototype=new N,w.prototype.constructor=w,w.D=function(O,D,U){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return S.prototype[D].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(w,S,N){N||(N=0);const O=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)O[D]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(D=0;D<16;++D)O[D]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=w.g[0],N=w.g[1],D=w.g[2];let U=w.g[3],R;R=S+(U^N&(D^U))+O[0]+3614090360&4294967295,S=N+(R<<7&4294967295|R>>>25),R=U+(D^S&(N^D))+O[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(N^U&(S^N))+O[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=N+(S^D&(U^S))+O[3]+3250441966&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(U^N&(D^U))+O[4]+4118548399&4294967295,S=N+(R<<7&4294967295|R>>>25),R=U+(D^S&(N^D))+O[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(N^U&(S^N))+O[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=N+(S^D&(U^S))+O[7]+4249261313&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(U^N&(D^U))+O[8]+1770035416&4294967295,S=N+(R<<7&4294967295|R>>>25),R=U+(D^S&(N^D))+O[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(N^U&(S^N))+O[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=N+(S^D&(U^S))+O[11]+2304563134&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(U^N&(D^U))+O[12]+1804603682&4294967295,S=N+(R<<7&4294967295|R>>>25),R=U+(D^S&(N^D))+O[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(N^U&(S^N))+O[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=N+(S^D&(U^S))+O[15]+1236535329&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(D^U&(N^D))+O[1]+4129170786&4294967295,S=N+(R<<5&4294967295|R>>>27),R=U+(N^D&(S^N))+O[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(U^S))+O[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=N+(U^S&(D^U))+O[0]+3921069994&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(N^D))+O[5]+3593408605&4294967295,S=N+(R<<5&4294967295|R>>>27),R=U+(N^D&(S^N))+O[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(U^S))+O[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=N+(U^S&(D^U))+O[4]+3889429448&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(N^D))+O[9]+568446438&4294967295,S=N+(R<<5&4294967295|R>>>27),R=U+(N^D&(S^N))+O[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(U^S))+O[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=N+(U^S&(D^U))+O[8]+1163531501&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(N^D))+O[13]+2850285829&4294967295,S=N+(R<<5&4294967295|R>>>27),R=U+(N^D&(S^N))+O[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(U^S))+O[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=N+(U^S&(D^U))+O[12]+2368359562&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(N^D^U)+O[5]+4294588738&4294967295,S=N+(R<<4&4294967295|R>>>28),R=U+(S^N^D)+O[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^N)+O[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=N+(D^U^S)+O[14]+4259657740&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(N^D^U)+O[1]+2763975236&4294967295,S=N+(R<<4&4294967295|R>>>28),R=U+(S^N^D)+O[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^N)+O[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=N+(D^U^S)+O[10]+3200236656&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(N^D^U)+O[13]+681279174&4294967295,S=N+(R<<4&4294967295|R>>>28),R=U+(S^N^D)+O[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^N)+O[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=N+(D^U^S)+O[6]+76029189&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(N^D^U)+O[9]+3654602809&4294967295,S=N+(R<<4&4294967295|R>>>28),R=U+(S^N^D)+O[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^N)+O[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=N+(D^U^S)+O[2]+3299628645&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(D^(N|~U))+O[0]+4096336452&4294967295,S=N+(R<<6&4294967295|R>>>26),R=U+(N^(S|~D))+O[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~N))+O[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=N+(U^(D|~S))+O[5]+4237533241&4294967295,N=D+(R<<21&4294967295|R>>>11),R=S+(D^(N|~U))+O[12]+1700485571&4294967295,S=N+(R<<6&4294967295|R>>>26),R=U+(N^(S|~D))+O[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~N))+O[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=N+(U^(D|~S))+O[1]+2240044497&4294967295,N=D+(R<<21&4294967295|R>>>11),R=S+(D^(N|~U))+O[8]+1873313359&4294967295,S=N+(R<<6&4294967295|R>>>26),R=U+(N^(S|~D))+O[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~N))+O[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=N+(U^(D|~S))+O[13]+1309151649&4294967295,N=D+(R<<21&4294967295|R>>>11),R=S+(D^(N|~U))+O[4]+4149444226&4294967295,S=N+(R<<6&4294967295|R>>>26),R=U+(N^(S|~D))+O[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~N))+O[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=N+(U^(D|~S))+O[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+U&4294967295}s.prototype.v=function(w,S){S===void 0&&(S=w.length);const N=S-this.blockSize,O=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=N;)u(this,w,U),U+=this.blockSize;if(typeof w=="string"){for(;U<S;)if(O[D++]=w.charCodeAt(U++),D==this.blockSize){u(this,O),D=0;break}}else for(;U<S;)if(O[D++]=w[U++],D==this.blockSize){u(this,O),D=0;break}}this.h=D,this.o+=S},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var N=w.length-8;N<w.length;++N)w[N]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,N=0;N<4;++N)for(let O=0;O<32;O+=8)w[S++]=this.g[N]>>>O&255;return w};function h(w,S){var N=y;return Object.prototype.hasOwnProperty.call(N,w)?N[w]:N[w]=S(w)}function d(w,S){this.h=S;const N=[];let O=!0;for(let D=w.length-1;D>=0;D--){const U=w[D]|0;O&&U==S||(N[D]=U,O=!1)}this.g=N}var y={};function v(w){return-128<=w&&w<128?h(w,function(S){return new d([S|0],S<0?-1:0)}):new d([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return b;if(w<0)return $(_(-w));const S=[];let N=1;for(let O=0;w>=N;O++)S[O]=w/N|0,N*=4294967296;return new d(S,0)}function A(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return $(A(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(S,8));let O=b;for(let U=0;U<w.length;U+=8){var D=Math.min(8,w.length-U);const R=parseInt(w.substring(U,U+D),S);D<8?(D=_(Math.pow(S,D)),O=O.j(D).add(_(R))):(O=O.j(N),O=O.add(_(R)))}return O}var b=v(0),x=v(1),Q=v(16777216);r=d.prototype,r.m=function(){if(J(this))return-$(this).m();let w=0,S=1;for(let N=0;N<this.g.length;N++){const O=this.i(N);w+=(O>=0?O:4294967296+O)*S,S*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(W(this))return"0";if(J(this))return"-"+$(this).toString(w);const S=_(Math.pow(w,6));var N=this;let O="";for(;;){const D=gt(N,S).g;N=ut(N,D.j(S));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(w);if(N=D,W(N))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function W(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function J(w){return w.h==-1}r.l=function(w){return w=ut(this,w),J(w)?-1:W(w)?0:1};function $(w){const S=w.g.length,N=[];for(let O=0;O<S;O++)N[O]=~w.g[O];return new d(N,~w.h).add(x)}r.abs=function(){return J(this)?$(this):this},r.add=function(w){const S=Math.max(this.g.length,w.g.length),N=[];let O=0;for(let D=0;D<=S;D++){let U=O+(this.i(D)&65535)+(w.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);O=R>>>16,U&=65535,R&=65535,N[D]=R<<16|U}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ut(w,S){return w.add($(S))}r.j=function(w){if(W(this)||W(w))return b;if(J(this))return J(w)?$(this).j($(w)):$($(this).j(w));if(J(w))return $(this.j($(w)));if(this.l(Q)<0&&w.l(Q)<0)return _(this.m()*w.m());const S=this.g.length+w.g.length,N=[];for(var O=0;O<2*S;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<w.g.length;D++){const U=this.i(O)>>>16,R=this.i(O)&65535,te=w.i(D)>>>16,he=w.i(D)&65535;N[2*O+2*D]+=R*he,nt(N,2*O+2*D),N[2*O+2*D+1]+=U*he,nt(N,2*O+2*D+1),N[2*O+2*D+1]+=R*te,nt(N,2*O+2*D+1),N[2*O+2*D+2]+=U*te,nt(N,2*O+2*D+2)}for(w=0;w<S;w++)N[w]=N[2*w+1]<<16|N[2*w];for(w=S;w<2*S;w++)N[w]=0;return new d(N,0)};function nt(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function it(w,S){this.g=w,this.h=S}function gt(w,S){if(W(S))throw Error("division by zero");if(W(w))return new it(b,b);if(J(w))return S=gt($(w),S),new it($(S.g),$(S.h));if(J(S))return S=gt(w,$(S)),new it($(S.g),S.h);if(w.g.length>30){if(J(w)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var N=x,O=S;O.l(w)<=0;)N=Rt(N),O=Rt(O);var D=Ct(N,1),U=Ct(O,1);for(O=Ct(O,2),N=Ct(N,2);!W(O);){var R=U.add(O);R.l(w)<=0&&(D=D.add(N),U=R),O=Ct(O,1),N=Ct(N,1)}return S=ut(w,D.j(S)),new it(D,S)}for(D=b;w.l(S)>=0;){for(N=Math.max(1,Math.floor(w.m()/S.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(N),R=U.j(S);J(R)||R.l(w)>0;)N-=O,U=_(N),R=U.j(S);W(U)&&(U=x),D=D.add(U),w=ut(w,R)}return new it(D,w)}r.B=function(w){return gt(this,w).h},r.and=function(w){const S=Math.max(this.g.length,w.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)&w.i(O);return new d(N,this.h&w.h)},r.or=function(w){const S=Math.max(this.g.length,w.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)|w.i(O);return new d(N,this.h|w.h)},r.xor=function(w){const S=Math.max(this.g.length,w.g.length),N=[];for(let O=0;O<S;O++)N[O]=this.i(O)^w.i(O);return new d(N,this.h^w.h)};function Rt(w){const S=w.g.length+1,N=[];for(let O=0;O<S;O++)N[O]=w.i(O)<<1|w.i(O-1)>>>31;return new d(N,w.h)}function Ct(w,S){const N=S>>5;S%=32;const O=w.g.length-N,D=[];for(let U=0;U<O;U++)D[U]=S>0?w.i(U+N)>>>S|w.i(U+N+1)<<32-S:w.i(U+N);return new d(D,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Z_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Da=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var J_,ql,$_,Qo,Kf,W_,tv,ev;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof jo=="object"&&jo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function A(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function b(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,L,P){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[L].apply(T,et)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function Q(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function W(o,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=o.length||0;const P=L.length||0;o.length=p+P;for(let et=0;et<P;et++)o[p+et]=L[et]}else o.push(L)}}class J{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(o){d.setTimeout(()=>{throw o},0)}function ut(){var o=w;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class nt{constructor(){this.h=this.g=null}add(m,p){const T=it.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var it=new J(()=>new gt,o=>o.reset());class gt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,Ct=!1,w=new nt,S=()=>{const o=Promise.resolve(void 0);Rt=()=>{o.then(N)}};function N(){for(var o;o=ut();){try{o.h.call(o.g)}catch(p){$(p)}var m=it;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Ct=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function R(o){return/^[\s\xa0]*$/.test(o)}function te(o,m){D.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}b(te,D),te.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Vt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Ht(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function I(o){const m={};for(const p in o)m[p]=o[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let P=0;P<Y.length;P++)p=Y[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function rt(o){this.src=o,this.g={},this.h=0}rt.prototype.add=function(o,m,p,T,L){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const et=bt(o,m,T,L);return et>-1?(m=o[et],p||(m.fa=!1)):(m=new tt(m,this.src,P,!!T,L),m.fa=p,o.push(m)),m};function Et(o,m){const p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(ht(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function bt(o,m,p,T){for(let L=0;L<o.length;++L){const P=o[L];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),pt={};function ft(o,m,p,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ft(o,m[P],p,T,L);return null}return p=zr(p),o&&o[he]?o.J(m,p,y(T)?!!T.capture:!1,L):Ze(o,m,p,!1,T,L)}function Ze(o,m,p,T,L,P){if(!m)throw Error("Invalid event type");const et=y(L)?!!L.capture:!!L;let wt=Ba(o);if(wt||(o[Ot]=wt=new rt(o)),p=wt.add(m,p,T,et,P),p.proxy)return p;if(T=On(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)U||(L=et),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Xn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function On(){function o(p){return m.call(o.src,o.listener,p)}const m=Or;return o}function Fi(o,m,p,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)Fi(o,m[P],p,T,L);else T=y(T)?!!T.capture:!!T,p=zr(p),o&&o[he]?(o=o.i,P=String(m).toString(),P in o.g&&(m=o.g[P],p=bt(m,p,T,L),p>-1&&(ht(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[P],o.h--)))):o&&(o=Ba(o))&&(m=o.g[m.toString()],o=-1,m&&(o=bt(m,p,T,L)),(p=o>-1?m[o]:null)&&Ss(p))}function Ss(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[he])Et(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Xn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ba(m))?(Et(p,o),p.h==0&&(p.src=null,m[Ot]=null)):ht(o)}}}function Xn(o){return o in pt?pt[o]:pt[o]="on"+o}function Or(o,m){if(o.da)o=!0;else{m=new te(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&Ss(o),o=p.call(T,m)}return o}function Ba(o){return o=o[Ot],o instanceof rt?o:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function zr(o){return typeof o=="function"?o:(o[xr]||(o[xr]=function(m){return o.handleEvent(m)}),o[xr])}function ye(){O.call(this),this.i=new rt(this),this.M=this,this.G=null}b(ye,O),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(o,m,p,T){Fi(this,o,m,p,T)};function De(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new D(m,o);else if(m instanceof D)m.target=m.target||o;else{var L=m;m=new D(T,o),at(m,L)}L=!0;let P,et;if(p)for(et=p.length-1;et>=0;et--)P=m.g=p[et],L=Yi(P,T,!0,m)&&L;if(P=m.g=o,L=Yi(P,T,!0,m)&&L,L=Yi(P,T,!1,m)&&L,p)for(et=0;et<p.length;et++)P=m.g=p[et],L=Yi(P,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ht(p[T]);delete o.g[m],o.h--}}this.G=null},ye.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ye.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Yi(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const et=m[P];if(et&&!et.da&&et.capture==p){const wt=et.listener,de=et.ha||et.src;et.fa&&Et(o.i,et),L=wt.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function Vc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function uu(o){o.g=Vc(()=>{o.g=null,o.i&&(o.i=!1,uu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Je extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(o){O.call(this),this.h=o,this.g={}}b(qa,O);var Ur=[];function Lr(o){Vt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Ss(m)},o),o.g={}}qa.prototype.N=function(){qa.Z.N.call(this),Lr(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=d.JSON.stringify,Ic=d.JSON.parse,ou=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function cu(){}function hu(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){D.call(this,"d")}b(Le,D);function _n(){D.call(this,"c")}b(_n,D);var fe={},fu=null;function bs(){return fu=fu||new ye}fe.Ia="serverreachability";function du(o){D.call(this,fe.Ia,o)}b(du,D);function Kn(o){const m=bs();De(m,new du(m))}fe.STAT_EVENT="statevent";function Pa(o,m){D.call(this,fe.STAT_EVENT,o),this.stat=m}b(Pa,D);function _e(o){const m=bs();De(m,new Pa(m,o))}fe.Ja="timingevent";function Zn(o,m){D.call(this,fe.Ja,o),this.size=m}b(Zn,D);function Jn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Mc(o,m,p,T,L,P){o.info(function(){if(o.g)if(P){var et="",wt=P.split("&");for(let Gt=0;Gt<wt.length;Gt++){var de=wt[Gt].split("=");if(de.length>1){const re=de[0];de=de[1];const An=re.split("_");et=An.length>=2&&An[1]=="type"?et+(re+"="+de+"&"):et+(re+"=redacted&")}}}else et=null;else et=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function mu(o,m,p,T,L,P,et){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+P+" "+et})}function $n(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oc(o,p)+(T?" "+T:"")})}function ka(o,m){o.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Oc(o,m){if(!o.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var p=P[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return Xi(P)}catch{return m}}var Ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Br;function Ga(){}b(Ga,cu),Ga.prototype.g=function(){return new XMLHttpRequest},Br=new Ga;function Ai(o){return encodeURIComponent(String(o))}function gu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function Un(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new qa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var ve={},Me={};function Wn(o,m,p){o.M=1,o.A=Qa(Te(m)),o.u=p,o.R=!0,Rs(o,null)}function Rs(o,m){o.F=Date.now(),ti(o),o.B=Te(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),Ds(p.i,"t",T),o.C=0,p=o.j.L,o.h=new Ln,o.g=Vu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Je(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ur[0]=L.toString()),L=Ur);for(let P=0;P<L.length;P++){const et=ft(p,L[P],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=o.J?I(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Kn(),Mc(o.i,o.v,o.B,o.l,o.S,o.u)}Un.prototype.ba=function(o){o=o.target;const m=this.O;m&&qn(o)==3?m.j():this.Y(o)},Un.prototype.Y=function(o){try{if(o==this.g)t:{const wt=qn(this.g),de=this.g.ya(),Gt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||wt!=4||de==7||(de==8||Gt<=0?Kn(3):Kn(2)),ei(this);var m=this.g.ca();this.X=m;var p=xc(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var P=T;break e}}P=null}if(o=P)$n(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,o);else{this.o=!1,this.m=3,_e(12),on(this),vn(this);break t}}if(this.R){o=!0;let re;for(;!this.K&&this.C<p.length;)if(re=yu(this,p),re==Me){wt==4&&(this.m=4,_e(14),o=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),$n(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else $n(this.i,this.l,re,null),ni(this,re);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||p.length!=0||this.h.h||(this.m=1,_e(16),o=!1),this.o=this.o&&o,!o)$n(this.i,this.l,p,"[Invalid Chunked Response]"),on(this),vn(this);else if(p.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),tl(et),et.P=!0,_e(11))}}else $n(this.i,this.l,p,null),ni(this,p);wt==4&&on(this),this.o&&!this.K&&(wt==4?Cu(this.j,this):(this.o=!1,ti(this)))}else bi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),on(this),vn(this)}}}catch{}finally{}};function xc(o){if(!pu(o))return o.g.la();const m=je(o.g);if(m==="")return"";let p="";const T=m.length,L=qn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return on(o),vn(o),"";o.h.i=new d.TextDecoder}for(let P=0;P<T;P++)o.h.h=!0,p+=o.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function pu(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function yu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Me:(p=Number(m.substring(p,T)),isNaN(p)?ve:(T+=1,T+p>m.length?Me:(m=m.slice(T,T+p),o.C=T+p,m)))}Un.prototype.cancel=function(){this.K=!0,on(this)};function ti(o){o.T=Date.now()+o.H,Cs(o,o.H)}function Cs(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Jn(_(o.aa,o),m)}function ei(o){o.D&&(d.clearTimeout(o.D),o.D=null)}Un.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(ka(this.i,this.B),this.M!=2&&(Kn(),_e(17)),on(this),this.m=2,vn(this)):Cs(this,this.T-o)};function vn(o){o.j.I==0||o.K||Cu(o.j,o)}function on(o){ei(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Lr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ni(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ai(p.h,o))){if(!o.L&&ai(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)xs(p),na(p);else break t;$a(p),_e(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Jn(_(p.Va,p),6e3));ii(p.h)<=1&&p.ta&&(p.ta=void 0)}else ci(p,11)}else if((o.L||p.g==o)&&xs(p),!R(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const re=Gt[0];if(!(re<=p.K))if(p.K=re,Gt=Gt[1],p.I==2)if(Gt[0]=="c"){p.M=Gt[1],p.ba=Gt[2];const An=Gt[3];An!=null&&(p.ka=An,p.j.info("VER="+p.ka));const hi=Gt[4];hi!=null&&(p.za=hi,p.j.info("SVER="+p.za));const Pn=Gt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const kn=o.g;if(kn){const Wa=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var P=T.h;P.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(kr(P,P.h),P.h=null))}if(T.G){const zs=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;zs&&(T.wa=zs,Yt(T.J,T.G,zs))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var et=o;if(T.na=Du(T,T.L?T.ba:null,T.W),et.L){Hr(T.h,et);var wt=et,de=T.O;de&&(wt.H=de),wt.D&&(ei(wt),ti(wt)),T.g=et}else bu(T);p.i.length>0&&oi(p)}else Gt[0]!="stop"&&Gt[0]!="close"||ci(p,7);else p.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?ci(p,7):$r(p):Gt[0]!="noop"&&p.l&&p.l.qa(Gt),p.A=0)}}Kn(4)}catch{}}var Ee=class{constructor(o,m){this.g=o,this.map=m}};function qr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ii(o){return o.h?1:o.g?o.g.size:0}function ai(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function kr(o,m){o.g?o.g.add(m):o.h=m}function Hr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}qr.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Gr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return Q(o.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ws(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let L,P=null;T>=0?(L=o[p].substring(0,T),P=o[p].substring(T+1)):L=o[p],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function cn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof cn?(this.l=o.l,Oe(this,o.j),this.o=o.o,this.g=o.g,Ki(this,o.u),this.h=o.h,Qr(this,Au(o.i)),this.m=o.m):o&&(m=String(o).match(_u))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=si(m[2]||""),this.g=si(m[3]||"",!0),Ki(this,m[4]),this.h=si(m[5]||"",!0),Qr(this,m[6]||"",!0),this.m=si(m[7]||"")):(this.l=!1,this.i=new Ji(null,this.l))}cn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Fa(m,Ns,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Fa(m,Ns,!0),"@"),o.push(Ai(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Fa(p,p.charAt(0)=="/"?Fr:vu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Fa(p,Eu)),o.join("")},cn.prototype.resolve=function(o){const m=Te(this);let p=!!o.j;p?Oe(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Ki(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let et=0;et<L.length;){const wt=L[et++];wt=="."?T&&et==L.length&&P.push(""):wt==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&et==L.length&&P.push("")):(P.push(wt),T=!0)}T=P.join("/")}else T=L}return p?m.h=T:p=o.i.toString()!=="",p?Qr(m,Au(o.i)):p=!!o.m,p&&(m.m=o.m),m};function Te(o){return new cn(o)}function Oe(o,m,p){o.j=p?si(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ki(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Qr(o,m,p){m instanceof Ji?(o.i=m,Vs(o.i,o.l)):(p||(m=Fa(m,Zi)),o.i=new Ji(m,o.l))}function Yt(o,m,p){o.i.set(m,p)}function Qa(o){return Yt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function si(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Fa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,tn),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function tn(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ns=/[#\/\?@]/g,vu=/[#\?:]/g,Fr=/[#\?]/g,Zi=/[#\?@]/g,Eu=/#/g;function Ji(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function en(o){o.g||(o.g=new Map,o.h=0,o.i&&ws(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Ji.prototype,r.add=function(o,m){en(this),this.i=null,o=$i(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Tu(o,m){en(o),m=$i(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Yr(o,m){return en(o),m=$i(o,m),o.g.has(m)}r.forEach=function(o,m){en(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)};function Xr(o,m){en(o);let p=[];if(typeof m=="string")Yr(o,m)&&(p=p.concat(o.g.get($i(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return en(this),this.i=null,o=$i(this,o),Yr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Xr(this,o),o.length>0?String(o[0]):m):m};function Ds(o,m,p){Tu(o,m),p.length>0&&(o.i=null,o.g.set($i(o,m),Q(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Ai(p);p=Xr(this,p);for(let P=0;P<p.length;P++){let et=L;p[P]!==""&&(et+="="+Ai(p[P])),o.push(et)}}return this.i=o.join("&")};function Au(o){const m=new Ji;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function $i(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Vs(o,m){m&&!o.j&&(en(o),o.i=null,o.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(Tu(this,T),Ds(this,L,p))},o)),o.j=m}function jn(o,m){const p=new zn;if(d.Image){const T=new Image;T.onload=A(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,p,"TestLoadImage: error",!1,m,T),T.onabort=A(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Kr(o,m){const p=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(p,"TestPingServer: error",!1,m)})}function En(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Wi(){this.g=new ou}function ri(o){this.i=o.Sb||null,this.h=o.ab||!1}b(ri,cu),ri.prototype.g=function(){return new Ya(this.i,this.h)};function Ya(o,m){ye.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ya,ye),r=Ya.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Bn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Is(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Is(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?ta(this):Bn(this),this.readyState==3&&Is(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,ta(this))},r.Na=function(o){this.g&&(this.response=o,ta(this))},r.ga=function(){this.g&&ta(this)};function ta(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Bn(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Bn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Tn(o){let m="";return Vt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Xa(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Tn(p),typeof o=="string"?p!=null&&Ai(p):Yt(o,m,p))}function Zt(o){ye.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Zt,ye);var li=/^https?$/i,Zr=["POST","PUT"];r=Zt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Br.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){Ka(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Zr,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,et]of p)this.g.setRequestHeader(P,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){Ka(this,P)}};function Ka(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Jr(o),Si(o)}function Jr(o){o.A||(o.A=!0,De(o,"complete"),De(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,De(this,"complete"),De(this,"abort"),Si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Za(this):this.Xa())},r.Xa=function(){Za(this)};function Za(o){if(o.h&&typeof h<"u"){if(o.v&&qn(o)==4)setTimeout(o.Ca.bind(o),0);else if(De(o,"readystatechange"),qn(o)==4){o.h=!1;try{const P=o.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let et=String(o.D).match(_u)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!li.test(et?et.toLowerCase():"")}p=T}if(p)De(o,"complete"),De(o,"success");else{o.o=6;try{var L=qn(o)>2?o.g.statusText:""}catch{L=""}o.l=L+" ["+o.ca()+"]",Jr(o)}}finally{Si(o)}}}}function Si(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||De(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(o){return o.g?o.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ic(m)}};function je(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(o){const m={};o=(o.g&&qn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(R(o[T]))continue;var p=gu(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[L]||[];m[L]=P,P.push(p)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function ea(o){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,o),this.Za=ui("retryDelaySeedMs",1e4,o),this.Ta=ui("forwardChannelMaxRetries",2,o),this.va=ui("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new qr(o&&o.concurrentRequestLimit),this.Ba=new Wi,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ea.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,T){_e(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Du(this,null,this.W),oi(this)};function $r(o){if(Ms(o),o.I==3){var m=o.V++,p=Te(o.J);if(Yt(p,"SID",o.M),Yt(p,"RID",m),Yt(p,"TYPE","terminate"),Ja(o,p),m=new Un(o,o.j,m),m.M=2,m.A=Qa(Te(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ti(m)}Nu(o)}function na(o){o.g&&(tl(o),o.g.cancel(),o.g=null)}function Ms(o){na(o),o.v&&(d.clearTimeout(o.v),o.v=null),xs(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function oi(o){if(!Pr(o.h)&&!o.m){o.m=!0;var m=o.Ea;Rt||S(),Ct||(Rt(),Ct=!0),w.add(m,o),o.D=0}}function Os(o,m){return ii(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Jn(_(o.Ea,o,m),wu(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const L=new Un(this,this.j,o);let P=this.o;if(this.U&&(P?(P=I(P),at(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Su(this,L,m),p=Te(this.J),Yt(p,"RID",o),Yt(p,"CVER",22),this.G&&Yt(p,"X-HTTP-Session-Id",this.G),Ja(this,p),P&&(this.R?m="headers="+Ai(Tn(P))+"&"+m:this.u&&Xa(p,this.u,P)),kr(this.h,L),this.Ra&&Yt(p,"TYPE","init"),this.S?(Yt(p,"$req",m),Yt(p,"SID","null"),L.U=!0,Wn(L,p,null)):Wn(L,p,m),this.I=2}}else this.I==3&&(o?Wr(this,o):this.i.length==0||Pr(this.h)||Wr(this))};function Wr(o,m){var p;m?p=m.l:p=o.V++;const T=Te(o.J);Yt(T,"SID",o.M),Yt(T,"RID",p),Yt(T,"AID",o.K),Ja(o,T),o.u&&o.o&&Xa(T,o.u,o.o),p=new Un(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=Su(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),kr(o.h,p),Wn(p,T,m)}function Ja(o,m){o.H&&Vt(o.H,function(p,T){Yt(m,T,p)}),o.l&&Vt({},function(p,T){Yt(m,T,p)})}function Su(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var L=o.i;let wt=-1;for(;;){const de=["count="+p];wt==-1?p>0?(wt=L[0].g,de.push("ofs="+wt)):wt=0:de.push("ofs="+wt);let Gt=!0;for(let re=0;re<p;re++){var P=L[re].g;const An=L[re].map;if(P-=wt,P<0)wt=Math.max(0,L[re].g-100),Gt=!1;else try{P="req"+P+"_"||"";try{var et=An instanceof Map?An:Object.entries(An);for(const[hi,Pn]of et){let kn=Pn;y(Pn)&&(kn=Xi(Pn)),de.push(P+hi+"="+encodeURIComponent(kn))}}catch(hi){throw de.push(P+"type="+encodeURIComponent("_badmap")),hi}}catch{T&&T(An)}}if(Gt){et=de.join("&");break t}}et=void 0}return o=o.i.splice(0,p),m.G=o,et}function bu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;Rt||S(),Ct||(Rt(),Ct=!0),w.add(m,o),o.A=0}}function $a(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Jn(_(o.Da,o),wu(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,Ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Jn(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),na(this),Ru(this))};function tl(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Ru(o){o.g=new Un(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=Te(o.na);Yt(m,"RID","rpc"),Yt(m,"SID",o.M),Yt(m,"AID",o.K),Yt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Yt(m,"TO",o.ia),Yt(m,"TYPE","xmlhttp"),Ja(o,m),o.u&&o.o&&Xa(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Qa(Te(m)),p.u=null,p.R=!0,Rs(p,o)}r.Va=function(){this.C!=null&&(this.C=null,na(this),$a(this),_e(19))};function xs(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Cu(o,m){var p=null;if(o.g==m){xs(o),tl(o),o.g=null;var T=2}else if(ai(o.h,m))p=m.G,Hr(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=o.D;T=bs(),De(T,new Zn(T,p)),oi(o)}else bu(o);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Os(o,m)||T==2&&$a(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),L){case 1:ci(o,5);break;case 4:ci(o,10);break;case 3:ci(o,6);break;default:ci(o,2)}}}function wu(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ci(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Qa(T),L?jn(T.toString(),p):Kr(T.toString(),p)}else _e(2);o.I=0,o.l&&o.l.pa(m),Nu(o),Ms(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Nu(o){if(o.I=0,o.ja=[],o.l){const m=Gr(o.h);(m.length!=0||o.i.length!=0)&&(W(o.ja,m),W(o.ja,o.i),o.h.i.length=0,Q(o.i),o.i.length=0),o.l.oa()}}function Du(o,m,p){var T=p instanceof cn?Te(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ki(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new cn(null);T&&Oe(P,T),m&&(P.g=m),L&&Ki(P,L),p&&(P.h=p),T=P}return p=o.G,m=o.wa,p&&m&&Yt(T,p,m),Yt(T,"VER",o.ka),Ja(o,T),T}function Vu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Zt(new ri({ab:p})):new Zt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}r=Iu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ia(){}ia.prototype.g=function(o,m){return new $e(o,m)};function $e(o,m){ye.call(this),this.g=new ea(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!R(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Ri(this)}b($e,ye),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){$r(this.g)},$e.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Xi(o),o=p);m.i.push(new Ee(m.Ya++,o)),m.I==3&&oi(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,$e.Z.N.call(this)};function Mu(o){Le.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}b(Mu,Le);function Ou(){_n.call(this),this.status=1}b(Ou,_n);function Ri(o){this.g=o}b(Ri,Iu),Ri.prototype.ra=function(){De(this.g,"a")},Ri.prototype.qa=function(o){De(this.g,new Mu(o))},Ri.prototype.pa=function(o){De(this.g,new Ou)},Ri.prototype.oa=function(){De(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,ev=function(){return new ia},tv=function(){return bs()},W_=fe,Kf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ha.NO_ERROR=0,Ha.TIMEOUT=8,Ha.HTTP_ERROR=6,Qo=Ha,jr.COMPLETE="complete",$_=jr,hu.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,ql=hu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,J_=Zt}).apply(typeof jo<"u"?jo:typeof self<"u"?self:typeof window<"u"?window:{});const jy="@firebase/firestore",By="4.9.2";class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let Nr="12.3.0";const ys=new G_("@firebase/firestore");function hr(){return ys.logLevel}function lt(r,...e){if(ys.logLevel<=qt.DEBUG){const i=e.map(pd);ys.debug(`Firestore (${Nr}): ${r}`,...i)}}function Gi(r,...e){if(ys.logLevel<=qt.ERROR){const i=e.map(pd);ys.error(`Firestore (${Nr}): ${r}`,...i)}}function Er(r,...e){if(ys.logLevel<=qt.WARN){const i=e.map(pd);ys.warn(`Firestore (${Nr}): ${r}`,...i)}}function pd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,nv(r,s,i)}function nv(r,e,i){let s=`FIRESTORE (${Nr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Gi(s),new Error(s)}function Ft(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||nv(e,u,s)}function St(r,e){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends wr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Va{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class iv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class lA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class uA{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Va;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Va,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Va)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new iv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class oA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new oA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,H1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const u=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function fA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=fA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Ut(r,e){return r<e?-1:r>e?1:0}function Zf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),h=e.charAt(s);if(u!==h)return Bf(u)===Bf(h)?Ut(u,h):Bf(u)?1:-1}return Ut(r.length,e.length)}const dA=55296,mA=57343;function Bf(r){const e=r.charCodeAt(0);return e>=dA&&e<=mA}function Tr(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}const Py="__name__";class pi{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=pi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Ut(e.length,i.length)}static compareSegments(e,i){const s=pi.isNumericId(e),u=pi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?pi.extractNumericId(e).compare(pi.extractNumericId(i)):Zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class ne extends pi{construct(e,i,s){return new ne(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const gA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends pi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return gA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new Ge([Py])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(s+=y,u++):(h(),u++)}if(h(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class mt{constructor(e){this.path=e}static fromPath(e){return new mt(ne.fromString(e))}static fromName(e){return new mt(ne.fromString(e).popFirst(5))}static empty(){return new mt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ne.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new ne(e.slice()))}}function av(r,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function pA(r,e,i,s){if(e===!0&&s===!0)throw new st(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function ky(r){if(!mt.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hy(r){if(mt.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function gc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function nc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gc(r);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ne(r,e){const i={typeString:r};return e&&(i.value=e),i}function iu(r,e){if(!sv(r))throw new st(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new st(K.INVALID_ARGUMENT,i);return!0}const Gy=-62135596800,Qy=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Qy);return new ie(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Gy)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qy}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,ie._jsonSchema))return new ie(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ne("string",ie._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new ie(0,0))}static max(){return new Tt(new ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function yA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=Tt.fromTimestamp(s===1e9?new ie(i+1,0):new ie(i,s));return new Ma(u,mt.empty(),e)}function _A(r){return new Ma(r.readTime,r.key,Zl)}class Ma{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ma(Tt.min(),mt.empty(),Zl)}static max(){return new Ma(Tt.max(),mt.empty(),Zl)}}function vA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Ut(r.largestBatchId,e.largestBatchId))}const EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Dr(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==EA)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>s(v)))})),d=!0,h===u&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((u=>u?Z.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,h)=>{s.push(i.call(this,u,h))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&s(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new Z(((s,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):s()};h()}))}}function AA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Vr(r){return r.name==="IndexedDbTransactionError"}class pc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pc.ce=-1;const _d=-1;function yc(r){return r==null}function ic(r){return r===0&&1/r==-1/0}function SA(r){return typeof r=="number"&&Number.isInteger(r)&&!ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const rv="";function bA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Fy(e)),e=RA(r.get(i),e);return Fy(e)}function RA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case rv:i+="";break;default:i+=h}}return i}function Fy(r){return r+rv+""}function Yy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function vs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function lv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ue{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new ue(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bo(this.root,e,this.comparator,!0)}}class Bo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??He.RED,this.left=u??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new He(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return He.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Xy(this.data.getIterator())}getIteratorFrom(e){return new Xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class Xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Fn([])}unionWith(e){let i=new Ie(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Tr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class uv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new uv("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const CA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=CA.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xa(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const ov="server_timestamp",cv="__type__",hv="__previous_value__",fv="__local_write_time__";function vd(r){return(r?.mapValue?.fields||{})[cv]?.stringValue===ov}function _c(r){const e=r.mapValue.fields[hv];return vd(e)?_c(e):e}function Jl(r){const e=Oa(r.mapValue.fields[fv].timestampValue);return new ie(e.seconds,e.nanos)}class wA{constructor(e,i,s,u,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ac="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||ac}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===ac}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}const dv="__type__",NA="__max__",qo={mapValue:{}},mv="__vector__",sc="value";function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vd(r)?4:VA(r)?9007199254740991:DA(r)?10:11:vt(28295,{value:r})}function Ti(r,e){if(r===e)return!0;const i=za(r);if(i!==za(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Oa(u.timestampValue),y=Oa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,h){return xa(u.bytesValue).isEqual(xa(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,h){return pe(u.geoPointValue.latitude)===pe(h.geoPointValue.latitude)&&pe(u.geoPointValue.longitude)===pe(h.geoPointValue.longitude)})(r,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return pe(u.integerValue)===pe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=pe(u.doubleValue),y=pe(h.doubleValue);return d===y?ic(d)===ic(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Tr(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Yy(d)!==Yy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ti(d[v],y[v])))return!1;return!0})(r,e);default:return vt(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find((i=>Ti(i,e)))!==void 0}function Ar(r,e){if(r===e)return 0;const i=za(r),s=za(e);if(i!==s)return Ut(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=pe(h.integerValue||h.doubleValue),v=pe(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Ky(r.timestampValue,e.timestampValue);case 4:return Ky(Jl(r),Jl(e));case 5:return Zf(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=xa(h),v=xa(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Ut(y[_],v[_]);if(A!==0)return A}return Ut(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Ut(pe(h.latitude),pe(d.latitude));return y!==0?y:Ut(pe(h.longitude),pe(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Zy(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const y=h.fields||{},v=d.fields||{},_=y[sc]?.arrayValue,A=v[sc]?.arrayValue,b=Ut(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Zy(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===qo.mapValue&&d===qo.mapValue)return 0;if(h===qo.mapValue)return 1;if(d===qo.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const x=Zf(v[b],A[b]);if(x!==0)return x;const Q=Ar(y[v[b]],_[A[b]]);if(Q!==0)return Q}return Ut(v.length,A.length)})(r.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function Ky(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ut(r,e);const i=Oa(r),s=Oa(e),u=Ut(i.seconds,s.seconds);return u!==0?u:Ut(i.nanos,s.nanos)}function Zy(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=Ar(i[u],s[u]);if(h)return h}return Ut(i.length,s.length)}function Sr(r){return Jf(r)}function Jf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Oa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return xa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Jf(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Jf(i.fields[d])}`;return u+"}"})(r.mapValue):vt(61005,{value:r})}function Fo(r){switch(za(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_c(r);return e?16+Fo(e):16;case 5:return 2*r.stringValue.length;case 6:return xa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,h)=>u+Fo(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return vs(s.fields,((h,d)=>{u+=h.length+Fo(d)})),u})(r.mapValue);default:throw vt(13486,{value:r})}}function Jy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $f(r){return!!r&&"integerValue"in r}function Ed(r){return!!r&&"arrayValue"in r}function $y(r){return!!r&&"nullValue"in r}function Wy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yo(r){return!!r&&"mapValue"in r}function DA(r){return(r?.mapValue?.fields||{})[dv]?.stringValue===mv}function Gl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Gl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(r.arrayValue.values[i]);return e}return{...r}}function VA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NA}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Yo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=Ge.emptyPath(),s={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=y.popLast()}d?s[y.lastSegment()]=Gl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Yo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Yo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){vs(i,((u,h)=>e[u]=h));for(const u of s)delete e[u]}clone(){return new In(Gl(this.value))}}function gv(r){const e=[];return vs(r.fields,((i,s)=>{const u=new Ge([i]);if(Yo(s)){const h=gv(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new Fn(e)}class Ke{constructor(e,i,s,u,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ke(e,0,Tt.min(),Tt.min(),Tt.min(),In.empty(),0)}static newFoundDocument(e,i,s,u){return new Ke(e,1,i,Tt.min(),s,u,0)}static newNoDocument(e,i){return new Ke(e,2,i,Tt.min(),Tt.min(),In.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Tt.min(),Tt.min(),In.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rc{constructor(e,i){this.position=e,this.inclusive=i}}function t_(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=Ar(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function e_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ti(r.position[i],e.position[i]))return!1;return!0}class tu{constructor(e,i="asc"){this.field=e,this.dir=i}}function IA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class pv{}class we extends pv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new OA(e,i,s):i==="array-contains"?new UA(e,s):i==="in"?new LA(e,s):i==="not-in"?new jA(e,s):i==="array-contains-any"?new BA(e,s):new we(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new xA(e,s):new zA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ar(i,this.value)):i!==null&&za(this.value)===za(i)&&this.matchesComparison(Ar(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends pv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yn(e,i)}matches(e){return yv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yv(r){return r.op==="and"}function _v(r){return MA(r)&&yv(r)}function MA(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function Wf(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Sr(r.value);if(_v(r))return r.filters.map((e=>Wf(e))).join(",");{const e=r.filters.map((i=>Wf(i))).join(",");return`${r.op}(${e})`}}function vv(r,e){return r instanceof we?(function(s,u){return u instanceof we&&s.op===u.op&&s.field.isEqual(u.field)&&Ti(s.value,u.value)})(r,e):r instanceof Yn?(function(s,u){return u instanceof Yn&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((h,d,y)=>h&&vv(d,u.filters[y])),!0):!1})(r,e):void vt(19439)}function Ev(r){return r instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Sr(i.value)}`})(r):r instanceof Yn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Ev).join(" ,")+"}"})(r):"Filter"}class OA extends we{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class xA extends we{constructor(e,i){super(e,"in",i),this.keys=Tv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class zA extends we{constructor(e,i){super(e,"not-in",i),this.keys=Tv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Tv(r,e){return(e.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class UA extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ed(i)&&Wl(i.arrayValue,this.value)}}class LA extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class jA extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class BA extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}class qA{constructor(e,i=null,s=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function n_(r,e=null,i=[],s=[],u=null,h=null,d=null){return new qA(r,e,i,s,u,h,d)}function Td(r){const e=St(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Wf(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),yc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Sr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Sr(s))).join(",")),e.Te=i}return e.Te}function Ad(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!IA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!vv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!e_(r.startAt,e.startAt)&&e_(r.endAt,e.endAt)}function td(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ir{constructor(e,i=null,s=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PA(r,e,i,s,u,h,d,y){return new Ir(r,e,i,s,u,h,d,y)}function Av(r){return new Ir(r)}function i_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Sv(r){return r.collectionGroup!==null}function Ql(r){const e=St(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new tu(h,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new tu(Ge.keyField(),s))}return e.Ie}function yi(r){const e=St(r);return e.Ee||(e.Ee=kA(e,Ql(r))),e.Ee}function kA(r,e){if(r.limitType==="F")return n_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new tu(u.field,h)}));const i=r.endAt?new rc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new rc(r.startAt.position,r.startAt.inclusive):null;return n_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ed(r,e){const i=r.filters.concat([e]);return new Ir(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function lc(r,e,i){return new Ir(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vc(r,e){return Ad(yi(r),yi(e))&&r.limitType===e.limitType}function bv(r){return`${Td(yi(r))}|lt:${r.limitType}`}function fr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>Ev(u))).join(", ")}]`),yc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Sr(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Sr(u))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function Ec(r,e){return e.isFoundDocument()&&(function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,u){for(const h of Ql(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,y,v){const _=t_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Ql(s),u)||s.endAt&&!(function(d,y,v){const _=t_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Ql(s),u))})(r,e)}function HA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Rv(r){return(e,i)=>{let s=!1;for(const u of Ql(r)){const h=GA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function GA(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Ar(v,_):vt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}class Es{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((i,s)=>{for(const[u,h]of s)e(u,h)}))}isEmpty(){return lv(this.inner)}size(){return this.innerSize}}const QA=new ue(mt.comparator);function Qi(){return QA}const Cv=new ue(mt.comparator);function Pl(...r){let e=Cv;for(const i of r)e=e.insert(i.key,i);return e}function wv(r){let e=Cv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ps(){return Fl()}function Nv(){return Fl()}function Fl(){return new Es((r=>r.toString()),((r,e)=>r.isEqual(e)))}const FA=new ue(mt.comparator),YA=new Ie(mt.comparator);function Lt(...r){let e=YA;for(const i of r)e=e.add(i);return e}const XA=new Ie(Ut);function KA(){return XA}function Sd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function Dv(r){return{integerValue:""+r}}function ZA(r,e){return SA(e)?Dv(e):Sd(r,e)}class Tc{constructor(){this._=void 0}}function JA(r,e,i){return r instanceof uc?(function(u,h){const d={fields:{[cv]:{stringValue:ov},[fv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&vd(h)&&(h=_c(h)),h&&(d.fields[hv]=h),{mapValue:d}})(i,e):r instanceof eu?Iv(r,e):r instanceof nu?Mv(r,e):(function(u,h){const d=Vv(u,h),y=a_(d)+a_(u.Ae);return $f(d)&&$f(u.Ae)?Dv(y):Sd(u.serializer,y)})(r,e)}function $A(r,e,i){return r instanceof eu?Iv(r,e):r instanceof nu?Mv(r,e):i}function Vv(r,e){return r instanceof oc?(function(s){return $f(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class uc extends Tc{}class eu extends Tc{constructor(e){super(),this.elements=e}}function Iv(r,e){const i=Ov(e);for(const s of r.elements)i.some((u=>Ti(u,s)))||i.push(s);return{arrayValue:{values:i}}}class nu extends Tc{constructor(e){super(),this.elements=e}}function Mv(r,e){let i=Ov(e);for(const s of r.elements)i=i.filter((u=>!Ti(u,s)));return{arrayValue:{values:i}}}class oc extends Tc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function a_(r){return pe(r.integerValue||r.doubleValue)}function Ov(r){return Ed(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function WA(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof eu&&u instanceof eu||s instanceof nu&&u instanceof nu?Tr(s.elements,u.elements,Ti):s instanceof oc&&u instanceof oc?Ti(s.Ae,u.Ae):s instanceof uc&&u instanceof uc})(r.transform,e.transform)}class tS{constructor(e,i){this.version=e,this.transformResults=i}}class ki{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ac{}function xv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Uv(r.key,ki.none()):new au(r.key,r.data,ki.none());{const i=r.data,s=In.empty();let u=new Ie(Ge.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new Ts(r.key,s,new Fn(u.toArray()),ki.none())}}function eS(r,e,i){r instanceof au?(function(u,h,d){const y=u.value.clone(),v=r_(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof Ts?(function(u,h,d){if(!Xo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=r_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(zv(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Yl(r,e,i,s){return r instanceof au?(function(h,d,y,v){if(!Xo(h.precondition,d))return y;const _=h.value.clone(),A=l_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ts?(function(h,d,y,v){if(!Xo(h.precondition,d))return y;const _=l_(h.fieldTransforms,v,d),A=d.data;return A.setAll(zv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(h,d,y){return Xo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function nS(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=Vv(s.transform,u||null);h!=null&&(i===null&&(i=In.empty()),i.set(s.field,h))}return i||null}function s_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Tr(s,u,((h,d)=>WA(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Ac{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ts extends Ac{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function zv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function r_(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,y=e.data.field(h.field);s.set(h.field,$A(d,y,i[u]))}return s}function l_(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,JA(h,d,e))}return s}class Uv extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iS extends Ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&eS(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Nv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=xv(d,y);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Lt())}isEqual(e){return this.batchId===e.batchId&&Tr(this.mutations,e.mutations,((i,s)=>s_(i,s)))&&Tr(this.baseMutations,e.baseMutations,((i,s)=>s_(i,s)))}}class bd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return FA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new bd(e,i,s,u)}}class sS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rS{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ce,Bt;function lS(r){switch(r){case K.OK:return vt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function Lv(r){if(r===void 0)return Gi("GRPC error has no .code"),K.UNKNOWN;switch(r){case Ce.OK:return K.OK;case Ce.CANCELLED:return K.CANCELLED;case Ce.UNKNOWN:return K.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return K.INTERNAL;case Ce.UNAVAILABLE:return K.UNAVAILABLE;case Ce.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ce.NOT_FOUND:return K.NOT_FOUND;case Ce.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ce.ABORTED:return K.ABORTED;case Ce.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ce.DATA_LOSS:return K.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=Ce||(Ce={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function uS(){return new TextEncoder}const oS=new Da([4294967295,4294967295],0);function u_(r){const e=uS().encode(r),i=new Z_;return i.update(e),new Uint8Array(i.digest())}function o_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Da([i,s],0),new Da([u,h],0)]}class Rd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Da.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Da.fromNumber(s)));return u.compare(oS)===1&&(u=new Da([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=u_(e),[s,u]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Rd(h,u,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=u_(e),[s,u]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Sc(Tt.min(),u,new ue(Ut),Qi(),Lt())}}class su{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new su(s,i,Lt(),Lt(),Lt())}}class Ko{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class jv{constructor(e,i){this.targetId=e,this.Ce=i}}class Bv{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class c_{constructor(){this.ve=0,this.Fe=h_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),i=Lt(),s=Lt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:vt(38017,{changeType:h})}})),new su(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=h_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=Po(),this.He=Po(),this.Ye=new ue(Ut)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(td(h))if(s===0){const d=new mt(h.path);this.et(i,d,Ke.newNoDocument(d,Tt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=xa(s).toUint8Array()}catch(v){if(v instanceof uv)return Er("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Rd(d,u,h)}catch(v){return Er(v instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&td(y.target)){const v=new mt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Lt();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new Sc(e,i,this.Ye,this.je,s);return this.je=Qi(),this.Je=Po(),this.He=Po(),this.Ye=new ue(Ut),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new c_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(Ut),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(Ut),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Po(){return new ue(mt.comparator)}function h_(){return new ue(mt.comparator)}const hS={asc:"ASCENDING",desc:"DESCENDING"},fS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dS={and:"AND",or:"OR"};class mS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(r,e){return r.useProto3Json||yc(e)?e:{value:e}}function cc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gS(r,e){return cc(r,e.toTimestamp())}function _i(r){return Ft(!!r,49232),Tt.fromTimestamp((function(i){const s=Oa(i);return new ie(s.seconds,s.nanos)})(r))}function Cd(r,e){return id(r,e).canonicalString()}function id(r,e){const i=(function(u){return new ne(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Pv(r){const e=ne.fromString(r);return Ft(Fv(e),10190,{key:e.toString()}),e}function ad(r,e){return Cd(r.databaseId,e.path)}function qf(r,e){const i=Pv(e);if(i.get(1)!==r.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(Hv(i))}function kv(r,e){return Cd(r.databaseId,e)}function pS(r){const e=Pv(r);return e.length===4?ne.emptyPath():Hv(e)}function sd(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Hv(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function f_(r,e,i){return{name:ad(r,e),fields:i.value.mapValue.fields}}function yS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:Lv(_.code);return new st(A,_.message||"")})(d);i=new Bv(s,u,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=qf(r,s.document.name),h=_i(s.document.updateTime),d=s.document.createTime?_i(s.document.createTime):Tt.min(),y=new In({mapValue:{fields:s.document.fields}}),v=Ke.newFoundDocument(u,h,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Ko(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=qf(r,s.document),h=s.readTime?_i(s.readTime):Tt.min(),d=Ke.newNoDocument(u,h),y=s.removedTargetIds||[];i=new Ko([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=qf(r,s.document),h=s.removedTargetIds||[];i=new Ko([],h,u,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new rS(u,h),y=s.targetId;i=new jv(y,d)}}return i}function _S(r,e){let i;if(e instanceof au)i={update:f_(r,e.key,e.value)};else if(e instanceof Uv)i={delete:ad(r,e.key)};else if(e instanceof Ts)i={update:f_(r,e.key,e.data),updateMask:wS(e.fieldMask)};else{if(!(e instanceof iS))return vt(16599,{Vt:e.type});i={verify:ad(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof uc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof oc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw vt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:gS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(r,e.precondition)),i}function vS(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((i=>(function(u,h){let d=u.updateTime?_i(u.updateTime):_i(h);return d.isEqual(Tt.min())&&(d=_i(h)),new tS(d,u.transformResults||[])})(i,e)))):[]}function ES(r,e){return{documents:[kv(r,e.path)]}}function TS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=kv(r,u);const h=(function(_){if(_.length!==0)return Qv(Yn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:dr(x.field),direction:bS(x.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=nd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function AS(r){let e=pS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ft(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const x=Gv(b);return x instanceof Yn&&_v(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(W){return new tu(mr(W.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let x;return x=typeof b=="object"?b.value:b,yc(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(b){const x=!!b.before,Q=b.values||[];return new rc(Q,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,Q=b.values||[];return new rc(Q,x)})(i.endAt)),PA(e,u,d,h,y,"F",v,_)}function SS(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Gv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=mr(i.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=mr(i.unaryFilter.field);return we.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=mr(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=mr(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return we.create(mr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Yn.create(i.compositeFilter.filters.map((s=>Gv(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function bS(r){return hS[r]}function RS(r){return fS[r]}function CS(r){return dS[r]}function dr(r){return{fieldPath:r.canonicalString()}}function mr(r){return Ge.fromServerFormat(r.fieldPath)}function Qv(r){return r instanceof we?(function(i){if(i.op==="=="){if(Wy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NAN"}};if($y(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Wy(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NAN"}};if($y(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dr(i.field),op:RS(i.op),value:i.value}}})(r):r instanceof Yn?(function(i){const s=i.getFilters().map((u=>Qv(u)));return s.length===1?s[0]:{compositeFilter:{op:CS(i.op),filters:s}}})(r):vt(54877,{filter:r})}function wS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Fv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ca{constructor(e,i,s,u,h=Tt.min(),d=Tt.min(),y=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NS{constructor(e){this.yt=e}}function DS(r){const e=AS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lc(e,e.limit,"L"):e}class VS{constructor(){this.Cn=new IS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Ma.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class IS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Ie(ne.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ie(ne.comparator)).toArray()}}const d_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yv=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Yv,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class br{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new br(0)}static cr(){return new br(-1)}}const m_="LruGarbageCollector",MS=1048576;function g_([r,e],[i,s]){const u=Ut(r,i);return u===0?Ut(e,s):u}class OS{constructor(e){this.Ir=e,this.buffer=new Ie(g_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();g_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(m_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vr(i)?lt(m_,"Ignoring IndexedDB error during garbage collection: ",i):await Dr(i)}await this.Vr(3e5)}))}}class zS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(pc.ce);const s=new OS(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(d_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(e,u)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),hr()<=qt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:b}))))}}function US(r,e){return new zS(r,e)}class LS{constructor(){this.changes=new Es((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class BS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&Yl(s.mutation,u,Fn.empty(),ie.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Lt()){const u=ps();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((h=>{let d=Pl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=ps();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Lt())))}populateOverlays(e,i,s){const u=[];return s.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,u){let h=Qi();const d=Fl(),y=(function(){return Fl()})();return i.forEach(((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Ts)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Yl(A.mutation,_,A.mutation.getFieldMask(),ie.now())):d.set(_.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new jS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Fl();let u=new ue(((d,y)=>d-y)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Fn.empty();A=y.applyToLocalView(_,A),s.set(v,A);const b=(u.get(y.batchId)||Lt()).add(v);u=u.insert(y.batchId,b)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,b=Nv();A.forEach((x=>{if(!h.has(x)){const Q=xv(i.get(x),s.get(x));Q!==null&&b.set(x,Q),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Sv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):Z.resolve(ps());let y=Zl,v=h;return d.next((_=>Z.forEach(_,((A,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Lt()))).next((A=>({batchId:y,changes:wv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let u=Pl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next((y=>Z.forEach(y,(v=>{const _=(function(b,x){return new Ir(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let y=Pl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Yl(A.mutation,_,Fn.empty(),ie.now()),Ec(i,_)&&(y=y.insert(v,_))})),y}))}}class qS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:_i(u.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:DS(u.bundledQuery),readTime:_i(u.readTime)}})(i)),Z.resolve()}}class PS{constructor(){this.overlays=new ue(mt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ps();return Z.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&s.set(u,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const u=ps(),h=i.length+1,d=new mt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return Z.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ue(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=ps(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=ps(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return Z.resolve(y)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new sS(i,s));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}class kS{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class wd{constructor(){this.Qr=new Ie(ze.$r),this.Ur=new Ie(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new ne([])),s=new ze(i,e),u=new ze(i,e+1),h=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new ne([])),s=new ze(i,e),u=new ze(i,e+1);let h=Lt();return this.Ur.forEachInRange([s,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ze(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Ut(e.Yr,i.Yr)}static Kr(e,i){return Ut(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}class HS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(ze.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new aS(h,i,s,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new ze(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),h=u<0?0:u;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?_d:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),u=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,u],(d=>{const y=this.Xr(d.Yr);h.push(y)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(Ut);return i.forEach((u=>{const h=new ze(u,0),d=new ze(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new ze(new mt(h),0);let y=new Ie(Ut);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(u=>{const h=new ze(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ze(i,0),u=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class GS{constructor(e){this.ri=e,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Qi();return i.forEach((u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Ke.newInvalidDocument(u))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Qi();const d=i.path,y=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||vA(_A(A),s)<=0||(u.has(A.key)||Ec(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,u){vt(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new QS(this)}getSize(e){return Z.resolve(this.size)}}class QS extends LS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class FS{constructor(e){this.persistence=e,this.si=new Es((i=>Td(i)),Ad),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new wd,this.targetCount=0,this.ai=br.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new br(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),Z.waitFor(h).next((()=>u))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class Xv{constructor(e,i){this.ui={},this.overlays={},this.ci=new pc(0),this.li=!1,this.li=!0,this.hi=new kS,this.referenceDelegate=e(this),this.Pi=new FS(this),this.indexManager=new VS,this.remoteDocumentCache=(function(u){return new GS(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new NS(i),this.Ii=new qS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new PS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new HS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const u=new YS(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class YS extends TA{constructor(e){super(),this.currentSequenceNumber=e}}class Nd{constructor(e){this.persistence=e,this.Ri=new wd,this.Vi=null}static mi(e){return new Nd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const u=mt.fromPath(s);return this.gi(e,u).next((h=>{h||i.removeEntry(u,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class hc{constructor(e,i){this.persistence=e,this.pi=new Es((s=>bA(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=US(this,i)}static mi(e,i){return new hc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,u)=>this.br(e,s,u).next((h=>h?Z.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fo(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return Z.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Dd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Lt(),u=Lt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Dd(e,i.fromCache,s,u)}}class XS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class KS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qT()?8:AA(jT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new XS;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(hr()<=qt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",fr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(hr()<=qt.DEBUG&&lt("QueryEngine","Query:",fr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(hr()<=qt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",fr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):Z.resolve())}ys(e,i){if(i_(i))return Z.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=lc(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Lt(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,lc(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,u){return i_(i)||u.isEqual(Tt.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,u)?Z.resolve(null):(hr()<=qt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),fr(i)),this.vs(e,d,i,yA(u,Zl)).next((y=>y)))}))}Ds(e,i){let s=new Ie(Rv(e));return i.forEach(((u,h)=>{Ec(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,s){return hr()<=qt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",fr(i)),this.ps.getDocumentsMatchingQuery(e,i,Ma.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Vd="LocalStore",ZS=3e8;class JS{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ue(Ut),this.xs=new Es((h=>Td(h)),Ad),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function $S(r,e,i,s){return new JS(r,e,i,s)}async function Kv(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=Lt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function WS(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const b=_.batch,x=b.keys();let Q=Z.resolve();return x.forEach((W=>{Q=Q.next((()=>A.getEntry(v,W))).next((J=>{const $=_.docVersions.get(W);Ft($!==null,48541),J.version.compareTo($)<0&&(b.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),A.addEntry(J)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Lt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function Zv(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function tb(r,e){const i=St(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((A,b)=>{const x=u.get(b);if(!x)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,b))));let Q=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?Q=Q.withResumeToken(Qe.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,s)),u=u.insert(b,Q),(function(J,$,ut){return J.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=ZS?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(x,Q,A)&&y.push(i.Pi.updateTargetData(h,Q))}));let v=Qi(),_=Lt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(eb(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return Z.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function eb(r,e,i){let s=Lt(),u=Lt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Qi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):lt(Vd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function nb(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_d),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ib(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((h=>h?(u=h,Z.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new Ca(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function rd(r,e,i){const s=St(r),u=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Vr(d))throw d;lt(Vd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function p_(r,e,i){const s=St(r);let u=Tt.min(),h=Lt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=St(v),x=b.xs.get(A);return x!==void 0?Z.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,A)})(s,d,yi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:Tt.min(),i?h:Lt()))).next((y=>(ab(s,HA(e),y),{documents:y,Qs:h})))))}function ab(r,e,i){let s=r.Os.get(e)||Tt.min();i.forEach(((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class y_{constructor(){this.activeTargetIds=KA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sb{constructor(){this.Mo=new y_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new y_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rb{Oo(e){}shutdown(){}}const __="ConnectivityMonitor";class v_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(__,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(__,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ko=null;function ld(){return ko===null?ko=(function(){return 268435456+Math.round(2147483648*Math.random())})():ko++,"0x"+ko.toString(16)}const Pf="RestConnection",lb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ub{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===ac?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,h){const d=ld(),y=this.zo(e,i.toUriEncodedString());lt(Pf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),A=md(_);return this.Jo(e,y,v,s,A).then((b=>(lt(Pf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Er(Pf,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,u,h,d){return this.Go(e,i,s,u,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),s&&s.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const s=lb[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class ob{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ye="WebChannelConnection";class cb extends ub{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=ld();return new Promise(((y,v)=>{const _=new J_;_.setWithCredentials(!0),_.listenOnce($_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qo.NO_ERROR:const b=_.getResponseJson();lt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case Qo.TIMEOUT:lt(Ye,`RPC '${e}' ${d} timed out`),v(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const x=_.getStatus();if(lt(Ye,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const J=(function(ut){const nt=ut.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(nt)>=0?nt:K.UNKNOWN})(W.status);v(new st(J,W.message))}else v(new st(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(K.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);lt(Ye,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const u=ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=ev(),y=tv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");lt(Ye,`Creating RPC '${e}' stream ${u}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let x=!1,Q=!1;const W=new ob({Yo:$=>{Q?lt(Ye,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(x||(lt(Ye,`Opening RPC '${e}' stream ${u} transport.`),b.open(),x=!0),lt(Ye,`RPC '${e}' stream ${u} sending:`,$),b.send($))},Zo:()=>b.close()}),J=($,ut,nt)=>{$.listen(ut,(it=>{try{nt(it)}catch(gt){setTimeout((()=>{throw gt}),0)}}))};return J(b,ql.EventType.OPEN,(()=>{Q||(lt(Ye,`RPC '${e}' stream ${u} transport opened.`),W.o_())})),J(b,ql.EventType.CLOSE,(()=>{Q||(Q=!0,lt(Ye,`RPC '${e}' stream ${u} transport closed`),W.a_(),this.E_(b))})),J(b,ql.EventType.ERROR,($=>{Q||(Q=!0,Er(Ye,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),W.a_(new st(K.UNAVAILABLE,"The operation could not be completed")))})),J(b,ql.EventType.MESSAGE,($=>{if(!Q){const ut=$.data[0];Ft(!!ut,16349);const nt=ut,it=nt?.error||nt[0]?.error;if(it){lt(Ye,`RPC '${e}' stream ${u} received error:`,it);const gt=it.status;let Rt=(function(S){const N=Ce[S];if(N!==void 0)return Lv(N)})(gt),Ct=it.message;Rt===void 0&&(Rt=K.INTERNAL,Ct="Unknown error status: "+gt+" with message "+it.message),Q=!0,W.a_(new st(Rt,Ct)),b.close()}else lt(Ye,`RPC '${e}' stream ${u} received:`,ut),W.u_(ut)}})),J(y,W_.STAT_EVENT,($=>{$.stat===Kf.PROXY?lt(Ye,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Kf.NOPROXY&&lt(Ye,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function kf(){return typeof document<"u"?document:null}function bc(r){return new mS(r,!0)}class Jv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const E_="PersistentStream";class $v{constructor(e,i,s,u,h,d,y,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new st(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(E_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hb extends $v{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=yS(this.serializer,e),s=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?_i(d.readTime):Tt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=sd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=td(v)?{documents:ES(h,v)}:{query:TS(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=qv(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){y.readTime=cc(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=SS(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.q_(i)}}class fb extends $v{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=vS(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=sd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>_S(this.serializer,s)))};this.q_(i)}}class db{}class mb extends db{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,id(i,s),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(K.UNKNOWN,h.toString())}))}Ho(e,i,s,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,id(i,s),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _s="RemoteStore";class pb{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{As(this)&&(lt(_s,"Restarting streams for network reachability change."),await(async function(v){const _=St(v);_.Ea.add(4),await ru(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rc(_)})(this))}))})),this.Ra=new gb(s,u)}}async function Rc(r){if(As(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function Wv(r,e){const i=St(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),xd(i)?Od(i):Mr(i).O_()&&Md(i,e))}function Id(r,e){const i=St(r),s=Mr(i);i.Ia.delete(e),s.O_()&&tE(i,e),i.Ia.size===0&&(s.O_()?s.L_():As(i)&&i.Ra.set("Unknown"))}function Md(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Mr(r).Y_(e)}function tE(r,e){r.Va.Ue(e),Mr(r).Z_(e)}function Od(r){r.Va=new cS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mr(r).start(),r.Ra.ua()}function xd(r){return As(r)&&!Mr(r).x_()&&r.Ia.size>0}function As(r){return St(r).Ea.size===0}function eE(r){r.Va=void 0}async function yb(r){r.Ra.set("Online")}async function _b(r){r.Ia.forEach(((e,i)=>{Md(r,e)}))}async function vb(r,e){eE(r),xd(r)?(r.Ra.ha(e),Od(r)):r.Ra.set("Unknown")}async function Eb(r,e,i){if(r.Ra.set("Online"),e instanceof Bv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(r,e)}catch(s){lt(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fc(r,s)}else if(e instanceof Ko?r.Va.Ze(e):e instanceof jv?r.Va.st(e):r.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await Zv(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),tE(h,v);const b=new Ca(A.target,v,_,A.sequenceNumber);Md(h,b)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){lt(_s,"Failed to raise snapshot:",s),await fc(r,s)}}async function fc(r,e,i){if(!Vr(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),i||(i=()=>Zv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(_s,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rc(r)}))}function nE(r,e){return e().catch((i=>fc(r,i,e)))}async function Cc(r){const e=St(r),i=Ua(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_d;for(;Tb(e);)try{const u=await nb(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,Ab(e,u)}catch(u){await fc(e,u)}iE(e)&&aE(e)}function Tb(r){return As(r)&&r.Ta.length<10}function Ab(r,e){r.Ta.push(e);const i=Ua(r);i.O_()&&i.X_&&i.ea(e.mutations)}function iE(r){return As(r)&&!Ua(r).x_()&&r.Ta.length>0}function aE(r){Ua(r).start()}async function Sb(r){Ua(r).ra()}async function bb(r){const e=Ua(r);for(const i of r.Ta)e.ea(i.mutations)}async function Rb(r,e,i){const s=r.Ta.shift(),u=bd.from(s,e,i);await nE(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await Cc(r)}async function Cb(r,e){e&&Ua(r).X_&&await(async function(s,u){if((function(d){return lS(d)&&d!==K.ABORTED})(u.code)){const h=s.Ta.shift();Ua(s).B_(),await nE(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Cc(s)}})(r,e),iE(r)&&aE(r)}async function T_(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),lt(_s,"RemoteStore received new credentials");const s=As(i);i.Ea.add(3),await ru(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rc(i)}async function wb(r,e){const i=St(r);e?(i.Ea.delete(2),await Rc(i)):e||(i.Ea.add(2),await ru(i),i.Ra.set("Unknown"))}function Mr(r){return r.ma||(r.ma=(function(i,s,u){const h=St(i);return h.sa(),new hb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:yb.bind(null,r),t_:_b.bind(null,r),r_:vb.bind(null,r),H_:Eb.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),xd(r)?Od(r):r.Ra.set("Unknown")):(await r.ma.stop(),eE(r))}))),r.ma}function Ua(r){return r.fa||(r.fa=(function(i,s,u){const h=St(i);return h.sa(),new fb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Sb.bind(null,r),r_:Cb.bind(null,r),ta:bb.bind(null,r),na:Rb.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Cc(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(_s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class zd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,y=new zd(e,i,d,u,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),Vr(r))return new st(K.UNAVAILABLE,`${e}: ${r}`);throw r}class pr{static emptySet(e){return new pr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Pl(),this.sortedSet=new ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new pr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class A_{constructor(){this.ga=new ue(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Rr{constructor(e,i,s,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Rr(e,i,pr.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class Nb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Db{constructor(){this.queries=S_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=St(i),h=u.queries;u.queries=S_(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new st(K.ABORTED,"Firestore shutting down"))}}function S_(){return new Es((r=>bv(r)),vc)}async function Vb(r,e){const i=St(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(s=2):(h=new Nb,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Ud(d,`Initialization of query '${fr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Ld(i)}async function Ib(r,e){const i=St(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Mb(r,e){const i=St(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(u)&&(s=!0);d.wa=u}}s&&Ld(i)}function Ob(r,e,i){const s=St(r),u=s.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);s.queries.delete(e)}function Ld(r){r.Ca.forEach((e=>{e.next()}))}var ud,b_;(b_=ud||(ud={})).Ma="default",b_.Cache="cache";class xb{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Rr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Rr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}class sE{constructor(e){this.key=e}}class rE{constructor(e){this.key=e}}class zb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=Rv(e),this.tu=new pr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new A_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,b)=>{const x=u.get(A),Q=Ec(this.query,b)?b:null,W=!!x&&this.mutatedKeys.has(x.key),J=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let $=!1;x&&Q?x.data.isEqual(Q.data)?W!==J&&(s.track({type:3,doc:Q}),$=!0):this.su(x,Q)||(s.track({type:2,doc:Q}),$=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!x&&Q?(s.track({type:0,doc:Q}),$=!0):x&&!Q&&(s.track({type:1,doc:x}),$=!0,(v||_)&&(y=!0)),$&&(Q?(d=d.add(Q),h=J?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(Q,W){const J=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:$})}};return J(Q)-J(W)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Rr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new rE(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new sE(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Lt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Rr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jd="SyncEngine";class Ub{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Lb{constructor(e){this.key=e,this.hu=!1}}class jb{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Es((y=>bv(y)),vc),this.Iu=new Map,this.Eu=new Set,this.du=new ue(mt.comparator),this.Au=new Map,this.Ru=new wd,this.Vu={},this.mu=new Map,this.fu=br.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Bb(r,e,i=!0){const s=fE(r);let u;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await lE(s,e,i,!0),u}async function qb(r,e){const i=fE(r);await lE(i,e,!0,!1)}async function lE(r,e,i,s){const u=await ib(r.localStore,yi(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await Pb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&Wv(r.remoteStore,u),y}async function Pb(r,e,i,s,u){r.pu=(b,x,Q)=>(async function(J,$,ut,nt){let it=$.view.ru(ut);it.Cs&&(it=await p_(J.localStore,$.query,!1).then((({documents:w})=>$.view.ru(w,it))));const gt=nt&&nt.targetChanges.get($.targetId),Rt=nt&&nt.targetMismatches.get($.targetId)!=null,Ct=$.view.applyChanges(it,J.isPrimaryClient,gt,Rt);return C_(J,$.targetId,Ct.au),Ct.snapshot})(r,b,x,Q);const h=await p_(r.localStore,e,!0),d=new zb(e,h.Qs),y=d.ru(h.documents),v=su.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);C_(r,i,_.au);const A=new Ub(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function kb(r,e,i){const s=St(r),u=s.Tu.get(e),h=s.Iu.get(u.targetId);if(h.length>1)return s.Iu.set(u.targetId,h.filter((d=>!vc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await rd(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Id(s.remoteStore,u.targetId),od(s,u.targetId)})).catch(Dr)):(od(s,u.targetId),await rd(s.localStore,u.targetId,!0))}async function Hb(r,e){const i=St(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Id(i.remoteStore,s.targetId))}async function Gb(r,e,i){const s=Jb(r);try{const u=await(function(d,y){const v=St(d),_=ie.now(),A=y.reduce(((Q,W)=>Q.add(W.key)),Lt());let b,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=Qi(),J=Lt();return v.Ns.getEntries(Q,A).next(($=>{W=$,W.forEach(((ut,nt)=>{nt.isValidDocument()||(J=J.add(ut))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,W))).next(($=>{b=$;const ut=[];for(const nt of y){const it=nS(nt,b.get(nt.key).overlayedDocument);it!=null&&ut.push(new Ts(nt.key,it,gv(it.value.mapValue),ki.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,ut,y)})).next(($=>{x=$;const ut=$.applyToLocalDocumentSet(b,J);return v.documentOverlayCache.saveOverlays(Q,$.batchId,ut)}))})).then((()=>({batchId:x.batchId,changes:wv(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Ut)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,u.batchId,i),await lu(s,u.changes),await Cc(s.remoteStore)}catch(u){const h=Ud(u,"Failed to persist write");i.reject(h)}}async function uE(r,e){const i=St(r);try{const s=await tb(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(Ft(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Ft(d.hu,14607):u.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await lu(i,s,e)}catch(s){await Dr(s)}}function R_(r,e,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=St(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(y)&&(_=!0)})),_&&Ld(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Qb(r,e,i){const s=St(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),h=u&&u.key;if(h){let d=new ue(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,Tt.min()));const y=Lt().add(h),v=new Sc(Tt.min(),new Map,new ue(Ut),d,y);await uE(s,v),s.du=s.du.remove(h),s.Au.delete(e),Bd(s)}else await rd(s.localStore,e,!1).then((()=>od(s,e,i))).catch(Dr)}async function Fb(r,e){const i=St(r),s=e.batch.batchId;try{const u=await WS(i.localStore,e);cE(i,s,null),oE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await lu(i,u)}catch(u){await Dr(u)}}async function Yb(r,e,i){const s=St(r);try{const u=await(function(d,y){const v=St(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(Ft(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);cE(s,e,i),oE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await lu(s,u)}catch(u){await Dr(u)}}function oE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function cE(r,e,i){const s=St(r);let u=s.Vu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function od(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||hE(r,s)}))}function hE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Id(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Bd(r))}function C_(r,e,i){for(const s of i)s instanceof sE?(r.Ru.addReference(s.key,e),Xb(r,s)):s instanceof rE?(lt(jd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||hE(r,s.key)):vt(19791,{wu:s})}function Xb(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(lt(jd,"New document in limbo: "+i),r.Eu.add(s),Bd(r))}function Bd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(ne.fromString(e)),s=r.fu.next();r.Au.set(s,new Lb(i)),r.du=r.du.insert(i,s),Wv(r.remoteStore,new Ca(yi(Av(i.path)),s,"TargetPurposeLimboResolution",pc.ce))}}async function lu(r,e,i){const s=St(r),u=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Dd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,_){const A=St(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(x=>Z.forEach(x.Es,(Q=>A.persistence.referenceDelegate.addReference(b,x.targetId,Q))).next((()=>Z.forEach(x.ds,(Q=>A.persistence.referenceDelegate.removeReference(b,x.targetId,Q)))))))))}catch(b){if(!Vr(b))throw b;lt(Vd,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const Q=A.Ms.get(x),W=Q.snapshotVersion,J=Q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(x,J)}}})(s.localStore,h))}async function Kb(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){lt(jd,"User change. New user:",e.toKey());const s=await Kv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new st(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(i,s.Ls)}}function Zb(r,e){const i=St(r),s=i.Au.get(e);if(s&&s.hu)return Lt().add(s.key);{let u=Lt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function fE(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=uE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qb.bind(null,e),e.Pu.H_=Mb.bind(null,e.eventManager),e.Pu.yu=Ob.bind(null,e.eventManager),e}function Jb(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yb.bind(null,e),e}class dc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $S(this.persistence,new KS,e.initialUser,this.serializer)}Cu(e){return new Xv(Nd.mi,this.serializer)}Du(e){return new sb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dc.provider={build:()=>new dc};class $b extends dc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof hc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Xv((s=>hc.mi(s,i)),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>R_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kb.bind(null,this.syncEngine),await wb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Db})()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),s=(function(h){return new cb(h)})(e.databaseInfo);return(function(h,d,y,v){return new mb(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,h,d,y){return new pb(s,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>R_(this.syncEngine,i,0)),(function(){return v_.v()?new v_:new rb})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,A){const b=new jb(u,h,d,y,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=St(i);lt(_s,"RemoteStore shutting down."),s.Ea.add(5),await ru(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};class Wb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const La="FirestoreClient";class t2{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Xe.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{lt(La,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(lt(La,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Ud(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Hf(r,e){r.asyncQueue.verifyOperationInProgress(),lt(La,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await Kv(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function w_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await e2(r);lt(La,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>T_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>T_(e.remoteStore,u))),r._onlineComponents=e}async function e2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(La,"Using user provided OfflineComponentProvider");try{await Hf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Er("Error using user provided cache. Falling back to memory cache: "+i),await Hf(r,new dc)}}else lt(La,"Using default OfflineComponentProvider"),await Hf(r,new $b(void 0));return r._offlineComponents}async function dE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(La,"Using user provided OnlineComponentProvider"),await w_(r,r._uninitializedComponentsProvider._online)):(lt(La,"Using default OnlineComponentProvider"),await w_(r,new cd))),r._onlineComponents}function n2(r){return dE(r).then((e=>e.syncEngine))}async function i2(r){const e=await dE(r),i=e.eventManager;return i.onListen=Bb.bind(null,e.syncEngine),i.onUnlisten=kb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=qb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Hb.bind(null,e.syncEngine),i}function a2(r,e,i={}){const s=new Va;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new Wb({next:x=>{A.Nu(),d.enqueueAndForget((()=>Ib(h,b))),x.fromCache&&v.source==="server"?_.reject(new st(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),b=new xb(y,A,{includeMetadataChanges:!0,qa:!0});return Vb(h,b)})(await i2(r),r.asyncQueue,e,i,s))),s.promise}function mE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const N_=new Map;const gE="firestore.googleapis.com",D_=!0;class V_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gE,this.ssl=D_}else this.host=e.host,this.ssl=e.ssl??D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MS)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new rA;switch(s.type){case"firstParty":return new cA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=N_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),N_.delete(i),s.terminate())})(this),Promise.resolve()}}function s2(r,e,i,s={}){r=nc(r,wc);const u=md(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(OT(`https://${y}`),LT("Firestore",!0)),h.host!==gE&&h.host!==y&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:s};if(!Wo(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Xe.MOCK_USER;else{_=xT(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}r._authCredentials=new lA(new iv(_,A))}}class ja{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ja(this.firestore,e,this._query)}}class Ue{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(iu(i,Ue._jsonSchema))return new Ue(e,s||null,new mt(ne.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Ne("string",Ue._jsonSchemaVersion),referencePath:Ne("string")};class Ia extends ja{constructor(e,i,s){super(e,i,Av(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new mt(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function pE(r,e,...i){if(r=vr(r),av("collection","path",e),r instanceof wc){const s=ne.fromString(e,...i);return Hy(s),new Ia(r,null,s)}{if(!(r instanceof Ue||r instanceof Ia))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return Hy(s),new Ia(r.firestore,null,s)}}function r2(r,e,...i){if(r=vr(r),arguments.length===1&&(e=yd.newId()),av("doc","path",e),r instanceof wc){const s=ne.fromString(e,...i);return ky(s),new Ue(r,null,new mt(s))}{if(!(r instanceof Ue||r instanceof Ia))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(e,...i));return ky(s),new Ue(r.firestore,r instanceof Ia?r.converter:null,new mt(s))}}const I_="AsyncQueue";class M_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jv(this,"async_queue_retry"),this._c=()=>{const s=kf();s&&lt(I_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vr(e))throw e;lt(I_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",O_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=zd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&vt(47125,{Pc:O_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function O_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class qd extends wc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new M_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M_(e),this._firestoreClient=void 0,await e}}}function l2(r,e){const i=typeof r=="object"?r:Y1(),s=typeof r=="string"?r:ac,u=k1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=IT("firestore");h&&s2(u,...h)}return u}function yE(r){if(r._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||u2(r),r._firestoreClient}function u2(r){const e=r._freezeSettings(),i=(function(u,h,d,y){return new wA(u,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,mE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new t2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(r._componentsProvider))}class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Qe.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Mn(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Ne("string",Mn._jsonSchemaVersion),bytes:Ne("string")};class Pd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _E{constructor(e){this._methodName=e}}class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(iu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Ne("string",vi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new st(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Ne("string",Ei._jsonSchemaVersion),vectorValues:Ne("object")};const o2=/^__.*__$/;class c2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}function vE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class kd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vE(this.Ac)&&o2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class h2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||bc(e)}Cc(e,i,s,u=!1){return new kd({Ac:e,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EE(r){const e=r._freezeSettings(),i=bc(r._databaseId);return new h2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function f2(r,e,i,s,u,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,u);SE("Data must be an object, but it was:",d,s);const y=TE(s,d);let v,_;if(h.merge)v=new Fn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const x=m2(e,b,i);if(!d.contains(x))throw new st(K.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);p2(A,x)||A.push(x)}v=new Fn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new c2(new In(y),v,_)}function d2(r,e,i,s=!1){return Hd(i,r.Cc(s?4:3,e))}function Hd(r,e){if(AE(r=vr(r)))return SE("Unsupported field value:",e,r),TE(r,e);if(r instanceof _E)return(function(s,u){if(!vE(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const h=[];let d=0;for(const y of s){let v=Hd(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,u){if((s=vr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ie.fromDate(s);return{timestampValue:cc(u.serializer,h)}}if(s instanceof ie){const h=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cc(u.serializer,h)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mn)return{bytesValue:qv(u.serializer,s._byteString)};if(s instanceof Ue){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Cd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ei)return(function(d,y){return{mapValue:{fields:{[dv]:{stringValue:mv},[sc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Sd(y.serializer,_)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${gc(s)}`)})(r,e)}function TE(r,e){const i={};return lv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,((s,u)=>{const h=Hd(u,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function AE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof vi||r instanceof Mn||r instanceof Ue||r instanceof _E||r instanceof Ei)}function SE(r,e,i){if(!AE(i)||!sv(i)){const s=gc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function m2(r,e,i){if((e=vr(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return bE(r,e);throw mc("Field path arguments must be of type string or ",r,!1,void 0,i)}const g2=new RegExp("[~\\*/\\[\\]]");function bE(r,e,i){if(e.search(g2)>=0)throw mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Pd(...e.split("."))._internalPath}catch{throw mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function mc(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new st(K.INVALID_ARGUMENT,y+r+v)}function p2(r,e){return r.some((i=>i.isEqual(e)))}class RE{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Nc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class y2 extends RE{data(){return super.data()}}function Nc(r,e){return typeof e=="string"?bE(r,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}function _2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gd{}class Qd extends Gd{}function v2(r,e,...i){let s=[];e instanceof Gd&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof Fd)).length,y=h.filter((v=>v instanceof Dc)).length;if(d>1||d>0&&y>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const u of s)r=u._apply(r);return r}class Dc extends Qd{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Dc(e,i,s)}_apply(e){const i=this._parse(e);return CE(e._query,i),new ja(e.firestore,e.converter,ed(e._query,i))}_parse(e){const i=EE(e.firestore);return(function(h,d,y,v,_,A,b){let x;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){L_(b,A);const W=[];for(const J of b)W.push(U_(v,h,J));x={arrayValue:{values:W}}}else x=U_(v,h,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||L_(b,A),x=d2(y,d,b,A==="in"||A==="not-in");return we.create(_,A,x)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function x_(r,e,i){const s=e,u=Nc("where",r);return Dc._create(u,s,i)}class Fd extends Gd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Fd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,h){let d=u;const y=h.getFlattenedFilters();for(const v of y)CE(d,v),d=ed(d,v)})(e._query,i),new ja(e.firestore,e.converter,ed(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yd extends Qd{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Yd(e,i)}_apply(e){const i=(function(u,h,d){if(u.startAt!==null)throw new st(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new st(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(h,d)})(e._query,this._field,this._direction);return new ja(e.firestore,e.converter,(function(u,h){const d=u.explicitOrderBy.concat([h]);return new Ir(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)})(e._query,i))}}function z_(r,e="asc"){const i=e,s=Nc("orderBy",r);return Yd._create(s,i)}class Xd extends Qd{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Xd(e,i,s)}_apply(e){return new ja(e.firestore,e.converter,lc(e._query,this._limit,this._limitType))}}function E2(r){return Xd._create("limit",r,"F")}function U_(r,e,i){if(typeof(i=vr(i))=="string"){if(i==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sv(e)&&i.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ne.fromString(i));if(!mt.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jy(r,new mt(s))}if(i instanceof Ue)return Jy(r,i._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gc(i)}.`)}function L_(r,e){if(!Array.isArray(r)||r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CE(r,e){const i=(function(u,h){for(const d of u)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class T2{convertValue(e,i="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return vs(e,((u,h)=>{s[u]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[sc].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new vi(pe(e.latitude),pe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=_c(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=Oa(e);return new ie(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ne.fromString(e);Ft(Fv(s),9688,{name:e});const u=new $l(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return u.isEqual(i)||Gi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function A2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Ho{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yr extends RE{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Nc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",yr._jsonSchema={type:Ne("string",yr._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Zo extends yr{data(e={}){return super.data(e)}}class _r{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ho(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Zo(this._firestore,this._userDataWriter,s.key,s,new Ho(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Zo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Ho(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Zo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Ho(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:S2(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_r._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}_r._jsonSchemaVersion="firestore/querySnapshot/1.0",_r._jsonSchema={type:Ne("string",_r._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class b2 extends T2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function R2(r){r=nc(r,ja);const e=nc(r.firestore,qd),i=yE(e),s=new b2(e);return _2(r._query),a2(i,r._query).then((u=>new _r(e,s,r,u)))}function C2(r,e){const i=nc(r.firestore,qd),s=r2(r),u=A2(r.converter,e);return w2(i,[f2(EE(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,ki.exists(!1))]).then((()=>s))}function w2(r,e){return(function(s,u){const h=new Va;return s.asyncQueue.enqueueAndForget((async()=>Gb(await n2(s),u,h))),h.promise})(yE(r),e)}(function(e,i=!0){(function(u){Nr=u})(F1),ec(new Xl("firestore",((s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new qd(new uA(s.getProvider("auth-internal")),new hA(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(_.options.projectId,A)})(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),gr(jy,By,e),gr(jy,By,"esm2020")})();const Jo={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},Cr=()=>!!(Jo.apiKey&&Jo.projectId&&Jo.appId),N2=Y_(Jo),wE=l2(N2),NE="leaderboard",DE=10,D2=r=>{const e=r.data();return{id:r.id,name:e.name,score:e.score,timeUsed:e.timeUsed,difficulty:e.difficulty,questionMode:e.questionMode,timestamp:e.timestamp?.toDate()||new Date}},V2=async r=>{if(!Cr())return console.warn("Firebase "),null;try{return(await C2(pE(wE,NE),{...r,timestamp:ie.now()})).id}catch(e){throw console.error(":",e),e}},VE=async(r,e)=>{if(!Cr())return console.warn("Firebase "),[];try{const i=v2(pE(wE,NE),x_("difficulty","==",r),x_("questionMode","==",e),z_("score","desc"),z_("timeUsed","asc"),E2(DE));return(await R2(i)).docs.map(D2)}catch(i){throw console.error(":",i),i}},I2=async(r,e,i,s)=>{if(!Cr())return!1;try{const u=await VE(r,e);if(u.length<DE)return!0;const h=u[u.length-1];return i>h.score||i===h.score&&s<h.timeUsed}catch(u){return console.error(" TOP10 :",u),!1}},Go=2,Bl=20,M2=({score:r,timeUsed:e,difficulty:i,questionMode:s,onSubmitted:u,onSkip:h})=>{const[d,y]=yt.useState(""),[v,_]=yt.useState(!1),[A,b]=yt.useState(null),x=$=>{const ut=$.target.value.slice(0,Bl);y(ut),b(null)},Q=()=>{const $=d.trim();return $.length<Go?(b(` ${Go} `),!1):$.length>Bl?(b(` ${Bl} `),!1):!0},W=async $=>{if($.preventDefault(),!!Q()){_(!0),b(null);try{await V2({name:d.trim(),score:r,timeUsed:e,difficulty:i,questionMode:s}),u(d.trim())}catch(ut){b(""),console.error(ut)}finally{_(!1)}}},J=s==="basic"?"":"";return M.jsx("div",{className:"submit-score-overlay",children:M.jsxs("div",{className:"submit-score-modal",children:[M.jsxs("div",{className:"submit-score-header",children:[M.jsx("div",{className:"congrats-emoji",children:""}),M.jsx("h2",{children:"100% "}),M.jsxs("p",{className:"submit-score-info",children:["",i," | ",J,M.jsx("br",{}),"",r,"  | ",e," "]})]}),M.jsxs("form",{onSubmit:W,className:"submit-score-form",children:[M.jsx("label",{htmlFor:"player-name",children:""}),M.jsx("input",{id:"player-name",type:"text",value:d,onChange:x,placeholder:`${Go}-${Bl} `,disabled:v,autoFocus:!0,autoComplete:"off"}),M.jsxs("div",{className:"name-length",children:[d.length,"/",Bl]}),A&&M.jsx("div",{className:"submit-error",children:A}),M.jsxs("div",{className:"submit-actions",children:[M.jsx("button",{type:"button",className:"skip-btn",onClick:h,disabled:v,children:""}),M.jsx("button",{type:"submit",className:"submit-btn",disabled:v||d.trim().length<Go,children:v?"...":""})]})]})]})})},O2=["","",""],x2=[{value:"basic",label:""},{value:"narrative",label:""}],IE=({initialDifficulty:r="",initialMode:e="basic",highlightName:i,onClose:s})=>{const[u,h]=yt.useState(r),[d,y]=yt.useState(e),[v,_]=yt.useState([]),[A,b]=yt.useState(!0),[x,Q]=yt.useState(null),W=yt.useCallback(async()=>{if(!Cr()){Q(""),b(!1);return}b(!0),Q(null);try{const nt=await VE(u,d);_(nt)}catch(nt){Q(""),console.error(nt)}finally{b(!1)}},[u,d]);yt.useEffect(()=>{W()},[u,d,W]);const J=nt=>{const it=Math.floor(nt/60),gt=nt%60;return it>0?`${it}:${gt.toString().padStart(2,"0")}`:`${gt}`},$=nt=>{const it=nt.getMonth()+1,gt=nt.getDate(),Rt=nt.getHours().toString().padStart(2,"0"),Ct=nt.getMinutes().toString().padStart(2,"0");return`${it}/${gt} ${Rt}:${Ct}`},ut=nt=>{switch(nt){case 1:return"";case 2:return"";case 3:return"";default:return`${nt}`}};return M.jsx("div",{className:"leaderboard-overlay",children:M.jsxs("div",{className:"leaderboard-modal",children:[M.jsx("button",{className:"leaderboard-close",onClick:s,children:""}),M.jsx("h2",{className:"leaderboard-title",children:""}),M.jsxs("div",{className:"leaderboard-filters",children:[M.jsxs("div",{className:"filter-group",children:[M.jsx("label",{children:""}),M.jsx("div",{className:"filter-buttons",children:O2.map(nt=>M.jsx("button",{className:`filter-btn ${u===nt?"active":""}`,onClick:()=>h(nt),children:nt},nt))})]}),M.jsxs("div",{className:"filter-group",children:[M.jsx("label",{children:""}),M.jsx("div",{className:"filter-buttons",children:x2.map(nt=>M.jsx("button",{className:`filter-btn ${d===nt.value?"active":""}`,onClick:()=>y(nt.value),children:nt.label},nt.value))})]})]}),M.jsxs("div",{className:"leaderboard-content",children:[A&&M.jsx("div",{className:"leaderboard-loading",children:"..."}),x&&M.jsx("div",{className:"leaderboard-error",children:x}),!A&&!x&&v.length===0&&M.jsxs("div",{className:"leaderboard-empty",children:["",M.jsx("br",{}),""]}),!A&&!x&&v.length>0&&M.jsxs("table",{className:"leaderboard-table",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{className:"col-rank",children:""}),M.jsx("th",{className:"col-name",children:""}),M.jsx("th",{className:"col-score",children:""}),M.jsx("th",{className:"col-time",children:""}),M.jsx("th",{className:"col-date",children:""})]})}),M.jsx("tbody",{children:v.map((nt,it)=>M.jsxs("tr",{className:i&&nt.name===i?"highlight":"",children:[M.jsx("td",{className:"col-rank",children:ut(it+1)}),M.jsx("td",{className:"col-name",children:nt.name}),M.jsx("td",{className:"col-score",children:nt.score}),M.jsx("td",{className:"col-time",children:J(nt.timeUsed)}),M.jsx("td",{className:"col-date",children:$(nt.timestamp)})]},nt.id))})]})]})]})})},z2=({score:r,attempts:e,timeUsed:i,difficulty:s,questionMode:u,onRestart:h})=>{const d=e>0?Math.round(r/e*1e3)/10:0,y=r===e&&e>0,[v,_]=yt.useState(!1),[A,b]=yt.useState(!1),[x,Q]=yt.useState(null),[W,J]=yt.useState(!1),[$,ut]=yt.useState(!1);yt.useEffect(()=>{(async()=>{if(!y||!Cr()){ut(!1);return}J(!0);try{const Ct=await I2(s,u,r,i);ut(Ct),Ct&&_(!0)}catch(Ct){console.error(" TOP10 :",Ct),ut(!1)}finally{J(!1)}})()},[y,s,u,r,i]);const nt=Rt=>{Q(Rt),_(!1),b(!0)},it=()=>{_(!1)},gt=u==="basic"?"":"";return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"game-over",children:[M.jsx("h1",{children:""}),M.jsxs("div",{className:"game-info",children:[M.jsx("span",{className:"info-badge",children:s}),M.jsx("span",{className:"info-badge",children:gt})]}),M.jsxs("div",{className:"final-score",children:[M.jsx("div",{className:"score-label",children:""}),M.jsx("div",{className:"score-value",children:r})]}),M.jsxs("div",{className:"accuracy",children:[M.jsx("div",{className:"accuracy-label",children:""}),M.jsxs("div",{className:`accuracy-value ${y?"perfect":""}`,children:[d.toFixed(1),"%",y&&" "]}),M.jsxs("div",{className:"accuracy-detail",children:["(",r," / ",e," )"]})]}),M.jsxs("div",{className:"time-used",children:[M.jsx("span",{className:"time-label",children:""}),M.jsxs("span",{className:"time-value",children:[i," "]})]}),W&&M.jsx("div",{className:"checking-status",children:"..."}),y&&$&&!v&&!x&&M.jsx("button",{className:"submit-score-button",onClick:()=>_(!0),children:" "}),x&&M.jsx("div",{className:"submitted-message",children:" "}),M.jsxs("div",{className:"action-buttons",children:[M.jsx("button",{className:"restart-button",onClick:h,children:""}),Cr()&&M.jsx("button",{className:"leaderboard-button",onClick:()=>b(!0),children:" "})]})]}),v&&M.jsx(M2,{score:r,timeUsed:i,difficulty:s,questionMode:u,onSubmitted:nt,onSkip:it}),A&&M.jsx(IE,{initialDifficulty:s,initialMode:u,highlightName:x||void 0,onClose:()=>b(!1)})]})},U2=["1","2","3","4","5","6","7","8","9"],L2=({question:r,sequence:e,input:i,error:s,canSubmit:u,onDigit:h,onBackspace:d,onSubmit:y})=>(yt.useEffect(()=>{const v=_=>{_.key>="0"&&_.key<="9"?(_.preventDefault(),h(_.key)):_.key==="Backspace"?(_.preventDefault(),d()):_.key==="Enter"&&u&&(_.preventDefault(),y())};return window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}},[h,d,y,u]),M.jsx("div",{className:"penalty-modal-overlay",role:"dialog","aria-modal":"true",children:M.jsxs("div",{className:"penalty-modal",children:[M.jsx("h3",{children:""}),M.jsxs("div",{className:"penalty-equation",children:[r.num1,"  ",r.num2," = ",r.answer]}),M.jsxs("div",{className:"penalty-instruction",children:["",e.join(" ")," Enter  "]}),M.jsx("div",{className:"penalty-boxes",children:e.map((v,_)=>{const A=_<i.length;return M.jsx("div",{className:`penalty-box ${A?"filled":""}`,children:A?i[_]:""},`penalty-box-${_}`)})}),s&&M.jsx("div",{className:"penalty-error",children:s}),M.jsx("div",{className:"penalty-keyboard",children:M.jsxs("div",{className:"penalty-keyboard-grid",children:[U2.map(v=>M.jsx("button",{type:"button",className:"penalty-key",onClick:()=>h(v),children:v},v)),M.jsx("button",{type:"button",className:"penalty-key action backspace",onClick:d,children:" "}),M.jsx("button",{type:"button",className:"penalty-key zero",onClick:()=>h("0"),children:"0"}),M.jsx("button",{type:"button",className:"penalty-key action submit",onClick:y,disabled:!u,children:" "})]})})]})})),hd=[{id:1,template:"{num1}{num2}",unit:"",category:""},{id:2,template:"{num1}{num2}",unit:"",category:""},{id:3,template:"{num1}{num2}",unit:"",category:""},{id:4,template:"{num1}{num2}",unit:"",category:""},{id:5,template:"{num1}{num2}",unit:"",category:""},{id:6,template:"{num1}{num2}",unit:"",category:""},{id:7,template:"{num1}{num2}",unit:"",category:""},{id:8,template:"{num1}{num2}",unit:"",category:""},{id:9,template:"{num1}{num2}",unit:"",category:""},{id:10,template:"{num1}{num2}",unit:"",category:""},{id:11,template:"{num1}{num2}",unit:"",category:""},{id:12,template:"{num1}{num2}",unit:"",category:""},{id:13,template:"{num1}{num2}",unit:"",category:""},{id:14,template:"{num1}{num2}",unit:"",category:""},{id:15,template:"{num1}{num2}",unit:"",category:""},{id:16,template:"{num1}{num2}",unit:"",category:""},{id:17,template:"{num1}{num2}",unit:"",category:""},{id:18,template:"{num1}{num2}",unit:"",category:""},{id:19,template:"{num1}{num2}",unit:"",category:""},{id:20,template:"{num1}{num2}",unit:"",category:""},{id:21,template:"{num1}{num2}",unit:"",category:""},{id:22,template:"{num1}{num2}",unit:"",category:""},{id:23,template:"{num1}{num2}",unit:"",category:""},{id:24,template:"{num1}{num2}",unit:"",category:""},{id:25,template:"{num1}{num2}",unit:"",category:""},{id:26,template:"{num1}{num2}",unit:"",category:""},{id:27,template:"{num1}{num2}",unit:"",category:""},{id:28,template:"{num1}{num2}",unit:"",category:""},{id:29,template:"{num1}{num2}{num2}{num1}{num2}=",unit:"",category:""},{id:30,template:"{num1}{num2}",unit:"",category:""},{id:31,template:"{num1}{num2}",unit:"",category:""},{id:32,template:"{num1}{num2}",unit:"",category:""},{id:33,template:"{num1}{num2}",unit:"",category:""},{id:34,template:"{num1}{num2}",unit:"",category:""},{id:35,template:"{num1}{num2}",unit:"",category:""},{id:36,template:"{num1}{num2}",unit:"",category:""},{id:37,template:"{num1}{num2}",unit:"",category:""},{id:38,template:"{num1}{num2}",unit:"",category:""},{id:39,template:"{num1}{num2}",unit:"",category:""},{id:40,template:"{num1}{num2}",unit:"",category:""},{id:41,template:"{num1}{num2}",unit:"",category:""},{id:42,template:"{num1}{num2}",unit:"",category:""},{id:43,template:"{num1}{num2}",unit:"",category:""},{id:44,template:"{num1}{num2}",unit:"",category:""},{id:45,template:"{num1}{num2}",unit:"",category:""},{id:46,template:"{num1}{num2}",unit:"",category:""},{id:47,template:"{num1}{num2}",unit:"",category:""},{id:48,template:"{num1}{num2}",unit:"",category:""},{id:49,template:"{num1}{num2}",unit:"",category:""},{id:50,template:"{num1}{num2}",unit:"",category:""},{id:51,template:"{num1}{num2}",unit:"",category:""},{id:52,template:"{num1}{num2}",unit:"",category:""},{id:53,template:"{num1}{num2}",unit:"",category:""},{id:54,template:"{num1}{num2}",unit:"",category:""},{id:55,template:"{num1}{num2}",unit:"",category:""},{id:56,template:"{num1}{num2}",unit:"",category:""},{id:57,template:"{num1}{num2}",unit:"",category:""},{id:58,template:"{num1}{num2}",unit:"",category:""},{id:59,template:"{num1}{num2}",unit:"",category:""},{id:60,template:"{num1}{num2}",unit:"",category:""},{id:61,template:"{num1}{num2}",unit:"",category:""},{id:62,template:"{num1}{num2}",unit:"",category:""},{id:63,template:"{num1}{num2}",unit:"",category:""},{id:64,template:"{num1}{num2}",unit:"",category:""},{id:65,template:"{num1}{num2}",unit:"",category:""},{id:66,template:"{num1}{num2}",unit:"",category:""},{id:67,template:"{num1}{num2}",unit:"",category:""},{id:68,template:"{num1}{num2}",unit:"",category:""},{id:69,template:"{num1}{num2}",unit:"",category:""},{id:70,template:"{num1}{num2}",unit:"",category:""},{id:71,template:"{num1}{num2}",unit:"",category:""},{id:72,template:"{num1}{num2}",unit:"",category:""},{id:73,template:"{num1}{num2}",unit:"",category:""},{id:74,template:"{num1}{num2}",unit:"",category:""},{id:75,template:"{num1}{num2}",unit:"",category:""},{id:76,template:"{num1}{num2}",unit:"",category:""},{id:77,template:"{num1}{num2}",unit:"",category:""},{id:78,template:"{num1}{num2}",unit:"",category:""},{id:79,template:"{num1}{num2}",unit:"",category:""},{id:80,template:"{num1}{num2}",unit:"",category:""},{id:81,template:"{num1}{num2}",unit:"",category:""},{id:82,template:"{num1}{num2}",unit:"",category:""},{id:83,template:"{num1}{num2}",unit:"",category:""},{id:84,template:"{num1}{num2}",unit:"",category:""},{id:85,template:"{num1}{num2}",unit:"",category:""},{id:86,template:"{num1}{num2}",unit:"",category:""},{id:87,template:"{num1}{num2}",unit:"",category:""},{id:88,template:"{num1}{num2}",unit:"",category:""},{id:89,template:"{num1}{num2}",unit:"",category:""},{id:90,template:"{num1}{num2}",unit:"",category:""},{id:91,template:"{num1}{num2}",unit:"",category:""},{id:92,template:"{num1}{num2}",unit:"",category:""},{id:93,template:"{num1}{num2}",unit:"",category:""},{id:94,template:"{num1}{num2}",unit:"",category:""},{id:95,template:"{num1}{num2}",unit:"",category:""},{id:96,template:"{num1}{num2}",unit:"",category:""},{id:97,template:"{num1}{num2}",unit:"",category:""},{id:98,template:"{num1}{num2}",unit:"",category:""},{id:99,template:"{num1}{num2}",unit:"",category:""},{id:100,template:"{num1}{num2}",unit:"",category:""}];[...new Set(hd.map(r=>r.category))];const j2=r=>{const e=r?.length?hd.filter(i=>r.includes(i.category)):hd;return e[Math.floor(Math.random()*e.length)]},B2=(r=[...Pi])=>{const e=r.length?r:[...Pi],i=e[Math.floor(Math.random()*e.length)],s=Math.floor(Math.random()*8)+2;return{num1:i,num2:s,answer:i*s}},q2=(r=[...Pi],e)=>{const i=r.length?r:[...Pi],s=i[Math.floor(Math.random()*i.length)],u=Math.floor(Math.random()*8)+2,h=s*u,d=j2(e),y=d.template.replace(/{num1}/g,String(s)).replace(/{num2}/g,String(u));return{num1:s,num2:u,answer:h,narrative:y,unit:d.unit,templateId:d.id}},P2=(r,e)=>{const i=parseInt(e,10);return!isNaN(i)&&i===r.answer},k2=(r,e)=>{if(e.length<3)return!1;const i=parseInt(e[0],10),s=parseInt(e[1],10),u=parseInt(e.slice(2),10);return i*s===r.answer&&u===r.answer};function H2(){const[r,e]=yt.useState(null),[i,s]=yt.useState(0),[u,h]=yt.useState(0),[d,y]=yt.useState(0),[v,_]=yt.useState(null),[A,b]=yt.useState(!1),[x,Q]=yt.useState(!1),[W,J]=yt.useState(""),[$,ut]=yt.useState(0),[nt,it]=yt.useState(()=>[...Pi]),[gt,Rt]=yt.useState(null),[Ct,w]=yt.useState(""),[S,N]=yt.useState("basic"),[O,D]=yt.useState(!1),U=yt.useRef(null),R=yt.useRef(null),te=!!gt,he=pt=>{it(ft=>ft.includes(pt)?ft.filter(Ze=>Ze!==pt):[...ft,pt].sort((Ze,On)=>Ze-On))},H=()=>{it([...Pi])},tt=yt.useCallback(()=>{U.current&&(clearTimeout(U.current),U.current=null)},[]),ht=yt.useCallback(()=>{r&&(R.current=Date.now()+r.questionSpeed,ut(r.questionSpeed))},[r]),Vt=yt.useCallback(function pt(){if(_(S==="narrative"?q2(nt):B2(nt)),J(""),!r||!A){tt(),R.current=null,ut(0);return}ht(),tt(),U.current=window.setTimeout(()=>{h(ft=>ft+1),pt()},r.questionSpeed)},[r,A,ht,tt,nt,S]),Ht=yt.useCallback(pt=>{const ft=`${pt.num1}${pt.num2}${pt.answer}`.split("");Rt({question:pt,sequence:ft,input:"",isSequenceComplete:!1}),w(""),J(""),tt(),R.current=null,ut(0)},[tt]),I=yt.useCallback(()=>{Rt(null),w(""),Vt()},[Vt]),Y=yt.useCallback(pt=>{/^[0-9]$/.test(pt)&&Rt(ft=>{if(!ft||ft.isSequenceComplete)return ft;const Ze=ft.sequence[ft.input.length];if(pt!==Ze)return w(""),ft;const On=ft.input+pt;w("");const Fi=On.length===ft.sequence.length;return{...ft,input:On,isSequenceComplete:Fi}})},[]),at=yt.useCallback(()=>{Rt(pt=>{if(!pt||pt.input.length===0)return pt;const ft=pt.input.slice(0,-1);return{...pt,input:ft,isSequenceComplete:ft.length===pt.sequence.length}}),w("")},[]),rt=yt.useCallback(()=>{if(gt){if(!gt.isSequenceComplete){w("");return}I()}},[I,gt]);yt.useEffect(()=>{if(!A||d<=0)return;const pt=setInterval(()=>{y(ft=>ft<=1?(b(!1),Q(!0),0):ft-1)},1e3);return()=>clearInterval(pt)},[A,d]),yt.useEffect(()=>{if(!A||!r){tt(),R.current=null,ut(0);return}return Vt(),()=>{tt()}},[A,r,Vt,tt]),yt.useEffect(()=>{if(!A||!r)return;const pt=window.setInterval(()=>{if(!R.current)return;const ft=Math.max(0,R.current-Date.now());ut(ft)},100);return()=>{clearInterval(pt)}},[A,r]);const Et=pt=>{nt.length!==0&&(e(pt),s(0),h(0),y(pt.timeLimit),b(!0),Q(!1),J(""),ut(pt.questionSpeed),Rt(null),w(""))},bt=()=>{if(!v||!W||te)return;if(h(ft=>ft+1),S==="narrative"&&j_(v)?k2(v,W):P2(v,W)){s(ft=>ft+1),Vt();return}Ht(v)},Ot=()=>{e(null),s(0),h(0),y(0),_(null),b(!1),Q(!1),J(""),ut(0),R.current=null,tt(),Rt(null),w("")};if(x&&r){const pt=r.timeLimit-d,ft=B_.some(Ze=>Ze.name===r.name)?r.name:"";return M.jsx(z2,{score:i,attempts:u,timeUsed:pt,difficulty:ft,questionMode:S,onRestart:Ot})}return!A||!v||!r?M.jsxs(M.Fragment,{children:[M.jsx(_T,{onSelectDifficulty:Et,selectedTables:nt,onToggleTable:he,onResetTables:H,questionMode:S,onSelectMode:N,onShowLeaderboard:()=>D(!0)}),O&&M.jsx(IE,{onClose:()=>D(!1)})]}):M.jsxs(M.Fragment,{children:[M.jsx(ET,{question:v,userInput:W,score:i,timeRemaining:d,onInputChange:J,onSubmit:bt,questionCountdownMs:$,questionIntervalMs:r.questionSpeed,isPenaltyActive:te,questionMode:S}),gt&&M.jsx(L2,{question:gt.question,sequence:gt.sequence,input:gt.input,error:Ct,canSubmit:gt.isSequenceComplete,onDigit:Y,onBackspace:at,onSubmit:rt})]})}yT.createRoot(document.getElementById("root")).render(M.jsx(yt.StrictMode,{children:M.jsx(H2,{})}));
